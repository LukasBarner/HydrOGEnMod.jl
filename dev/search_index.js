var documenterSearchIndex = {"docs":
[{"location":"mathematical_formulation/notation/primal_variables/#Primal-Variables","page":"Primal Variables","title":"Primal Variables","text":"","category":"section"},{"location":"mathematical_formulation/notation/primal_variables/","page":"Primal Variables","title":"Primal Variables","text":"Variable Explanation\nq^P rightarrow T_pcomy Quantity of commodity c from origin o sold from producer p to trader in time step m of year y.\nDelta^I_piby Expansion of producer p's capacity to procure input i from block b, invested in year y.\nDelta^P_pcoy Expansion of producer p's yearly capacity to produce commodity c from origin o, invested in year y.\nq^I_pibmy Quantity of input i procured by producer p each time step m in year y, valid in block b.\nq^T leftarrow P_tncomy Quantity of commodity c from origin o acquired by trader t in node n during time step m of year y.\nq^T rightarrow D_tncbomy Quantity of commodity c from origin o sold by trader t to demand block b in node n during time step m of year y.\nq^T rightarrow V_tncomy Quantity of commodity c from origin o sold by trader t to converter in node n during time step m of year y.\nq^T leftarrow V_tncomy Quantity of commodity c from origin o sold to trader t by converter in node n during time step m of year y.\nq^T rightarrow S_tncomy Quantity of commodity c sold by trader t to storage in node n during time step m of year y.\nq^T leftarrow S_tncomy Quantity of commodity c sold to trader t by storage in node n during time step m of year y.\nq^T_tacomy Flow of commodity c belonging to trader t on arc a during time step m of year y.\nq^V_vtccomy Commodity c converted to c of origin o by converter v on behalf of trader t during time step m of year y.\nDelta^V_vccy Conversion capacity expansion from commodity c to c of year y.\nDelta^RV_vrrccy Conversion capacity repurposing from rr to cc during year y.\nq^A_acmy Total flow of commodity c on arc a during time step m of year y.\nDelta^A_acy Transport capacity expansion for commodity c on arc a, invested in year y.\nDelta^RA_arcy Transport capacity repurposing from commodity r to c on arc a in year y.\nq^S_stcomy Total quantity of commodity c from origin o stored at the beginning of time step m by storage system operator s on behalf of trader t in year y.\nq^S_in_stcomy Quantity of commodity c from origin o injected into storage during time step m by storage system operator s on behalf of trader t in year y.\nq^S_out_stcomy Quantity of commodity c from origin o extracted from storage during time step m by storage system operator s on behalf of trader t in year y.\nDelta^S_scy Storage capacity expansion for commodity c by storage system operator s in year y.\nDelta^RS_srcy Storage capacity repurposing from commodity r to c by storage system operator s in year y.\nQ^T rightarrow D_ncbmy Aggregate supply of commodity c to block b in node n.","category":"page"},{"location":"tests/test_cases/test_case_19/#Test-Case-19","page":"Test Case 19","title":"Test Case 19","text":"","category":"section"},{"location":"tests/test_cases/test_case_19/","page":"Test Case 19","title":"Test Case 19","text":"Test Case 19 is structurally similar to Test Case 7 and asserts, that trade restrictions by origin work as intended. As can be seen from the tables below, trade of cheaper CNG from renewable electricity is restricted. The test is passed, if prices remain the same, but only fossil natural gas is produced. This is because fossil CNG had been price setting at 05 in Test Case 7 already. Passing criteria can be seen below, while the figure depicts a graphical solution.","category":"page"},{"location":"tests/test_cases/test_case_19/#Sets","page":"Test Case 19","title":"Sets","text":"","category":"section"},{"location":"tests/test_cases/test_case_19/","page":"Test Case 19","title":"Test Case 19","text":"Set Name Set Value\nmathcalA DEU_to_DEU\nmathcalAC (DEU_to_DEU CNG)\nmathcalC CNG\nmathcalDSB Block 1\nmathcalI Natural GasRenewable Electricity\nmathcalIOB Block 1\nmathcalM OnlyTimeStep\nmathcalN DEU\nmathcalO FESRES\nmathcalP P_DEU\nmathcalRA ∅\nmathcalRS ∅\nmathcalRV ∅\nmathcalS ∅\nmathcalT T_DEU\nmathcalV ∅\nmathcalVT ∅\nmathcalY 2020","category":"page"},{"location":"tests/test_cases/test_case_19/#Parameters","page":"Test Case 19","title":"Parameters","text":"","category":"section"},{"location":"tests/test_cases/test_case_19/","page":"Test Case 19","title":"Test Case 19","text":"Parameter y=2020\nfrac1  Delta _y 1\nmathds1^NC_T_DEUDEUCNG 0\nr_y 1\nd_OnlyTimeStep 1\nc^P_P_DEUCNGFESy 025\nc^Delta P_P_DEUCNGFESy 10\nfi^P_CNGNatural GasFES 1\nfi^P_CNGRenewable ElectricityFES 0\nL^P_CNGFES 50\nLambda^P_P_DEUCNGFESy 10\nc^P_P_DEUCNGRESy 025\nc^Delta P_P_DEUCNGRESy 10\nfi^P_CNGRenewable ElectricityRES 2\nfi^P_CNGNatural GasRES 0\nL^P_CNGRES 50\nLambda^P_P_DEUCNGRESy 10\nLambda^I_P_DEUNatural GasBlock 1y 10\nLambda^I_P_DEURenewable ElectricityBlock 1y 10\nOmega^I_P_DEUNatural GasBlock 1y 0\nOmega^I_P_DEURenewable ElectricityBlock 1y 0\nc^Delta^I_P_DEUNatural GasBlock 1y 0\nc^Delta^I_P_DEURenewable ElectricityBlock 1y 0\nLambda^T_T_DEUDEUCNGFESy 10\nOmega^P_P_DEUCNGFESy 10\nOmega^P_P_DEUCNGRESy 10\nl^A_DEU_to_DEUCNG 0\nc^A_DEU_to_DEUCNGy 0\nc^Delta A_DEU_to_DEUCNGy 0\nLambda^A_DEU_to_DEUCNGy 0\nL^A_CNG 50\nc^I_l_P_DEUNatural GasBlock 1OnlyTimeStepy 025\nc^I_q_P_DEUNatural GasBlock 1OnlyTimeStepy 0\nav^I_P_DEUNatural GasBlock 1OnlyTimeStep 1\nc^I_l_P_DEURenewable ElectricityBlock 1OnlyTimeStepy 01\nc^I_q_P_DEURenewable ElectricityBlock 1OnlyTimeStepy 0025\nav^I_P_DEURenewable ElectricityBlock 1OnlyTimeStep 1\nalpha^D_DEUCNGBlock 1OnlyTimeStepy 2\nbeta^D_DEUCNGBlock 1OnlyTimeStepy -1","category":"page"},{"location":"tests/test_cases/test_case_19/#Test-Criteria","page":"Test Case 19","title":"Test Criteria","text":"","category":"section"},{"location":"tests/test_cases/test_case_19/","page":"Test Case 19","title":"Test Case 19","text":"Expression Result y=2020\ntildeP^T rightarrow D_DEUCNGBlock 1OnlyTimeStepy 05\nq^I_P_DEUNatural GasOnlyTimeStepy 1\nq^I_P_DEURenewable ElectricityOnlyTimeStepy 1","category":"page"},{"location":"tests/test_cases/test_case_19/#test_case_19_graphical_solution","page":"Test Case 19","title":"Graphical Solution","text":"","category":"section"},{"location":"tests/test_cases/test_case_19/#Marginalized-Provision-Costs-and-Prices","page":"Test Case 19","title":"Marginalized Provision Costs and Prices","text":"","category":"section"},{"location":"tests/test_cases/test_case_19/","page":"Test Case 19","title":"Test Case 19","text":"(Image: test_case_19_graphic)","category":"page"},{"location":"tests/test_cases/test_case_22/#Test-Case-22","page":"Test Case 22","title":"Test Case 22","text":"","category":"section"},{"location":"tests/test_cases/test_case_22/","page":"Test Case 22","title":"Test Case 22","text":"Test Case 22 asserts that repurposing of storage capacities works as intended, including repurposing factors. The tables below describe an extended version of Test Case 5 with two commodities and years instead of one. In addition, an overview of test criteria and a graphical solution is displayed.","category":"page"},{"location":"tests/test_cases/test_case_22/#Sets","page":"Test Case 22","title":"Sets","text":"","category":"section"},{"location":"tests/test_cases/test_case_22/","page":"Test Case 22","title":"Test Case 22","text":"Set Name Set Value\nmathcalA DEU_to_DEU\nmathcalAC (DEU_to_DEU CNG) (DEU_to_DEU GH2)\nmathcalC CNGGH2\nmathcalDSB Block 1\nmathcalI Natural Gas\nmathcalIOB Block 1\nmathcalM LH\nmathcalN DEU\nmathcalO FES\nmathcalP P_DEU\nmathcalRA ∅\nmathcalRS (CNGGH2)\nmathcalRV ∅\nmathcalS S_DEU\nmathcalT T_DEU\nmathcalV ∅\nmathcalVT ∅\nmathcalY 20202021","category":"page"},{"location":"tests/test_cases/test_case_22/#Parameters","page":"Test Case 22","title":"Parameters","text":"","category":"section"},{"location":"tests/test_cases/test_case_22/","page":"Test Case 22","title":"Test Case 22","text":"Parameter y=2020 m=L y=2020 m=H y=2021 m=L y=2021 m=H\nfrac1  Delta _y 1 1 1 1\n1^NC_T_DEUDEUCNG 0 0 0 0\n1^NC_T_DEUDEUGH2 0 0 0 0\nr_y 1 1 1 1\nd_m 2 1 2 1\nc^P_P_DEUCNGFESy 04 04 04 04\nc^Delta P_P_DEUCNGFESy 1 1 1 1\nfi^P_CNGNatural GasFES 1 1 1 1\nL^P_CNGFES 50 50 50 50\nLambda^P_P_DEUCNGFESy 10 10 10 10\nc^P_P_DEUGH2FESy 03 03 03 03\nc^Delta P_P_DEUGH2FESy 1 1 1 1\nfi^P_GH2Natural GasFES 1 1 1 1\nL^P_GH2FES 50 50 50 50\nLambda^P_P_DEUGH2FESy 10 10 10 10\nLambda^I_P_DEUNatural GasBlock 1y 10 10 10 10\nOmega^I_P_DEUNatural GasBlock 1y 0 0 0 0\nc^Delta^I_P_DEUNatural GasBlock 1y 0 0 0 0\nLambda^T_T_DEUDEUCNGFESy 10 10 10 10\nLambda^T_T_DEUDEUGH2FESy 10 10 10 10\nOmega^P_P_DEUCNGFESy 10 10 10 10\nOmega^P_P_DEUGH2FESy 10 10 10 10\nl^A_DEU_to_DEUCNG 0 0 0 0\nl^A_DEU_to_DEUGH2 0 0 0 0\nc^A_DEU_to_DEUCNGy 0 0 0 0\nc^A_DEU_to_DEUGH2y 0 0 0 0\nc^Delta A_DEU_to_DEUCNGy 0 0 0 0\nc^Delta A_DEU_to_DEUGH2y 0 0 0 0\nLambda^A_DEU_to_DEUCNGy 0 0 0 0\nLambda^A_DEU_to_DEUGH2y 0 0 0 0\nL^A_CNG 50 50 50 50\nL^A_GH2 50 50 50 50\nl^S_CNGmL 0 0 0 0\nl^S_CNGmH 0 0 0 0\nc^S_in_S_DEUCNGy 005 005 005 005\nc^S_out_S_DEUCNGy 005 005 005 005\nc^Delta S_S_DEUCNGy 10 10 10 10\nl^S_GH2mL 0 0 0 0\nl^S_GH2mH 0 0 0 0\nc^S_S_DEUGH2mHy 01 01 01 01\nc^S_S_DEUGH2mLy 01 01 01 01\nc^Delta S_S_DEUGH2y 10 10 10 10\nc^Delta^RS_S_DEUCNGGH2y 005 005 0025 0025\nf^RS_CNGGH2 05 05 05 05\nLambda^S_S_DEUCNGy 10 10 10 10\nLambda^S_S_DEUGH2y 10 10 10 10\nOmega^S_S_DEUCNGy 10 10 10 10\nOmega^S_S_DEUGH2y 10 10 10 10\nL^S_CNG 10 10 10 10\nL^S_GH2 10 10 10 10\nc^I_l_P_DEUNatural GasBlock 1my 05 1 05 1\nc^I_q_P_DEUNatural GasBlock 1my 0 0 0 0\nav^I_P_DEUNatural GasBlock 1m 1 1 1 1\nalpha^D_DEUCNGBlock 1my 0 2 0 0\nbeta^D_DEUCNGBlock 1my 0 -1 0 0\nalpha^D_DEUGH2Block 1my 0 0 0 2\nbeta^D_DEUGH2Block 1my 0 0 0 -1","category":"page"},{"location":"tests/test_cases/test_case_22/#Test-Criteria","page":"Test Case 22","title":"Test Criteria","text":"","category":"section"},{"location":"tests/test_cases/test_case_22/","page":"Test Case 22","title":"Test Case 22","text":"Expression Result y=2020 m=L Result y=2020 m=H Result y=2021 m=L Result y=2021 m=H\ntildeP^T rightarrow D_DEUCNGBlock 1my 00 10 00 00\ntildeP^T rightarrow D_DEUCNGBlock 1my 00 00 00 10\nq^I_P_DEUNatural GasBlock 1my 05 00 05 00","category":"page"},{"location":"tests/test_cases/test_case_22/#Graphical-Solution","page":"Test Case 22","title":"Graphical Solution","text":"","category":"section"},{"location":"tests/test_cases/test_case_22/#Illustration-for-Different-Years,-Commodities-and-Time-Steps","page":"Test Case 22","title":"Illustration for Different Years, Commodities and Time Steps","text":"","category":"section"},{"location":"tests/test_cases/test_case_22/#Time-Step-L-for-CNG-in-2020","page":"Test Case 22","title":"Time Step L for CNG in 2020","text":"","category":"section"},{"location":"tests/test_cases/test_case_22/","page":"Test Case 22","title":"Test Case 22","text":"(Image: test_case_22a_graphic)","category":"page"},{"location":"tests/test_cases/test_case_22/#Time-Step-H-for-CNG-in-2020","page":"Test Case 22","title":"Time Step H for CNG in 2020","text":"","category":"section"},{"location":"tests/test_cases/test_case_22/","page":"Test Case 22","title":"Test Case 22","text":"(Image: test_case_22b_graphic)","category":"page"},{"location":"tests/test_cases/test_case_22/#Time-Step-L-for-CNG-in-2021","page":"Test Case 22","title":"Time Step L for CNG in 2021","text":"","category":"section"},{"location":"tests/test_cases/test_case_22/","page":"Test Case 22","title":"Test Case 22","text":"(Image: test_case_22c_graphic)","category":"page"},{"location":"tests/test_cases/test_case_22/#Time-Step-H-for-CNG-in-2021","page":"Test Case 22","title":"Time Step H for CNG in 2021","text":"","category":"section"},{"location":"tests/test_cases/test_case_22/","page":"Test Case 22","title":"Test Case 22","text":"(Image: test_case_22d_graphic)","category":"page"},{"location":"tests/test_cases/test_case_22/#Time-Step-L-for-GH2-in-2020","page":"Test Case 22","title":"Time Step L for GH2 in 2020","text":"","category":"section"},{"location":"tests/test_cases/test_case_22/","page":"Test Case 22","title":"Test Case 22","text":"(Image: test_case_22e_graphic)","category":"page"},{"location":"tests/test_cases/test_case_22/#Time-Step-H-for-GH2-in-2020","page":"Test Case 22","title":"Time Step H for GH2 in 2020","text":"","category":"section"},{"location":"tests/test_cases/test_case_22/","page":"Test Case 22","title":"Test Case 22","text":"(Image: test_case_22f_graphic)","category":"page"},{"location":"tests/test_cases/test_case_22/#Time-Step-L-for-GH2-in-2021","page":"Test Case 22","title":"Time Step L for GH2 in 2021","text":"","category":"section"},{"location":"tests/test_cases/test_case_22/","page":"Test Case 22","title":"Test Case 22","text":"(Image: test_case_22g_graphic)","category":"page"},{"location":"tests/test_cases/test_case_22/#Time-Step-H-for-GH2-in-2021","page":"Test Case 22","title":"Time Step H for GH2 in 2021","text":"","category":"section"},{"location":"tests/test_cases/test_case_22/","page":"Test Case 22","title":"Test Case 22","text":"(Image: test_case_22h_graphic)","category":"page"},{"location":"tests/test_cases/test_case_28/#Test-Case-28","page":"Test Case 28","title":"Test Case 28","text":"","category":"section"},{"location":"tests/test_cases/test_case_28/","page":"Test Case 28","title":"Test Case 28","text":"Test Case 28 is used to assert correct working of adjacency structures for arc capacity repurposing. All parameters are the same as in Test Case 21, however commodity-specific adjacency prohibits flows (since mathcalAC is empty). The tables below depict the sets and parameters. In addition, tests and a graphical solution are depicted. ","category":"page"},{"location":"tests/test_cases/test_case_28/","page":"Test Case 28","title":"Test Case 28","text":"The implementation in the testing routine features two separate runs for shipping and pipelines (denoted by case 28a and 28b), however, mathematical model data remain unchanged. ","category":"page"},{"location":"tests/test_cases/test_case_28/#Sets","page":"Test Case 28","title":"Sets","text":"","category":"section"},{"location":"tests/test_cases/test_case_28/","page":"Test Case 28","title":"Test Case 28","text":"Set Name Set Value\nmathcalA DEU_to_DEUDEU_to_NLDNLD_to_DEUNLD_to_NLD\nmathcalAC ∅\nmathcalC CNGGH2\nmathcalDSB Block 1\nmathcalI Natural Gas\nmathcalIOB Block 1\nmathcalM OnlyTimeStep\nmathcalN DEUNLD\nmathcalO FES\nmathcalP P_DEUP_NLD\nmathcalRA ∅\nmathcalRS ∅\nmathcalRV ∅\nmathcalS ∅\nmathcalT T_DEUT_NLD\nmathcalV ∅\nmathcalVT ∅\nmathcalY 20202021","category":"page"},{"location":"tests/test_cases/test_case_28/#Parameters","page":"Test Case 28","title":"Parameters","text":"","category":"section"},{"location":"tests/test_cases/test_case_28/","page":"Test Case 28","title":"Test Case 28","text":"Parameter y=2020 y=2021\nfrac1  Delta _y 1 1\n1^NC_T_DEUDEUCNG 0 0\n1^NC_T_DEUNLDCNG 0 0\n1^NC_T_NLDDEUCNG 0 0\n1^NC_T_NLDNLDCNG 0 0\n1^NC_T_DEUDEUGH2 0 0\n1^NC_T_DEUNLDGH2 0 0\n1^NC_T_NLDDEUGH2 0 0\n1^NC_T_NLDNLDGH2 0 0\nr_y 1 1\nd_OnlyTimeStep 1 1\nc^P_P_DEUCNGFESy 05 05\nc^Delta P_P_DEUCNGFESy 1 1\nc^P_P_NLDCNGFESy 05 05\nc^Delta P_P_NLDCNGFESy 1 1\nfi^P_CNGNatural GasFES 1 1\nL^P_CNGFES 50 50\nLambda^P_P_DEUCNGFESy 10 10\nc^P_P_DEUGH2FESy 04 04\nc^Delta P_P_DEUGH2FESy 1 1\nc^P_P_NLDGH2FESy 05 05\nc^Delta P_P_NLDGH2FESy 1 1\nfi^P_GH2Natural GasFES 1 1\nL^P_GH2FES 50 50\nLambda^P_P_DEUGH2FESy 10 10\nLambda^I_P_DEUNatural GasBlock 1y 10 10\nOmega^I_P_DEUNatural GasBlock 1y 0 0\nc^Delta^I_P_DEUNatural GasBlock 1y 0 0\nLambda^T_T_DEUDEUCNGFESy 10 10\nLambda^T_T_DEUNLDCNGFESy 10 10\nLambda^T_T_DEUDEUGH2FESy 10 10\nLambda^T_T_DEUNLDGH2FESy 10 10\nOmega^P_P_DEUCNGFESy 10 10\nOmega^P_P_DEUGH2FESy 10 10\nLambda^P_P_NLDCNGFESy 10 10\nLambda^P_P_NLDGH2FESy 10 10\nLambda^I_P_NLDNatural GasBlock 1y 10 10\nOmega^I_P_NLDNatural GasBlock 1y 0 0\nc^Delta^I_P_NLDNatural GasBlock 1y 0 0\nLambda^T_T_NLDDEUCNGFESy 10 10\nLambda^T_T_NLDDEUGH2FESy 10 10\nLambda^T_T_NLDNLDCNGFESy 10 10\nLambda^T_T_NLDNLDGH2FESy 10 10\nOmega^P_P_NLDCNGFESy 10 10\nOmega^P_P_NLDGH2FESy 10 10\nl^A_DEU_to_DEUCNG 00 00\nl^A_DEU_to_NLDCNG 00 00\nl^A_NLD_to_DEUCNG 01 01\nl^A_NLD_to_NLDCNG 00 00\nl^A_DEU_to_DEUGH2 00 00\nl^A_DEU_to_NLDGH2 00 00\nl^A_NLD_to_DEUGH2 01 01\nl^A_NLD_to_NLDGH2 00 00\nc^A_DEU_to_DEUCNGy 00 00\nc^A_DEU_to_NLDCNGy 00 00\nc^A_NLD_to_DEUCNGy 01 01\nc^A_NLD_to_NLDCNGy 00 00\nc^A_DEU_to_DEUGH2y 00 00\nc^A_DEU_to_NLDGH2y 00 00\nc^A_NLD_to_DEUGH2y 01 01\nc^A_NLD_to_NLDGH2y 00 00\nc^Delta A_DEU_to_DEUCNGy 0 0\nc^Delta A_DEU_to_NLDCNGy 10 10\nc^Delta A_NLD_to_DEUCNGy 10 10\nc^Delta A_NLD_to_NLDCNGy 0 0\nc^Delta A_DEU_to_DEUGH2y 0 0\nc^Delta A_DEU_to_NLDGH2y 10 10\nc^Delta A_NLD_to_DEUGH2y 10 10\nc^Delta A_NLD_to_NLDGH2y 0 0\nc^Delta^RA_DEU_to_DEUCNGGH2y 0 0\nc^Delta^RA_DEU_to_NLDCNGGH2y 0 0\nc^Delta^RA_NLD_to_DEUCNGGH2y 0055 0055\nc^Delta^RA_NLD_to_NLDCNGGH2y 0 0\nf^RA_CNGGH2 05 05\nLambda^A_DEU_to_DEUCNGy 0 0\nLambda^A_DEU_to_NLDCNGy 10 10\nLambda^A_NLD_to_DEUCNGy 10 10\nLambda^A_NLD_to_NLDCNGy 0 0\nLambda^A_DEU_to_DEUGH2y 0 0\nLambda^A_DEU_to_NLDGH2y 0 0\nLambda^A_NLD_to_DEUGH2y 0 0\nLambda^A_NLD_to_NLDGH2y 0 0\nL^A_CNG 50 50\nL^A_GH2 50 50\nc^I_l_P_DEUNatural GasBlock 1OnlyTimeStepy 2 2\nc^I_q_P_DEUNatural GasBlock 1OnlyTimeStepy 0 0\nav^I_P_DEUNatural GasBlock 1OnlyTimeStep 1 1\nc^I_l_P_NLDNatural GasBlock 1OnlyTimeStepy 05 05\nc^I_q_P_NLDNatural GasBlock 1OnlyTimeStepy 0 0\nav^I_P_NLDNatural GasBlock 1OnlyTimeStep 1 1\nalpha^D_DEUCNGBlock 1OnlyTimeStepy 2 0\nbeta^D_DEUCNGBlock 1OnlyTimeStepy -1 0\nalpha^D_NLDCNGBlock 1OnlyTimeStepy 0 0\nbeta^D_NLDCNGBlock 1OnlyTimeStepy -1 0\nalpha^D_DEUGH2Block 1OnlyTimeStepy 0 2\nbeta^D_DEUGH2Block 1OnlyTimeStepy 0 -1\nalpha^D_NLDGH2Block 1OnlyTimeStepy 0 0\nbeta^D_NLDGH2Block 1OnlyTimeStepy 0 -1","category":"page"},{"location":"tests/test_cases/test_case_28/#Test-Criteria","page":"Test Case 28","title":"Test Criteria","text":"","category":"section"},{"location":"tests/test_cases/test_case_28/","page":"Test Case 28","title":"Test Case 28","text":"Expression Result y=2020 Result y=2021\ntildeP^T rightarrow D_DEUCNGBlock 1OnlyTimeStepy 2 0\ntildeP^T rightarrow D_NLDCNGBlock 1OnlyTimeStepy 00 00\ntildeP^T rightarrow D_DEUGH2Block 1OnlyTimeStepy 0 2\ntildeP^T rightarrow D_NLDGH2Block 1OnlyTimeStepy 00 00\nq^I_P_DEUNatural GasBlock 1OnlyTimeStepy 00 00\nq^I_P_NLDNatural GasBlock 1OnlyTimeStepy 00 00","category":"page"},{"location":"tests/test_cases/test_case_28/#Graphical-Solution","page":"Test Case 28","title":"Graphical Solution","text":"","category":"section"},{"location":"tests/test_cases/test_case_28/#Marginalized-Provision-Costs-and-Prices-for-Different-Nodes","page":"Test Case 28","title":"Marginalized Provision Costs and Prices for Different Nodes","text":"","category":"section"},{"location":"tests/test_cases/test_case_28/","page":"Test Case 28","title":"Test Case 28","text":"Note: Marginalized costs are depicted as if adjacency was given.","category":"page"},{"location":"tests/test_cases/test_case_28/#Node-NLD-in-2020-for-CNG","page":"Test Case 28","title":"Node NLD in 2020 for CNG","text":"","category":"section"},{"location":"tests/test_cases/test_case_28/","page":"Test Case 28","title":"Test Case 28","text":"(Image: test_case_28a_graphic)","category":"page"},{"location":"tests/test_cases/test_case_28/#Node-DEU-in-2020-for-CNG","page":"Test Case 28","title":"Node DEU in 2020 for CNG","text":"","category":"section"},{"location":"tests/test_cases/test_case_28/","page":"Test Case 28","title":"Test Case 28","text":"(Image: test_case_28b_graphic)","category":"page"},{"location":"tests/test_cases/test_case_28/#Node-NLD-in-2021-for-CNG","page":"Test Case 28","title":"Node NLD in 2021 for CNG","text":"","category":"section"},{"location":"tests/test_cases/test_case_28/","page":"Test Case 28","title":"Test Case 28","text":"(Image: test_case_28c_graphic)","category":"page"},{"location":"tests/test_cases/test_case_28/#Node-DEU-in-2021-for-CNG","page":"Test Case 28","title":"Node DEU in 2021 for CNG","text":"","category":"section"},{"location":"tests/test_cases/test_case_28/","page":"Test Case 28","title":"Test Case 28","text":"(Image: test_case_28d_graphic)","category":"page"},{"location":"tests/test_cases/test_case_28/#Node-NLD-in-2020-for-GH2","page":"Test Case 28","title":"Node NLD in 2020 for GH2","text":"","category":"section"},{"location":"tests/test_cases/test_case_28/","page":"Test Case 28","title":"Test Case 28","text":"(Image: test_case_28e_graphic)","category":"page"},{"location":"tests/test_cases/test_case_28/#Node-DEU-in-2020-for-GH2","page":"Test Case 28","title":"Node DEU in 2020 for GH2","text":"","category":"section"},{"location":"tests/test_cases/test_case_28/","page":"Test Case 28","title":"Test Case 28","text":"(Image: test_case_28f_graphic)","category":"page"},{"location":"tests/test_cases/test_case_28/#Node-NLD-in-2021-for-GH2","page":"Test Case 28","title":"Node NLD in 2021 for GH2","text":"","category":"section"},{"location":"tests/test_cases/test_case_28/","page":"Test Case 28","title":"Test Case 28","text":"(Image: test_case_28g_graphic)","category":"page"},{"location":"tests/test_cases/test_case_28/#Node-DEU-in-2021-for-GH2","page":"Test Case 28","title":"Node DEU in 2021 for GH2","text":"","category":"section"},{"location":"tests/test_cases/test_case_28/","page":"Test Case 28","title":"Test Case 28","text":"(Image: test_case_28h_graphic)","category":"page"},{"location":"tests/test_cases/test_case_11/#Test-Case-11","page":"Test Case 11","title":"Test Case 11","text":"","category":"section"},{"location":"tests/test_cases/test_case_11/","page":"Test Case 11","title":"Test Case 11","text":"Test Case 11 tests production capacity expansion, including scaling of investment costs and lifetimes. The tables below depict the sets and parameters, respectively. Input, production and conversion costs during all periods amount to 06 for CNG and 09 for GH2. However, there exists no demand for CNG and no production capacity is available in any period. Capacity expansion comes at a unit cost of 05, which is rescaled to 01 per modeled year. Lifetimes of investments are assumed to be 5 years. In combination with the model time steps of five years, investment costs behave like marginalized costs and can be added on top. Prices in 2025 will be P=09+01, since demand is able to justify an investment. However, invested capacities from 2020 should not carry over to 2030, and the inverse demand intercept of 0.99 does not justify additional investments. Hence, prices for GH2 should be P=0, P=1, P=099, in 2020, 2025 and 2030 respectively, while there exists no demand for CNG. In addition, production capacity of 1 should be invested in 2020 for CNG, while no investments should be made in 2025 and 2030 as well as for GH2. Tests pass if all these criteria are met, as can be seen from the table below. The figure below depicts a graphical solution.","category":"page"},{"location":"tests/test_cases/test_case_11/#Sets","page":"Test Case 11","title":"Sets","text":"","category":"section"},{"location":"tests/test_cases/test_case_11/","page":"Test Case 11","title":"Test Case 11","text":"Set Name Set Value\nmathcalA DEU_to_DEU\nmathcalAC (DEU_to_DEU CNG) (DEU_to_DEU GH2)\nmathcalC CNGGH2\nmathcalDSB Block 1\nmathcalI Natural Gas\nmathcalIOB Block 1\nmathcalM OnlyTimeStep\nmathcalN DEU\nmathcalO FES\nmathcalP P_DEU\nmathcalRA ∅\nmathcalRS ∅\nmathcalRV ∅\nmathcalS ∅\nmathcalT T_DEU\nmathcalV V_DEU\nmathcalVT (CNGGH2)\nmathcalY 202020252030","category":"page"},{"location":"tests/test_cases/test_case_11/#Parameters","page":"Test Case 11","title":"Parameters","text":"","category":"section"},{"location":"tests/test_cases/test_case_11/","page":"Test Case 11","title":"Test Case 11","text":"Parameter y=2020 y=2025 y=2030\nfrac1  Delta _y 02 02 02\n1^NC_T_DEUDEUCNG 0 0 0\nr_y 1 1 1\nd_OnlyTimeStep 1 1 1\nc^P_P_DEUCNGFESy 03 03 03\nc^Delta P_P_DEUCNGFESy 05 05 05\nfi^P_CNGNatural GasFES 1 1 1\nL^P_CNGFES 50 50 50\nLambda^P_P_DEUCNGFESy 0 0 0\nc^P_P_DEUGH2FESy 13 13 13\nc^Delta P_P_DEUGH2FESy 05 05 05\nfi^P_GH2Natural GasFES 1 1 1\nL^P_GH2FES 50 50 50\nLambda^P_P_DEUGH2FESy 0 0 0\nLambda^I_P_DEUNatural GasBlock 1y 10 10 10\nOmega^I_P_DEUNatural GasBlock 1y 0 0 0\nc^Delta^I_P_DEUNatural GasBlock 1y 0 0 0\nLambda^T_T_DEUDEUCNGFESy 10 10 10\nLambda^T_T_DEUDEUGH2FESy 10 10 10\nOmega^P_P_DEUCNGFESy 10 10 10\nOmega^P_P_DEUGH2FESy 10 10 10\nfi^V_CNGGH2 1 1 1\nl^A_DEU_to_DEUCNG 0 0 0\nl^A_DEU_to_DEUGH2 0 0 0\nc^V_V_DEUCNGGH2y 03 03 03\nc^Delta V_V_DEUCNGGH2y 10 10 10\nLambda^V_V_DEUCNGGH2y 10 10 10\nL^V_CNGGH2 5 5 5\nc^A_DEU_to_DEUCNGy 0 0 0\nc^Delta A_DEU_to_DEUCNGy 0 0 0\nLambda^A_DEU_to_DEUCNGy 0 0 0\nL^A_CNG 50 50 50\nc^A_DEU_to_DEUGH2y 0 0 0\nc^Delta A_DEU_to_DEUGH2y 0 0 0\nLambda^A_DEU_to_DEUGH2y 0 0 0\nL^A_GH2 50 50 50\nc^I_l_P_DEUNatural GasBlock 1OnlyTimeStepy 03 03 03\nc^I_q_P_DEUNatural GasBlock 1OnlyTimeStepy 0 0 0\nav^I_P_DEUNatural GasBlock 1OnlyTimeStep 1 1 1\nalpha^D_DEUCNGBlock 1OnlyTimeStepy 0 0 0\nbeta^D_DEUCNGBlock 1OnlyTimeStepy -1 -1 -1\nalpha^D_DEUGH2Block 1OnlyTimeStepy 0 2 099\nbeta^D_DEUGH2Block 1OnlyTimeStepy -1 -1 -1","category":"page"},{"location":"tests/test_cases/test_case_11/#Test-Criteria","page":"Test Case 11","title":"Test Criteria","text":"","category":"section"},{"location":"tests/test_cases/test_case_11/","page":"Test Case 11","title":"Test Case 11","text":"Expression Result y=2020 Result y=2025 Result y=2030\ntildeP^T rightarrow D_DEUCNGBlock 1OnlyTimeStepy 0 0 0\ntildeP^T rightarrow D_DEUGH2Block 1OnlyTimeStepy 0 1 099\nDelta^P_P_DEUCNGFESy 1 0 0\nDelta^P_P_DEUCNGFESy 0 0 0","category":"page"},{"location":"tests/test_cases/test_case_11/#test_case_11_graphical_solution","page":"Test Case 11","title":"Graphical Solution","text":"","category":"section"},{"location":"tests/test_cases/test_case_11/#Marginalized-Provision-Costs-and-Prices-for-Different-Time-Steps-and-Commodities","page":"Test Case 11","title":"Marginalized Provision Costs and Prices for Different Time Steps and Commodities","text":"","category":"section"},{"location":"tests/test_cases/test_case_11/#CNG-2020","page":"Test Case 11","title":"CNG 2020","text":"","category":"section"},{"location":"tests/test_cases/test_case_11/","page":"Test Case 11","title":"Test Case 11","text":"(Image: test_case_11a_graphic)","category":"page"},{"location":"tests/test_cases/test_case_11/#GH2-2020","page":"Test Case 11","title":"GH2 2020","text":"","category":"section"},{"location":"tests/test_cases/test_case_11/","page":"Test Case 11","title":"Test Case 11","text":"(Image: test_case_11b_graphic)","category":"page"},{"location":"tests/test_cases/test_case_11/#CNG-2025","page":"Test Case 11","title":"CNG 2025","text":"","category":"section"},{"location":"tests/test_cases/test_case_11/","page":"Test Case 11","title":"Test Case 11","text":"(Image: test_case_11c_graphic)","category":"page"},{"location":"tests/test_cases/test_case_11/#GH2-2025","page":"Test Case 11","title":"GH2 2025","text":"","category":"section"},{"location":"tests/test_cases/test_case_11/","page":"Test Case 11","title":"Test Case 11","text":"(Image: test_case_11d_graphic)","category":"page"},{"location":"tests/test_cases/test_case_11/#CNG-2030","page":"Test Case 11","title":"CNG 2030","text":"","category":"section"},{"location":"tests/test_cases/test_case_11/","page":"Test Case 11","title":"Test Case 11","text":"(Image: test_case_11e_graphic)","category":"page"},{"location":"tests/test_cases/test_case_11/#GH2-2030","page":"Test Case 11","title":"GH2 2030","text":"","category":"section"},{"location":"tests/test_cases/test_case_11/","page":"Test Case 11","title":"Test Case 11","text":"(Image: test_case_11f_graphic)","category":"page"},{"location":"tests/test_cases/test_case_12/#Test-Case-12","page":"Test Case 12","title":"Test Case 12","text":"","category":"section"},{"location":"tests/test_cases/test_case_12/","page":"Test Case 12","title":"Test Case 12","text":"Test Case 12 is structurally similar to Test Case 11, but this time conversion capacities are non-existent instead of production capacities. The tables below depict the sets and parameters, respectively. The solution is the same as in Test Case 11, only that conversion capacity should be expanded instead of production capacity (at the same cost). Passing criteria can be seen below, while the figure depicts the graphical solution.","category":"page"},{"location":"tests/test_cases/test_case_12/#Sets","page":"Test Case 12","title":"Sets","text":"","category":"section"},{"location":"tests/test_cases/test_case_12/","page":"Test Case 12","title":"Test Case 12","text":"Set Name Set Value\nmathcalA DEU_to_DEU\nmathcalAC (DEU_to_DEU CNG) (DEU_to_DEU GH2)\nmathcalC CNGGH2\nmathcalDSB Block 1\nmathcalI Natural Gas\nmathcalIOB Block 1\nmathcalM OnlyTimeStep\nmathcalN DEU\nmathcalO FES\nmathcalP P_DEU\nmathcalRA ∅\nmathcalRS ∅\nmathcalRV ∅\nmathcalS ∅\nmathcalT T_DEU\nmathcalV V_DEU\nmathcalVT (CNGGH2)\nmathcalY 202020252030","category":"page"},{"location":"tests/test_cases/test_case_12/#Parameters","page":"Test Case 12","title":"Parameters","text":"","category":"section"},{"location":"tests/test_cases/test_case_12/","page":"Test Case 12","title":"Test Case 12","text":"Parameter y=2020 y=2025 y=2030\nfrac1  Delta _y 02 02 02\n1^NC_T_DEUDEUCNG 0 0 0\nr_y 1 1 1\nd_OnlyTimeStep 1 1 1\nc^P_P_DEUCNGFESy 03 03 03\nc^Delta P_P_DEUCNGFESy 05 05 05\nfi^P_CNGNatural GasFES 1 1 1\nL^P_CNGFES 50 50 50\nLambda^P_P_DEUCNGFESy 10 10 10\nc^P_P_DEUGH2FESy 13 13 13\nc^Delta P_P_DEUGH2FESy 05 05 05\nfi^P_GH2Natural GasFES 1 1 1\nL^P_GH2FES 50 50 50\nLambda^P_P_DEUGH2FESy 10 10 10\nLambda^I_P_DEUNatural GasBlock 1y 10 10 10\nOmega^I_P_DEUNatural GasBlock 1y 0 0 0\nc^Delta^I_P_DEUNatural GasBlock 1y 0 0 0\nLambda^T_T_DEUDEUCNGFESy 10 10 10\nLambda^T_T_DEUDEUGH2FESy 10 10 10\nOmega^P_P_DEUCNGFESy 10 10 10\nOmega^P_P_DEUGH2FESy 10 10 10\nfi^V_CNGGH2 1 1 1\nl^A_DEU_to_DEUCNG 0 0 0\nl^A_DEU_to_DEUGH2 0 0 0\nc^V_V_DEUCNGGH2y 03 03 03\nc^Delta V_V_DEUCNGGH2y 05 05 05\nLambda^V_V_DEUCNGGH2y 0 0 0\nL^V_CNGGH2 5 5 5\nc^A_DEU_to_DEUCNGy 0 0 0\nc^Delta A_DEU_to_DEUCNGy 0 0 0\nLambda^A_DEU_to_DEUCNGy 0 0 0\nL^A_CNG 50 50 50\nc^A_DEU_to_DEUGH2y 0 0 0\nc^Delta A_DEU_to_DEUGH2y 0 0 0\nLambda^A_DEU_to_DEUGH2y 0 0 0\nL^A_GH2 50 50 50\nc^I_l_P_DEUNatural GasBlock 1OnlyTimeStepy 03 03 03\nc^I_q_P_DEUNatural GasBlock 1OnlyTimeStepy 0 0 0\nav^I_P_DEUNatural GasBlock 1OnlyTimeStep 1 1 1\nalpha^D_DEUCNGBlock 1OnlyTimeStepy 0 0 0\nbeta^D_DEUCNGBlock 1OnlyTimeStepy -1 -1 -1\nalpha^D_DEUGH2Block 1OnlyTimeStepy 0 2 099\nbeta^D_DEUGH2Block 1OnlyTimeStepy -1 -1 -1","category":"page"},{"location":"tests/test_cases/test_case_12/#Test-Criteria","page":"Test Case 12","title":"Test Criteria","text":"","category":"section"},{"location":"tests/test_cases/test_case_12/","page":"Test Case 12","title":"Test Case 12","text":"Expression Result y=2020 Result y=2025 Result y=2030\ntildeP^T rightarrow D_DEUGH2Block 1OnlyTimeStepy 0 1 099\nDelta^V_V_DEUCNGGH2y 1 0 0\ntildeP^T rightarrow D_DEUCNGBlock 1OnlyTimeStepy 0 0 0","category":"page"},{"location":"tests/test_cases/test_case_12/#test_case_12_graphical_solution","page":"Test Case 12","title":"Graphical Solution","text":"","category":"section"},{"location":"tests/test_cases/test_case_12/#Marginalized-Provision-Costs-and-Prices","page":"Test Case 12","title":"Marginalized Provision Costs and Prices","text":"","category":"section"},{"location":"tests/test_cases/test_case_12/#CNG-2020","page":"Test Case 12","title":"CNG 2020","text":"","category":"section"},{"location":"tests/test_cases/test_case_12/","page":"Test Case 12","title":"Test Case 12","text":"(Image: test_case_12a_graphic)","category":"page"},{"location":"tests/test_cases/test_case_12/#GH2-2020","page":"Test Case 12","title":"GH2 2020","text":"","category":"section"},{"location":"tests/test_cases/test_case_12/","page":"Test Case 12","title":"Test Case 12","text":"(Image: test_case_12b_graphic)","category":"page"},{"location":"tests/test_cases/test_case_12/#CNG-2025","page":"Test Case 12","title":"CNG 2025","text":"","category":"section"},{"location":"tests/test_cases/test_case_12/","page":"Test Case 12","title":"Test Case 12","text":"(Image: test_case_12c_graphic)","category":"page"},{"location":"tests/test_cases/test_case_12/#GH2-2025","page":"Test Case 12","title":"GH2 2025","text":"","category":"section"},{"location":"tests/test_cases/test_case_12/","page":"Test Case 12","title":"Test Case 12","text":"(Image: test_case_12d_graphic)","category":"page"},{"location":"tests/test_cases/test_case_12/#CNG-2030","page":"Test Case 12","title":"CNG 2030","text":"","category":"section"},{"location":"tests/test_cases/test_case_12/","page":"Test Case 12","title":"Test Case 12","text":"(Image: test_case_12e_graphic)","category":"page"},{"location":"tests/test_cases/test_case_12/#GH2-2030","page":"Test Case 12","title":"GH2 2030","text":"","category":"section"},{"location":"tests/test_cases/test_case_12/","page":"Test Case 12","title":"Test Case 12","text":"(Image: test_case_12f_graphic)","category":"page"},{"location":"tests/functional_tests/functional_test_1/#Functional-Test-1","page":"Functional Test 1","title":"Functional Test 1","text":"","category":"section"},{"location":"tests/functional_tests/functional_test_1/","page":"Functional Test 1","title":"Functional Test 1","text":"Functional Test 1 tests correct scaling of operational and investment costs. Parameter values are checked against for two nodes, where one is half as expensive as the other. In addition, country-specific exertion of market power is tested. For transport related data, it is asserted that cost scaling corresponds to the cheaper of the two nodes. The implementation is trivial, please see the corresponding code. The table below depicts an overview of tested parameters. ","category":"page"},{"location":"tests/functional_tests/functional_test_1/#Overview-of-Tested-Parameters","page":"Functional Test 1","title":"Overview of Tested Parameters","text":"","category":"section"},{"location":"tests/functional_tests/functional_test_1/","page":"Functional Test 1","title":"Functional Test 1","text":"Parameter Type of Check\n1^NC Specific Market Power\nc^P Node specific scaling\nc^Delta P Node specific scaling\nc^V Node specific scaling\nc^Delta V Node specific scaling\nc^Delta^RV Node specific scaling\nc^A Node specific scaling\nc^Delta A Node specific scaling\nc^Delta^RA Node specific scaling\nc^S_in Node specific scaling\nc^S_out Node specific scaling\nc^Delta S Node specific scaling\nc^Delta^RS Node specific scaling","category":"page"},{"location":"tests/test_cases/test_case_2/#Test-Case-2","page":"Test Case 2","title":"Test Case 2","text":"","category":"section"},{"location":"tests/test_cases/test_case_2/","page":"Test Case 2","title":"Test Case 2","text":"Test Case 2 adds multiple years and tests for prices in both, while also including conversion costs. As before, relevant sets and parameters can be seen from the tables below. Marginalized costs for given factor intensities are MC=c^Pl + c^P + c^V + beta^P cdot Q, while prices are P(Q) = alpha^D + beta^D Q. Hence, as stated and illustrated below, tests pass if prices in both years are P=125 for CNG and P=00 for GH2. ","category":"page"},{"location":"tests/test_cases/test_case_2/#Sets","page":"Test Case 2","title":"Sets","text":"","category":"section"},{"location":"tests/test_cases/test_case_2/","page":"Test Case 2","title":"Test Case 2","text":"Set Name Set Value\nmathcalA DEU_to_DEU\nmathcalAC (DEU_to_DEUCNG)(DEU_to_DEUGH2)\nmathcalC CNGGH2\nmathcalDSB Block 1\nmathcalI Electricity\nmathcalIOB Block 1\nmathcalM OnlyTimeStep\nmathcalN DEU\nmathcalO RES\nmathcalP P_DEU\nmathcalRA ∅\nmathcalRS ∅\nmathcalRV ∅\nmathcalS ∅\nmathcalT T_DEU\nmathcalV V_DEU\nmathcalVT (GH2CNG)\nmathcalY 20202021","category":"page"},{"location":"tests/test_cases/test_case_2/#Parameters","page":"Test Case 2","title":"Parameters","text":"","category":"section"},{"location":"tests/test_cases/test_case_2/","page":"Test Case 2","title":"Test Case 2","text":"Parameter y=2020 y=2021\nfrac1  Delta _y 1 1\n1^NC_T_DEUDEUCNG 0 0\n1^NC_T_DEUDEUGH2 0 0\nr_y 1 1\nd_OnlyTimeStep 2 2\nc^P_P_DEUGH2RESy 01 01\nc^P_P_DEUCNGRESy 00 00\nc^Delta P_P_DEUGH2RESy 10 10\nc^Delta P_P_DEUCNGRESy 10 10\nfi^P_GH2ElectricityRES 1 1\nfi^P_CNGElectricityRES 1 1\nL^P_GH2RES 50 50\nL^P_CNGRES 50 50\nLambda^P_P_DEUGH2RESy 10 10\nLambda^P_P_DEUCNGRESy 0 0\nLambda^I_P_DEUElectricityBlock 1y 10 10\nOmega^I_P_DEUElectricityBlock 1y 0 0\nc^Delta^I_P_DEUElectricityBlock 1y 0 0\nLambda^T_T_DEUDEUGH2RESy 10 10\nLambda^T_T_DEUDEUCNGRESy 10 10\nOmega^P_P_DEUGH2RESy 10 10\nOmega^P_P_DEUCNGRESy 10 10\nfi^V_GH2CNG 1 1\nl^A_DEU_to_DEUGH2 0 0\nl^A_DEU_to_DEUCNG 0 0\nc^V_V_DEUGH2CNGy 01 01\nc^Delta V_V_DEUGH2CNGy 10 10\nLambda^V_V_DEUGH2CNGy 10 10\nL^V_GH2CNG 10 10\nc^A_DEU_to_DEUGH2y 0 0\nc^A_DEU_to_DEUCNGy 0 0\nc^Delta A_DEU_to_DEUGH2y 0 0\nc^Delta A_DEU_to_DEUCNGy 0 0\nLambda^A_DEU_to_DEUGH2y 0 0\nLambda^A_DEU_to_DEUCNGy 0 0\nL^A_GH2 50 50\nL^A_CNG 50 50\nc^I_l_P_DEUElectricityBlock 1OnlyTimeStepy 03 03\nc^I_q_P_DEUElectricityBlock 1OnlyTimeStepy 1 1\nav^I_P_DEUElectricityBlock 1OnlyTimeStep 1 1\nalpha^D_DEUGH2Block 1OnlyTimeStepy 0 0\nbeta^D_DEUGH2Block 1OnlyTimeStepy 0 0\nalpha^D_DEUCNGBlock 1OnlyTimeStepy 2 2\nbeta^D_DEUCNGBlock 1OnlyTimeStepy -1 -1","category":"page"},{"location":"tests/test_cases/test_case_2/#Test-Criteria","page":"Test Case 2","title":"Test Criteria","text":"","category":"section"},{"location":"tests/test_cases/test_case_2/","page":"Test Case 2","title":"Test Case 2","text":"Expression Result y=2020 Result y=2021\ntildeP^T rightarrow D_DEUGH2Block 1OnlyTimeStepy 000 000\ntildeP^T rightarrow D_DEUCNGBlock 1OnlyTimeStepy 125 125","category":"page"},{"location":"tests/test_cases/test_case_2/#Graphical-Solution","page":"Test Case 2","title":"Graphical Solution","text":"","category":"section"},{"location":"tests/test_cases/test_case_2/#Inverse-Demand-and-Marginalized-Cost-Curves","page":"Test Case 2","title":"Inverse Demand and Marginalized Cost Curves","text":"","category":"section"},{"location":"tests/test_cases/test_case_2/#GH2-2020","page":"Test Case 2","title":"GH2 2020","text":"","category":"section"},{"location":"tests/test_cases/test_case_2/","page":"Test Case 2","title":"Test Case 2","text":"(Image: test_case_2a_graphic)","category":"page"},{"location":"tests/test_cases/test_case_2/#GH2-2021","page":"Test Case 2","title":"GH2 2021","text":"","category":"section"},{"location":"tests/test_cases/test_case_2/","page":"Test Case 2","title":"Test Case 2","text":"(Image: test_case_2b_graphic)","category":"page"},{"location":"tests/test_cases/test_case_2/#CNG-2020","page":"Test Case 2","title":"CNG 2020","text":"","category":"section"},{"location":"tests/test_cases/test_case_2/","page":"Test Case 2","title":"Test Case 2","text":"(Image: test_case_2a_graphic)","category":"page"},{"location":"tests/test_cases/test_case_2/#CNG-2021","page":"Test Case 2","title":"CNG 2021","text":"","category":"section"},{"location":"tests/test_cases/test_case_2/","page":"Test Case 2","title":"Test Case 2","text":"(Image: test_case_2b_graphic)","category":"page"},{"location":"mathematical_formulation/complementarity_problem/market_clearing/#Market-Clearing","page":"Market Clearing","title":"Market Clearing","text":"","category":"section"},{"location":"mathematical_formulation/complementarity_problem/market_clearing/","page":"Market Clearing","title":"Market Clearing","text":"beginaligned\t\nleftbeginaligned\n\t\t\t\tq^P rightarrow T_p(n)comy - q^T leftarrow P_t(n)ncomy\n\t\t\tendalignedright  geq 0  perp pi^P_ncomy geq 0  \n\t\t\tbeginaligned\n\t\t\t\tforall n in mathcalN c in mathcalC o in mathcalO  m in mathcalM  y in mathcalY\n\t\t\tendaligned \n\t\t\n\t\t\tleftbeginaligned\n\t\t\t\tpi^T rightarrow D_ncbmy - tildeP^T rightarrow D_ncbmybiggl( sum_o in mathcalO sum_t in mathcalTq^T rightarrow D_tncbomybiggr)\n\t\t\tendalignedright\n\t\t\tgeq 0  perp pi^T rightarrow D_ncmy  geq 0  \n\t\t\tbeginaligned\n\t\t\t\tforall n in mathcalN c in mathcalC  b in mathcalDSB  m in mathcalM  y in mathcalY\n\t\t\tendaligned \n\t\t\n\t\t\tleftbeginaligned\n\t\t\t\tsum_c in mathcalC  (cc) in mathcalVTfi^V_cc q^V_v(n)tccomy - q^T rightarrow V_tncomy\n\t\t\tendalignedright\n\t\t\tgeq 0  perp pi^T rightarrow V_tncomy geq 0  \n\t\t\tbeginaligned\n\t\t\t\tforall t in mathcalT n in mathcalN  c in mathcalC o in mathcalO  m in mathcalM y in mathcalY\n\t\t\tendaligned \n\t\t\n\t\t\tleftbeginaligned\n\t\t\t\tsum_c in mathcalC  (cc) in mathcalVTq^V _v(n)tccomy - q^T leftarrow V_tncomy\n\t\t\tendalignedright\n\t\t\tgeq 0  perp pi^V rightarrow T_tncomy  geq 0  \n\t\t\tbeginaligned\n\t\t\t\tforall t in mathcalT n in mathcalN  c in mathcalC o in mathcalO  m in mathcalM y in mathcalY\n\t\t\tendaligned \n\t\t\n\t\t\tleftbeginaligned\n\t\t\t\tq^A_acmy - sum_o in mathcalO sum_t in mathcalTq^T_tacomy\n\t\t\tendalignedright\n\t\t\tgeq 0  perp pi^A_acmy geq 0  \n\t\t\tbeginaligned\n\t\t\t\tforall (ac) in mathcalAC   m in mathcalM y in mathcalY\n\t\t\tendaligned \n\t\t\n\t\t\tleftbeginaligned\n\t\t\t\tq^S_in_s(n)tcomy -  q^T rightarrow S_tncomy\n\t\t\tendalignedright\n\t\t\tgeq 0  perp pi^T rightarrow S_tncomy geq 0  \n\t\t\tbeginaligned\n\t\t\t\tforall t in mathcalT n in mathcalN  c in mathcalC  o in mathcalO  m in mathcalM y in mathcalY\n\t\t\tendaligned \n\t\t\n\t\t\tleft\n\t\t\tq^S_out_s(n)tcomy - q^T leftarrow S_tncomy\n\t\t\tright\n\t\t\tgeq 0  perp pi^S rightarrow T_tncomy geq 0  \n\t\t\tbeginaligned\n\t\t\t\tforall t in mathcalT n in mathcalN  c in mathcalC o in mathcalO  m in mathcalM y in mathcalY\n\t\t\tendaligned\nendaligned","category":"page"},{"location":"mathematical_formulation/player_problems/trader_problem/#Trader","page":"Trader Problem","title":"Trader","text":"","category":"section"},{"location":"mathematical_formulation/player_problems/trader_problem/","page":"Trader Problem","title":"Trader Problem","text":"beginaligned\t\nmax_substackq^T rightarrow D_tncbomy  q^T leftarrow P_tncomy  q^T rightarrow V_tncomy  q^T leftarrow V_tncomy  q^T rightarrow S_tncomy  q^T leftarrow S_tncomy  q^T_tacomy  quad  sum_y in mathcalY r_y sum_m in mathcalM d_m sum_o in mathcalO sum_c in mathcalC left \n\t\t\tbeginaligned\n\t\t\t\tsum_n in mathcalN left( \n\t\t\t\tbeginaligned\n\t\t\t\t\t1^NC_tnc cdot sum_b in mathcalDSB tildeP^T rightarrow D_ncbmybiggl(Q^T rightarrow D_ncbmybiggr) cdot q^T rightarrow D_tncbomy   \n\t\t\t\t\t+  left( 1 - 1^NC_tnc right) cdot sum_b in mathcalDSB  pi^T rightarrow D_ncbmy cdot q^T rightarrow D_tncbomy \n\t\t\t\tendaligned\n\t\t\t\tright) \n\t\t\t\t+  sum_n in mathcalN left( pi^T rightarrow V_tncomy right) q^T rightarrow V_tncomy \n\t\t\t\t-  sum_n in mathcalNleft( pi^V rightarrow T_tncomy right) q^T leftarrow V_tncomy \n\t\t\t\t+  sum_n in mathcalNleft( pi^T rightarrow S_tncomy right) q^T rightarrow S_tncomy \n\t\t\t\t-  sum_n in mathcalNleft( pi^S rightarrow T_tncomy right) q^T leftarrow S_tncomy \n\t\t\t\t-  sum_a in mathcalA  (ac) in mathcalAC left( pi^A_acmy right) q^T_tacomy \n\t\t\t\t-  sum_n in mathcalN_p(t)left( pi^P_ncomy right) q^T leftarrow P_tncomy\n\t\t\tendaligned \n\t\t\tright \ntextst beginaligned\n\t\t\t\tleft(beginaligned\n\t\t\t\t\tsum_a in mathcalA_s(n)   (ac) in mathcalAC  (1+l^A_ac) q^T_tacomy  \n\t\t\t\t\t+ sum_b in mathcalDSB q^T rightarrow D_tncbomy\n\t\t\t\t\t+ q^T rightarrow V_tncomy \n\t\t\t\t\t+ q^T rightarrow S_tncomy\n\t\t\t\tendalignedright)   leq \n\t\t\t\tleft(beginaligned\n\t\t\t\t\tsum_a in mathcalA_e(n)  (ac) in mathcalAC  q^T_tacomy  \n\t\t\t\t\t+ sum_n in mathcalN_p(t) q^T leftarrow P_tncomy \n\t\t\t\t\t+ q^T leftarrow V_tncomy \n\t\t\t\t\t+ q^T leftarrow S_tncomy\n\t\t\t\tendalignedright) \n\t\t\tendaligned \n\t\t\t beginaligned\n\t\t\t\tforall n in mathcalN c in mathcalC  o in mathcalO m in mathcalM  y in mathcalY \n\t\t\tendaligned quad (phi^T_tncomy) \n\t\t\t\n\t\t\t sum_m in mathcalM d_m sum_b in mathcalDSB q^T rightarrow D_tncbomy leq Lambda^T_tncoy quad  \n\t\t\tbeginaligned\n\t\t\t\tforall n in mathcalN c in mathcalC  o in mathcalO y in mathcalY\n\t\t\tendaligned\n\t\t\tquad  (lambda^T_tncoy) \n\t\t\t beginaligned\n\t\t\t\tq^T rightarrow D_tncbomy q^T leftarrow P_tncomy q^T rightarrow V_tncomy  q^T leftarrow V_tncomy q^T rightarrow S_tncomy q^T leftarrow S_tncomy q^T_tacomy\n\t\t\tendaligned geq 0 quad   \nendaligned","category":"page"},{"location":"tests/test_cases/test_case_20/#Test-Case-20","page":"Test Case 20","title":"Test Case 20","text":"","category":"section"},{"location":"tests/test_cases/test_case_20/","page":"Test Case 20","title":"Test Case 20","text":"Test Case 20 is based on Test Case 2 and checks for repurposing of conversion facilities, including repurposing factors. Relevant sets and parameters can be seen from the tables below. In addition, tests are listed and illustrated.","category":"page"},{"location":"tests/test_cases/test_case_20/#Sets","page":"Test Case 20","title":"Sets","text":"","category":"section"},{"location":"tests/test_cases/test_case_20/","page":"Test Case 20","title":"Test Case 20","text":"Set Name Set Value\nmathcalA DEU_to_DEU\nmathcalAC beginaligned (DEU_to_DEU CNG)   (DEU_to_DEU GH2) (DEU_to_DEU NH3) endaligned\nmathcalC CNGGH2NH3\nmathcalDSB Block 1\nmathcalI Electricity\nmathcalIOB Block 1\nmathcalM OnlyTimeStep\nmathcalN DEU\nmathcalO RES\nmathcalP P_DEU\nmathcalRA ∅\nmathcalRS ∅\nmathcalRV ∅\nmathcalS ∅\nmathcalT T_DEU\nmathcalV V_DEU\nmathcalVT (GH2CNG)(GH2NH3)\nmathcalY 20202021","category":"page"},{"location":"tests/test_cases/test_case_20/#Parameters","page":"Test Case 20","title":"Parameters","text":"","category":"section"},{"location":"tests/test_cases/test_case_20/","page":"Test Case 20","title":"Test Case 20","text":"Parameter y=2020 y=2021\nfrac1  Delta _y 1 1\n1^NC_T_DEUDEUCNG 0 0\n1^NC_T_DEUDEUGH2 0 0\n1^NC_T_DEUDEUNH3 0 0\nr_y 1 1\nd_OnlyTimeStep 1 1\nc^P_P_DEUGH2RESy 00 00\nc^P_P_DEUNH3RESy 01 01\nc^P_P_DEUCNGRESy 00 00\nc^Delta P_P_DEUGH2RESy 10 10\nc^Delta P_P_DEUNH3RESy 10 10\nc^Delta P_P_DEUCNGRESy 10 10\nfi^P_GH2ElectricityRES 1 1\nfi^P_NH3ElectricityRES 1 1\nfi^P_CNGElectricityRES 1 1\nL^P_GH2RES 50 50\nL^P_NH3RES 50 50\nL^P_CNGRES 50 50\nLambda^P_P_DEUGH2RESy 10 10\nLambda^P_P_DEUNH3RESy 0 0\nLambda^P_P_DEUCNGRESy 0 0\nLambda^I_P_DEUElectricityBlock 1y 10 10\nOmega^I_P_DEUElectricityBlock 1y 0 0\nc^Delta^I_P_DEUElectricityBlock 1y 0 0\nLambda^T_T_DEUDEUGH2RESy 10 10\nLambda^T_T_DEUDEUNH3RESy 10 10\nLambda^T_T_DEUDEUCNGRESy 10 10\nOmega^P_P_DEUGH2RESy 10 10\nOmega^P_P_DEUNH3RESy 10 10\nOmega^P_P_DEUCNGRESy 10 10\nfi^V_GH2CNG 1 1\nfi^V_GH2NH3 1 1\nl^A_DEU_to_DEUGH2 0 0\nl^A_DEU_to_DEUNH3 0 0\nl^A_DEU_to_DEUCNG 0 0\nc^V_V_DEUGH2CNGy 01 01\nc^V_V_DEUGH2NH3y 005 005\nc^Delta V_V_DEUGH2CNGy 10 10\nc^Delta V_V_DEUGH2NH3y 10 10\nc^Delta^RV_V_DEUGH2CNGGH2NH3y 0025 0025\nf^RV_GH2CNGGH2NH3 05 05\nLambda^V_V_DEUGH2CNGy 10 10\nLambda^V_V_DEUGH2NH3y 0 0\nL^V_GH2CNG 10 10\nL^V_GH2NH3 10 10\nc^A_DEU_to_DEUGH2y 0 0\nc^A_DEU_to_DEUNH3y 0 0\nc^A_DEU_to_DEUCNGy 0 0\nc^Delta A_DEU_to_DEUGH2y 0 0\nc^Delta A_DEU_to_DEUNH3y 0 0\nc^Delta A_DEU_to_DEUCNGy 0 0\nLambda^A_DEU_to_DEUGH2y 0 0\nLambda^A_DEU_to_DEUNH3y 0 0\nLambda^A_DEU_to_DEUCNGy 0 0\nL^A_GH2 50 50\nL^A_NH3 50 50\nL^A_CNG 50 50\nc^I_l_P_DEUElectricityBlock 1OnlyTimeStepy 03 03\nc^I_q_P_DEUElectricityBlock 1OnlyTimeStepy 1 1\nav^I_P_DEUElectricityBlock 1OnlyTimeStep 1 1\nalpha^D_DEUGH2Block 1OnlyTimeStepy 0 0\nbeta^D_DEUGH2Block 1OnlyTimeStepy 0 0\nalpha^D_DEUNH3Block 1OnlyTimeStepy 0 2\nbeta^D_DEUNH3Block 1OnlyTimeStepy 0 -1\nalpha^D_DEUCNGBlock 1OnlyTimeStepy 2 0\nbeta^D_DEUCNGBlock 1OnlyTimeStepy -1 0","category":"page"},{"location":"tests/test_cases/test_case_20/#Test-Criteria","page":"Test Case 20","title":"Test Criteria","text":"","category":"section"},{"location":"tests/test_cases/test_case_20/","page":"Test Case 20","title":"Test Case 20","text":"Expression Result y=2020 Result y=2021\ntildeP^T rightarrow D_DEUGH2Block 1OnlyTimeStepy 000 000\ntildeP^T rightarrow D_DEUNH3Block 1OnlyTimeStepy 000 150\ntildeP^T rightarrow D_DEUCNGBlock 1OnlyTimeStepy 125 150","category":"page"},{"location":"tests/test_cases/test_case_20/#Graphical-Solution","page":"Test Case 20","title":"Graphical Solution","text":"","category":"section"},{"location":"tests/test_cases/test_case_20/#Marginalized-Provision-Costs-and-Prices","page":"Test Case 20","title":"Marginalized Provision Costs and Prices","text":"","category":"section"},{"location":"tests/test_cases/test_case_20/#GH2-2020","page":"Test Case 20","title":"GH2 2020","text":"","category":"section"},{"location":"tests/test_cases/test_case_20/","page":"Test Case 20","title":"Test Case 20","text":"(Image: test_case_20a_graphic)","category":"page"},{"location":"tests/test_cases/test_case_20/#GH2-2021","page":"Test Case 20","title":"GH2 2021","text":"","category":"section"},{"location":"tests/test_cases/test_case_20/","page":"Test Case 20","title":"Test Case 20","text":"(Image: test_case_20b_graphic)","category":"page"},{"location":"tests/test_cases/test_case_20/#NH3-2020","page":"Test Case 20","title":"NH3 2020","text":"","category":"section"},{"location":"tests/test_cases/test_case_20/","page":"Test Case 20","title":"Test Case 20","text":"(Image: test_case_20c_graphic)","category":"page"},{"location":"tests/test_cases/test_case_20/#NH3-2021","page":"Test Case 20","title":"NH3 2021","text":"","category":"section"},{"location":"tests/test_cases/test_case_20/","page":"Test Case 20","title":"Test Case 20","text":"(Image: test_case_20d_graphic)","category":"page"},{"location":"tests/test_cases/test_case_20/#CNG-2020","page":"Test Case 20","title":"CNG 2020","text":"","category":"section"},{"location":"tests/test_cases/test_case_20/","page":"Test Case 20","title":"Test Case 20","text":"(Image: test_case_20e_graphic)","category":"page"},{"location":"tests/test_cases/test_case_20/#CNG-2021","page":"Test Case 20","title":"CNG 2021","text":"","category":"section"},{"location":"tests/test_cases/test_case_20/","page":"Test Case 20","title":"Test Case 20","text":"(Image: test_case_20f_graphic)","category":"page"},{"location":"tests/test_cases/test_case_27/#Test-Case-27","page":"Test Case 27","title":"Test Case 27","text":"","category":"section"},{"location":"tests/test_cases/test_case_27/","page":"Test Case 27","title":"Test Case 27","text":"Test Case 27 is used to assert correct working of adjacency structures for arc capacity expansion. All parameters are the same as in Test Case 13, however commodity-specific adjacency prohibits flows (since mathcalAC is empty). The tables below depict the sets and parameters. In addition, tests and a graphical solution are depicted. ","category":"page"},{"location":"tests/test_cases/test_case_27/","page":"Test Case 27","title":"Test Case 27","text":"The implementation in the testing routine features two separate runs for shipping and pipelines (denoted by case 27a and 27b), however, mathematical model data remain unchanged. ","category":"page"},{"location":"tests/test_cases/test_case_27/#Sets","page":"Test Case 27","title":"Sets","text":"","category":"section"},{"location":"tests/test_cases/test_case_27/","page":"Test Case 27","title":"Test Case 27","text":"Set Name Set Value\nmathcalA DEU_to_DEUDEU_to_NLDNLD_to_DEUNLD_to_NLD\nmathcalAC ∅\nmathcalC CNG\nmathcalDSB Block 1\nmathcalI Natural Gas\nmathcalIOB Block 1\nmathcalM OnlyTimeStep\nmathcalN DEUNLD\nmathcalO FES\nmathcalP P_DEUP_NLD\nmathcalRA ∅\nmathcalRS ∅\nmathcalRV ∅\nmathcalS ∅\nmathcalT T_DEUT_NLD\nmathcalV ∅\nmathcalVT ∅\nmathcalY 202020252030","category":"page"},{"location":"tests/test_cases/test_case_27/#Parameters","page":"Test Case 27","title":"Parameters","text":"","category":"section"},{"location":"tests/test_cases/test_case_27/","page":"Test Case 27","title":"Test Case 27","text":"Parameter y=2020 y=2025 y=2030\nfrac1  Delta _y 1 1 1\n1^NC_T_DEUDEUCNG 0 0 0\n1^NC_T_DEUNLDCNG 0 0 0\n1^NC_T_NLDDEUCNG 0 0 0\n1^NC_T_NLDNLDCNG 0 0 0\nr_y 1 1 1\nd_OnlyTimeStep 1 1 1\nc^P_P_DEUCNGFESy 04 04 04\nc^Delta P_P_DEUCNGFESy 1 1 1\nc^P_P_NLDCNGFESy 05 05 05\nc^Delta P_P_NLDCNGFESy 1 1 1\nfi^P_CNGNatural GasFES 1 1 1\nL^P_CNGFES 50 50 50\nLambda^P_P_DEUCNGFESy 10 10 10\nLambda^I_P_DEUNatural GasBlock 1y 10 10 10\nOmega^I_P_DEUNatural GasBlock 1y 0 0 0\nc^Delta^I_P_DEUNatural GasBlock 1y 0 0 0\nLambda^T_T_DEUDEUCNGFESy 10 10 10\nLambda^T_T_DEUNLDCNGFESy 10 10 10\nOmega^P_P_DEUCNGFESy 10 10 10\nLambda^P_P_NLDCNGFESy 10 10 10\nLambda^I_P_NLDNatural GasBlock 1y 10 10 10\nOmega^I_P_NLDNatural GasBlock 1y 0 0 0\nc^Delta^I_P_NLDNatural GasBlock 1y 0 0 0\nLambda^T_T_NLDDEUCNGFESy 10 10 10\nLambda^T_T_NLDNLDCNGFESy 10 10 10\nOmega^P_P_NLDCNGFESy 10 10 10\nl^A_DEU_to_DEUCNG 00 00 00\nl^A_DEU_to_NLDCNG 00 00 00\nl^A_NLD_to_DEUCNG 01 01 01\nl^A_NLD_to_NLDCNG 00 00 00\nc^A_DEU_to_DEUCNGy 00 00 00\nc^A_DEU_to_NLDCNGy 00 00 00\nc^A_NLD_to_DEUCNGy 005 005 005\nc^A_NLD_to_NLDCNGy 00 00 00\nc^Delta A_DEU_to_DEUCNGy 025 025 025\nc^Delta A_DEU_to_NLDCNGy 025 025 025\nc^Delta A_NLD_to_DEUCNGy 025 025 025\nc^Delta A_NLD_to_NLDCNGy 025 025 025\nLambda^A_DEU_to_DEUCNGy 0 0 0\nLambda^A_DEU_to_NLDCNGy 0 0 0\nLambda^A_NLD_to_DEUCNGy 0 0 0\nLambda^A_NLD_to_NLDCNGy 0 0 0\nL^A_CNG 50 50 50\nc^I_l_P_DEUNatural GasBlock 1OnlyTimeStepy 2 2 2\nc^I_q_P_DEUNatural GasBlock 1OnlyTimeStepy 0 0 0\nav^I_P_DEUNatural GasBlock 1OnlyTimeStep 1 1 1\nc^I_l_P_NLDNatural GasBlock 1OnlyTimeStepy 05 05 05\nc^I_q_P_NLDNatural GasBlock 1OnlyTimeStepy 0 0 0\nav^I_P_NLDNatural GasBlock 1OnlyTimeStep 1 1 1\nalpha^D_DEUCNGBlock 1OnlyTimeStepy 2 2 2\nbeta^D_DEUCNGBlock 1OnlyTimeStepy -1 -1 -1\nalpha^D_NLDCNGBlock 1OnlyTimeStepy 0 0 0\nbeta^D_NLDCNGBlock 1OnlyTimeStepy -1 -1 -1","category":"page"},{"location":"tests/test_cases/test_case_27/#Test-Criteria","page":"Test Case 27","title":"Test Criteria","text":"","category":"section"},{"location":"tests/test_cases/test_case_27/","page":"Test Case 27","title":"Test Case 27","text":"Expression Result y=2020 Result y=2025 Result y=2030\ntildeP^T rightarrow D_DEUCNGBlock 1OnlyTimeStepy 0 2 099\ntildeP^T rightarrow D_NLDCNGBlock 1OnlyTimeStepy 00 00 00\nDelta^A_DEU_to_DEUCNGy N.E. N.E. N.E.\nDelta^A_DEU_to_NLDCNGy N.E. N.E. N.E.\nDelta^A_NLD_to_DEUCNGy N.E. N.E. N.E.\nDelta^A_NLD_to_NLDCNGy N.E. N.E. N.E.","category":"page"},{"location":"tests/test_cases/test_case_27/#Graphical-Solution","page":"Test Case 27","title":"Graphical Solution","text":"","category":"section"},{"location":"tests/test_cases/test_case_27/#Marginalized-Provision-Costs-and-Prices","page":"Test Case 27","title":"Marginalized Provision Costs and Prices","text":"","category":"section"},{"location":"tests/test_cases/test_case_27/","page":"Test Case 27","title":"Test Case 27","text":"Note: Marginalized costs are depicted as if adjacency was given.","category":"page"},{"location":"tests/test_cases/test_case_27/#NLD-2020","page":"Test Case 27","title":"NLD 2020","text":"","category":"section"},{"location":"tests/test_cases/test_case_27/","page":"Test Case 27","title":"Test Case 27","text":"(Image: test_case_27a_graphic)","category":"page"},{"location":"tests/test_cases/test_case_27/#DEU-2020","page":"Test Case 27","title":"DEU 2020","text":"","category":"section"},{"location":"tests/test_cases/test_case_27/","page":"Test Case 27","title":"Test Case 27","text":"(Image: test_case_27b_graphic)","category":"page"},{"location":"tests/test_cases/test_case_27/#NLD-2025","page":"Test Case 27","title":"NLD 2025","text":"","category":"section"},{"location":"tests/test_cases/test_case_27/","page":"Test Case 27","title":"Test Case 27","text":"(Image: test_case_27c_graphic)","category":"page"},{"location":"tests/test_cases/test_case_27/#DEU-2025","page":"Test Case 27","title":"DEU 2025","text":"","category":"section"},{"location":"tests/test_cases/test_case_27/","page":"Test Case 27","title":"Test Case 27","text":"(Image: test_case_27d_graphic)","category":"page"},{"location":"tests/test_cases/test_case_27/#NLD-2030","page":"Test Case 27","title":"NLD 2030","text":"","category":"section"},{"location":"tests/test_cases/test_case_27/","page":"Test Case 27","title":"Test Case 27","text":"(Image: test_case_27e_graphic)","category":"page"},{"location":"tests/test_cases/test_case_27/#DEU-2030","page":"Test Case 27","title":"DEU 2030","text":"","category":"section"},{"location":"tests/test_cases/test_case_27/","page":"Test Case 27","title":"Test Case 27","text":"(Image: test_case_27f_graphic)","category":"page"},{"location":"replication/#Replication","page":"Replication","title":"Replication","text":"","category":"section"},{"location":"replication/","page":"Replication","title":"Replication","text":"To run the replication script, you may use the following code: ","category":"page"},{"location":"replication/","page":"Replication","title":"Replication","text":"using HydrOGEnMod\nusing Gurobi\nusing JuMP\n\npc_results_path = joinpath(dirname(dirname(pathof(HydrOGEnMod))), \"results\", \"cvx_pc\")\n\ndata_pc =\n    get_HydrOGEnMod_data(joinpath(dirname(dirname(pathof(HydrOGEnMod))), \"data\", \"data_pc\"));\nwrite_csv(joinpath(pc_results_path, \"precalculated\"), data_pc)\n\nmodel_pc = build_optimization_model(data_pc)\n\noptimize!(model_pc, Gurobi.Optimizer)\nwrite_csv(pc_results_path, model_pc)\n\nfor y in [2030, 2050], c in [\"GH2\", \"NH3\", \"LH2\"]\n    for s in [\"L\", \"H\"]\n        if c ∉ [\"LH2\"]\n            plot_model_nodes(\n                value.(model_pc[:prices][:, c, \"Block 1\", s, y]);\n                save_path = joinpath(\n                    pc_results_path,\n                    \"graphics\",\n                    \"pc_prices_$(c)_$(s)_$(y).pdf\",\n                ),\n                rasterize = 5,\n            )\n            plot_model_nodes(\n                value.(model_pc[:demand][:, c, \"Block 1\", s, y]);\n                save_path = joinpath(\n                    pc_results_path,\n                    \"graphics\",\n                    \"pc_demand_$(c)_$(s)_$(y).pdf\",\n                ),\n                rasterize = 5,\n            )\n        end\n    end\n\n    plot_model_nodes(\n        (\n            data_pc.weights[\"L\"] .* value.(model_pc[:prices][:, c, \"Block 1\", \"L\", y]) .+\n            data_pc.weights[\"H\"] .* value.(model_pc[:prices][:, c, \"Block 1\", \"H\", y])\n        ) ./ data_pc.weights[\"year\"];\n        save_path = joinpath(\n            pc_results_path,\n            \"graphics\",\n            \"pc_prices_$(c)_weighted_average_$(y).pdf\",\n        ),\n        rasterize = 5,\n    )\n\n    plot_model_nodes(\n        value.(model_pc[:yearly_demand][:, c, y]);\n        save_path = joinpath(pc_results_path, \"graphics\", \"pc_demand_$(c)_$(y).pdf\"),\n        rasterize = 5,\n    )\n\n    plot_model_nodes(\n        value.(model_pc[:yearly_production][:, c, y]);\n        save_path = joinpath(pc_results_path, \"graphics\", \"pc_production_$(c)_$(y).pdf\"),\n        geojson_property_tag = :MODEL_PRODUCER_5,\n        rasterize = 5,\n    )\n\n    plot_model_nodes(\n        value.(model_pc[:yearly_arc_flows][:, c, y]),\n        data_pc.arcs;\n        save_path = joinpath(pc_results_path, \"graphics\", \"pc_trade_flows_$(c)_$(y).pdf\"),\n        colorscheme = :linear_gow_65_90_c35_n256,\n        linewidth = 2,\n        largestvalues = 50,\n        rasterize = 5,\n    )\n\n    for i in [\"Renewable Hydrogen\", \"Nuclear Hydrogen\"]\n        plot_model_nodes(\n            value.(model_pc[:yearly_input_procurement][:, i, y]);\n            save_path = joinpath(\n                pc_results_path,\n                \"graphics\",\n                \"pc_procurement_$(i)_$(y).pdf\",\n            ),\n            geojson_property_tag = :MODEL_PRODUCER_5,\n            rasterize = 5,\n        )\n    end\nend\n\nmp_results_path = joinpath(dirname(dirname(pathof(HydrOGEnMod))), \"results\", \"cvx_mp\")\n\ndata_mp =\n    get_HydrOGEnMod_data(joinpath(dirname(dirname(pathof(HydrOGEnMod))), \"data\", \"data_mp\"));\n\nwrite_csv(joinpath(mp_results_path, \"precalculated\"), data_mp)\nmodel_mp = build_optimization_model(data_mp)\n\noptimize!(model_mp, Gurobi.Optimizer)\nwrite_csv(mp_results_path, model_mp)\nfor y in [2030, 2050], c in [\"GH2\", \"NH3\", \"LH2\"]\n    for s in [\"L\", \"H\"]\n        if c ∉ [\"LH2\"]\n            plot_model_nodes(\n                value.(model_mp[:prices][:, c, \"Block 1\", s, y]);\n                save_path = joinpath(\n                    mp_results_path,\n                    \"graphics\",\n                    \"mp_prices_$(c)_$(s)_$(y).pdf\",\n                ),\n                rasterize = 5,\n            )\n            plot_model_nodes(\n                value.(model_mp[:demand][:, c, \"Block 1\", s, y]);\n                save_path = joinpath(\n                    mp_results_path,\n                    \"graphics\",\n                    \"mp_demand_$(c)_$(s)_$(y).pdf\",\n                ),\n                rasterize = 5,\n            )\n        end\n    end\n\n    plot_model_nodes(\n        (\n            data_mp.weights[\"L\"] .* value.(model_mp[:prices][:, c, \"Block 1\", \"L\", y]) .+\n            data_mp.weights[\"H\"] .* value.(model_mp[:prices][:, c, \"Block 1\", \"H\", y])\n        ) ./ data_mp.weights[\"year\"];\n        save_path = joinpath(\n            mp_results_path,\n            \"graphics\",\n            \"mp_prices_$(c)_weighted_average_$(y).pdf\",\n        ),\n        rasterize = 5,\n    )\n\n    plot_model_nodes(\n        value.(model_mp[:yearly_demand][:, c, y]);\n        save_path = joinpath(mp_results_path, \"graphics\", \"mp_demand_$(c)_$(y).pdf\"),\n        rasterize = 5,\n    )\n\n    plot_model_nodes(\n        value.(model_mp[:yearly_production][:, c, y]);\n        save_path = joinpath(mp_results_path, \"graphics\", \"mp_production_$(c)_$(y).pdf\"),\n        geojson_property_tag = :MODEL_PRODUCER_5,\n        rasterize = 5,\n    )\n\n    plot_model_nodes(\n        value.(model_mp[:yearly_arc_flows][:, c, y]),\n        data_mp.arcs;\n        save_path = joinpath(mp_results_path, \"graphics\", \"mp_trade_flows_$(c)_$(y).pdf\"),\n        colorscheme = :linear_gow_65_90_c35_n256,\n        linewidth = 2,\n        largestvalues = 50,\n        rasterize = 5,\n    )\n\n    for i in [\"Renewable Hydrogen\", \"Nuclear Hydrogen\"]\n        plot_model_nodes(\n            value.(model_mp[:yearly_input_procurement][:, i, y]);\n            save_path = joinpath(\n                mp_results_path,\n                \"graphics\",\n                \"mp_procurement_$(i)_$(y).pdf\",\n            ),\n            geojson_property_tag = :MODEL_PRODUCER_5,\n            rasterize = 5,\n        )\n    end\nend\n\ndiff_plots_path = joinpath(dirname(dirname(pathof(HydrOGEnMod))), \"results\", \"cvx_diff\")\n\nfor y in [2030, 2050]\n    for s in [\"L\", \"H\"], c in [\"GH2\", \"NH3\"]\n        plot_model_nodes(\n            value.((\n                model_mp[:prices][:, c, \"Block 1\", s, y] .-\n                model_pc[:prices][:, c, \"Block 1\", s, y]\n            ));\n            save_path = joinpath(diff_plots_path, \"diff_prices_$(c)_$(s)_$(y).pdf\"),\n            rasterize = 5,\n        )\n    end\n\n    for c in [\"GH2\", \"NH3\"]\n        plot_model_nodes(\n            (\n                data_mp.weights[\"L\"] .* (\n                    value.(model_mp[:prices][:, c, \"Block 1\", \"L\", y]) .-\n                    value.(model_pc[:prices][:, c, \"Block 1\", \"L\", y])\n                ) .+\n                data_mp.weights[\"H\"] .* (\n                    value.(model_mp[:prices][:, c, \"Block 1\", \"H\", y]) .-\n                    value.(model_pc[:prices][:, c, \"Block 1\", \"H\", y])\n                )\n            ) ./ data_mp.weights[\"year\"];\n            save_path = joinpath(\n                diff_plots_path,\n                \"diff_prices_$(c)_weighted_average_$(y).pdf\",\n            ),\n            rasterize = 5,\n        )\n    end\n\n    for i in [\"Renewable Hydrogen\", \"Nuclear Hydrogen\"]\n        plot_model_nodes(\n            value.(\n                model_mp[:yearly_input_procurement][:, i, y] .-\n                model_pc[:yearly_input_procurement][:, i, y]\n            );\n            save_path = joinpath(diff_plots_path, \"diff_procurement_$(i)_$(y).pdf\"),\n            geojson_property_tag = :MODEL_PRODUCER_5,\n            rasterize = 5,\n        )\n    end\nend\n","category":"page"},{"location":"api/HydrOGEnMod_Types/","page":"HydrOGEnMod Types","title":"HydrOGEnMod Types","text":"CurrentModule = HydrOGEnMod","category":"page"},{"location":"api/HydrOGEnMod_Types/#HydrOGEnMod_Types","page":"HydrOGEnMod Types","title":"HydrOGEnMod_Types","text":"","category":"section"},{"location":"api/HydrOGEnMod_Types/","page":"HydrOGEnMod Types","title":"HydrOGEnMod Types","text":"Modules = [HydrOGEnMod.HydrOGEnMod_Types]","category":"page"},{"location":"api/HydrOGEnMod_Types/#HydrOGEnMod.HydrOGEnMod_Types.get_name-Tuple{HydrOGEnMod.HydrOGEnMod_Types.AbstractSet}","page":"HydrOGEnMod Types","title":"HydrOGEnMod.HydrOGEnMod_Types.get_name","text":"get_name(v::AbstractSet)\n\nGet the name (string) of an underlying struct, such as a model node.\n\nUse broadcasting to retrieve a vector of names from a vector of objects.\n\nExamples\n\njulia> using HydrOGEnMod\njulia> data = get_HydrOGEnMod_data();\njulia> get_name.(data.nodes)\n1-element Vector{String}:\n \"DEU\"\n\n\n\n\n\n","category":"method"},{"location":"tests/test_cases/test_case_14/#Test-Case-14","page":"Test Case 14","title":"Test Case 14","text":"","category":"section"},{"location":"tests/test_cases/test_case_14/","page":"Test Case 14","title":"Test Case 14","text":"Test Case 14 tests capacity expansion, scaling of investment costs and lifetimes for storage. The set-out is similar to Test Case 5, only that there exist multiple years and no exogenous storage capacities. If provision costs (including investments) are sufficiently low in comparison to willingness to pay, investments are made to expand non-existing storage. The tables below depict the sets and parameters, respectively. Tests pass if capacity expansion of 1 only happens in 2020, and prices are 0 in all low-demand time steps, and 0, 1 and 0.99 in high-demand time steps of 2020, 2025 and 2030, respectively. Passing criteria can be seen below, while the figure depicts a graphical solution.","category":"page"},{"location":"tests/test_cases/test_case_14/#Sets","page":"Test Case 14","title":"Sets","text":"","category":"section"},{"location":"tests/test_cases/test_case_14/","page":"Test Case 14","title":"Test Case 14","text":"Set Name Set Value\nmathcalA DEU_to_DEU\nmathcalAC (DEU_to_DEU CNG)\nmathcalC CNG\nmathcalDSB Block 1\nmathcalI Natural Gas\nmathcalIOB Block 1\nmathcalM LH\nmathcalN DEU\nmathcalO FES\nmathcalP P_DEU\nmathcalRA ∅\nmathcalRS ∅\nmathcalRV ∅\nmathcalS S_DEU\nmathcalT T_DEU\nmathcalV ∅\nmathcalVT ∅\nmathcalY 202020252030","category":"page"},{"location":"tests/test_cases/test_case_14/#Parameters","page":"Test Case 14","title":"Parameters","text":"","category":"section"},{"location":"tests/test_cases/test_case_14/","page":"Test Case 14","title":"Test Case 14","text":"Parameter m=L m=H\nfrac1  Delta _y 1 1\n1^NC_T_DEUDEUCNG 0 0\nr_2020 1 1\nr_2025 1 1\nr_2030 1 1\nd_m 2 1\nc^P_P_DEUCNGFES2020 04 04\nc^P_P_DEUCNGFES2025 04 04\nc^P_P_DEUCNGFES2030 04 04\nc^Delta P_P_DEUCNGFES2020 1 1\nc^Delta P_P_DEUCNGFES2025 1 1\nc^Delta P_P_DEUCNGFES2030 1 1\nfi^P_CNGNatural GasFES 1 1\nL^P_CNGFES 50 50\nLambda^P_P_DEUCNGFES2020 10 10\nLambda^P_P_DEUCNGFES2025 10 10\nLambda^P_P_DEUCNGFES2030 10 10\nLambda^I_P_DEUNatural GasBlock 12020 10 10\nLambda^I_P_DEUNatural GasBlock 12025 10 10\nLambda^I_P_DEUNatural GasBlock 12030 10 10\nOmega^I_P_DEUNatural GasBlock 12020 0 0\nOmega^I_P_DEUNatural GasBlock 12025 0 0\nOmega^I_P_DEUNatural GasBlock 12030 0 0\nc^Delta^I_P_DEUNatural GasBlock 12020 0 0\nc^Delta^I_P_DEUNatural GasBlock 12025 0 0\nc^Delta^I_P_DEUNatural GasBlock 12030 0 0\nLambda^T_T_DEUDEUCNGFES2020 10 10\nLambda^T_T_DEUDEUCNGFES2025 10 10\nLambda^T_T_DEUDEUCNGFES2030 10 10\nOmega^P_P_DEUCNGFES2020 10 10\nOmega^P_P_DEUCNGFES2025 10 10\nOmega^P_P_DEUCNGFES2030 10 10\nl^A_DEU_to_DEUCNG 0 0\nc^A_DEU_to_DEUCNG2020 0 0\nc^A_DEU_to_DEUCNG2025 0 0\nc^A_DEU_to_DEUCNG2030 0 0\nc^Delta A_DEU_to_DEUCNG2020 0 0\nc^Delta A_DEU_to_DEUCNG2025 0 0\nc^Delta A_DEU_to_DEUCNG2030 0 0\nLambda^A_DEU_to_DEUCNG2020 0 0\nLambda^A_DEU_to_DEUCNG2025 0 0\nLambda^A_DEU_to_DEUCNG2030 0 0\nL^A_CNG 50 50\nl^S_CNGmL 0 0\nl^S_CNGmH 0 0\nc^S_in_S_DEUCNG2020 0025 0025\nc^S_in_S_DEUCNG2025 0025 0025\nc^S_in_S_DEUCNG2030 0025 0025\nc^S_out_S_DEUCNG2020 0025 0025\nc^S_out_S_DEUCNG2025 0025 0025\nc^S_out_S_DEUCNG2030 0025 0025\nc^Delta S_S_DEUCNG2020 025 025\nc^Delta S_S_DEUCNG2025 025 025\nc^Delta S_S_DEUCNG2030 025 025\nLambda^S_S_DEUCNG2020 0 0\nLambda^S_S_DEUCNG2025 0 0\nLambda^S_S_DEUCNG2030 0 0\nOmega^S_S_DEUCNG2020 10 10\nOmega^S_S_DEUCNG2025 10 10\nOmega^S_S_DEUCNG2030 10 10\nL^S_CNG 5 5\nc^I_l_P_DEUNatural GasBlock 1m2020 05 16\nc^I_l_P_DEUNatural GasBlock 1m2025 05 16\nc^I_l_P_DEUNatural GasBlock 1m2030 05 16\nc^I_q_P_DEUNatural GasBlock 1m2020 0 0\nc^I_q_P_DEUNatural GasBlock 1m2025 0 0\nc^I_q_P_DEUNatural GasBlock 1m2030 0 0\nav^I_P_DEUNatural GasBlock 1m 1 1\nalpha^D_DEUCNGBlock 1m2020 0 2\nalpha^D_DEUCNGBlock 1m2025 0 2\nalpha^D_DEUCNGBlock 1m2030 0 2\nbeta^D_DEUCNGBlock 1m2020 0 -1\nbeta^D_DEUCNGBlock 1m2025 0 -1\nbeta^D_DEUCNGBlock 1m2030 0 -1","category":"page"},{"location":"tests/test_cases/test_case_14/#Test-Criteria","page":"Test Case 14","title":"Test Criteria","text":"","category":"section"},{"location":"tests/test_cases/test_case_14/","page":"Test Case 14","title":"Test Case 14","text":"Expression Result m=L Result m=H\ntildeP^T rightarrow D_DEUCNGBlock 1m2020 00 00\ntildeP^T rightarrow D_DEUCNGBlock 1m2025 00 10\ntildeP^T rightarrow D_DEUCNGBlock 1m2030 00 099\nDelta^S_S_DEUCNG2020 1 1\nDelta^S_S_DEUCNG2025 0 0\nDelta^S_S_DEUCNG2030 0 0","category":"page"},{"location":"tests/test_cases/test_case_14/#test_case_14_graphical_solution","page":"Test Case 14","title":"Graphical Solution","text":"","category":"section"},{"location":"tests/test_cases/test_case_14/#Marginalized-Provision-Costs-and-Prices","page":"Test Case 14","title":"Marginalized Provision Costs and Prices","text":"","category":"section"},{"location":"tests/test_cases/test_case_14/#Time-Step-L-2020","page":"Test Case 14","title":"Time Step L 2020","text":"","category":"section"},{"location":"tests/test_cases/test_case_14/","page":"Test Case 14","title":"Test Case 14","text":"(Image: test_case_14a_graphic)","category":"page"},{"location":"tests/test_cases/test_case_14/#Time-Step-H-2020","page":"Test Case 14","title":"Time Step H 2020","text":"","category":"section"},{"location":"tests/test_cases/test_case_14/","page":"Test Case 14","title":"Test Case 14","text":"(Image: test_case_14b_graphic)","category":"page"},{"location":"tests/test_cases/test_case_14/#Time-Step-L-2025","page":"Test Case 14","title":"Time Step L 2025","text":"","category":"section"},{"location":"tests/test_cases/test_case_14/","page":"Test Case 14","title":"Test Case 14","text":"(Image: test_case_14c_graphic)","category":"page"},{"location":"tests/test_cases/test_case_14/#Time-Step-H-2025","page":"Test Case 14","title":"Time Step H 2025","text":"","category":"section"},{"location":"tests/test_cases/test_case_14/","page":"Test Case 14","title":"Test Case 14","text":"(Image: test_case_14d_graphic)","category":"page"},{"location":"tests/test_cases/test_case_14/#Time-Step-L-2030","page":"Test Case 14","title":"Time Step L 2030","text":"","category":"section"},{"location":"tests/test_cases/test_case_14/","page":"Test Case 14","title":"Test Case 14","text":"(Image: test_case_14e_graphic)","category":"page"},{"location":"tests/test_cases/test_case_14/#Time-Step-H-2030","page":"Test Case 14","title":"Time Step H 2030","text":"","category":"section"},{"location":"tests/test_cases/test_case_14/","page":"Test Case 14","title":"Test Case 14","text":"(Image: test_case_14f_graphic)","category":"page"},{"location":"mathematical_formulation/convex_reformulation/convex_reformulation/#Convex-Optimization-Problem","page":"Convex Optimization Problem","title":"Convex Optimization Problem","text":"","category":"section"},{"location":"mathematical_formulation/convex_reformulation/convex_reformulation/","page":"Convex Optimization Problem","title":"Convex Optimization Problem","text":"beginaligned\t\nmax_substackq^I_pibmy  q^P rightarrow T_pcomy  Delta^I_piby  Delta^P_pcoy  q^T rightarrow D_tncbomy  q^V_vtcdomy  Delta^V_vccy  Delta^RV_vrrccy  q^T_tacomy  Delta^A_acy  Delta^RA_arcy  q^S_stcomy q^S_in_stcomy  q^S_out_stcomy   Delta^S_scy  Delta^RS_scry   quad  sum_y in mathcalY r_y  left \n\t\t\tbeginaligned\n\t\t\t\tsum_m in mathcalM d_m sum_c in mathcalC sum_n in mathcalN left( \n\t\t\t\tbeginaligned\n\t\t\t\t\tfrac12 sum_b in mathcalDSB beta^D_ncbmy left( sum_t in mathcalT sum_o in mathcalO q^T rightarrow D_tncbomy right)^2 \n\t\t\t\t\t+ sum_b in mathcalDSB alpha^D_ncbmy left( sum_t in mathcalT sum_o in mathcalO q^T rightarrow D_tncbomy right) \n\t\t\t\t\t+ frac12 sum_t in mathcalT 1^NC_tnc sum_b in mathcalDSB beta^D_ncbmy left( sum_o in mathcalO q^T rightarrow D_tncbomy right)^2 \n\t\t\t\tendaligned\n\t\t\t\tright) \n\t\t\t\t- sum_p in mathcalP sum_i in mathcalI sum_m in mathcalM d_m sum_b in mathcalIOB left(c^I_l_pibmy  q^I_pibmy + frac12 c^I_q_pibmy  left(q^I_pibmyright)^2 right) \n\t\t\t\t- sum_p in mathcalP sum_i in mathcalI sum_b in mathcalIOB frac1  Delta _y  c^Delta^I_piby  Delta^I_piby \n\t\t\t\t- sum_p in mathcalP sum_c in mathcalC sum_o in mathcalO sum_m in mathcalM d_m  c^P_pcoy q^P rightarrow T_pcomy\n\t\t\t\t- sum_p in mathcalP sum_c in mathcalC sum_o in mathcalO frac1  Delta _y c^Delta P_pcoy Delta^P_pcoy \n\t\t\t\t- sum_v in mathcalV sum_t in mathcalT sum_(cc) in mathcalVT sum_o in mathcalO sum_m in mathcalM d_m c^V_vccy  q^V_vtccomy \n\t\t\t\t- sum_v in mathcalV sum_(cc) in mathcalVT frac1  Delta _y c^Delta V_vccy Delta^V_vccy \n\t\t\t\t- sum_v in mathcalV sum_((rr)(cc)) in mathcalRV frac1  Delta _y c^Delta^RV_vrrccy Delta^RV_vrrccy\n\t\t\t\t- sum_t in mathcalT sum_ (ac) in mathcalAC  sum_o in mathcalO sum_m in mathcalM d_m c^A_acy  q^T_tacomy \n\t\t\t\t- sum_ (ac) in mathcalAC  frac1  Delta _y frac12 c^Delta A_acy Delta^A_acy \n\t\t\t\t- sum_a in mathcalA sum_(rc) in mathcalRA  (ar) in mathcalAC  frac1  Delta _y frac12 c^Delta^RA_arcy Delta^RA_arcy\n\t\t\t\t- sum_s in mathcalS sum_t in mathcalT sum_c in mathcalC sum_o in mathcalO sum_m in mathcalM d_m c^S_in_scy q^S_in_stcomy \n\t\t\t\t- sum_s in mathcalS sum_t in mathcalT sum_c in mathcalC sum_o in mathcalO sum_m in mathcalM d_m c^S_out_scy q^S_out_stcomy \n\t\t\t\t- sum_s in mathcalS sum_c in mathcalC frac1  Delta _y c^Delta S_scy Delta^S_scy\n\t\t\t\t- sum_s in mathcalS sum_(rc) in mathcalRS frac1  Delta _y c^Delta^RS_srcy Delta^RS_srcy\n\t\t\tendaligned \n\t\t\tright \ntextst  \t sum_o in mathcalO sum_c in mathcalC fi^P_cio q^P rightarrow T_pcomy leq sum_b in mathcalIOB q^I_pibmy   beginaligned\n\t\t\t\tforall p in mathcalP i in mathcalI  m in mathcalM y in mathcalY \n\t\t\tendaligned quad (phi^P_pimy)  \n\t\t\t\n\t\t\t q^I_pibmy  leq av^I_pibm\n\t\t\tleft( beginaligned\n\t\t\t\tLambda^I_piby  + sum_ y in mathcalY  (y-L^I_i leq y  y )   Delta^I_piby\n\t\t\tendaligned \n\t\t\tright)    beginaligned\n\t\t\t\tforall p in mathcalP i in mathcalI  b in mathcalIOB  m in mathcalM  y in mathcalY\n\t\t\tendaligned  quad ( Lambda^I_piby)  \n\t\t\t\n\t\t\t q^P rightarrow T_pcomy leq left( \n\t\t\tbeginaligned\n\t\t\t\tLambda^P_pcoy  + sum_ y in mathcalY  (y-L^P_co leq y  y )  Delta^P_pcoy \n\t\t\tendaligned \n\t\t\tright)   beginaligned\n\t\t\t\tforall p in mathcalP c in mathcalC  o in mathcalO  m in mathcalM  y in mathcalY \n\t\t\tendaligned quad (lambda^P_pcomy)  \n\t\t\t\n\t\t\t Delta^P_pcoy leq Omega^P_pcoy   beginaligned\n\t\t\t\tforall p in mathcalP c in mathcalC o in mathcalO y in mathcalY \n\t\t\tendaligned quad (omega^P_pcoy)  \n\t\t\t\n\t\t\t sum_ y in mathcalY  (y-L^I_i leq y  y )  Delta^I_piby leq Omega^I_piby   beginaligned\n\t\t\t\tforall p in mathcalP i in mathcalI  b in mathcalIOB  y in mathcalY \n\t\t\tendaligned quad (omega^I_piby)  \n\t\t\t\n\t\t\tbeginaligned\n\t\t\t\tleft(beginaligned\n\t\t\t\t\tsum_a in mathcalA_s(n)  (ac) in mathcalAC  (1+l^A_ac) q^T_tacomy  \n\t\t\t\t\t+ sum_b in mathcalDSB q^T rightarrow D_tncbomy \n\t\t\t\t\t+ sum_c in mathcalC  (cc) in mathcalVTfi^V_cc q^V_v(n)tccomy \n\t\t\t\t\t+ q^S_in_s(n)tcomy\n\t\t\t\tendalignedright)   leq \n\t\t\t\tleft(beginaligned\n\t\t\t\t\tsum_a in mathcalA_e(n)  (ac) in mathcalAC  q^T_tacomy  \n\t\t\t\t\t+ sum_c in mathcalC  (cc) in mathcalVTq^V _v(n)tccomy \n\t\t\t\t\t+ sum_p in mathcalP(tn) q^P rightarrow T_pcomy \n\t\t\t\t\t+ q^S_out_s(n)tcomy\n\t\t\t\tendalignedright) \n\t\t\tendaligned \n\t\t\t beginaligned\n\t\t\t\tforall t in mathcalT n in mathcalN  c in mathcalC   o in mathcalO  m in mathcalM y in mathcalY \n\t\t\tendaligned quad (phi^T_tncomy) \n\t\t\t\n\t\t\t sum_m in mathcalM d_m sum_b in mathcalDSB q^T rightarrow D_tncbomy leq Lambda^T_tncoy   \n\t\t\tbeginaligned\n\t\t\t\tforall t in mathcalT n in mathcalN  c in mathcalC  o in mathcalO  y in mathcalY\n\t\t\tendaligned\n\t\t\tquad  (lambda^T_tncoy) \n\t\t\t\n\t\t\t beginaligned sum_o in mathcalO sum_t in mathcalT q^V_vtccomy  leq left( \n\t\t\t\tbeginaligned\n\t\t\t\t\tLambda^V_vccy \n\t\t\t\t\t+ sum_y in mathcalY  y-L^V_cc leq y  y  Delta^V_vccy \n\t\t\t\t\t+ sum_(rr)  ((rr)(cc)) in mathcalRV sum_ y in mathcalY  y-L^V_cc leq y y f^RV_rrcc Delta^RV_vrrccy \n\t\t\t\t\t- sum_(rr)  ((cc)(rr)) in mathcalRV sum_ y in mathcalY  y y  Delta^RV_vccrry\n\t\t\t\tendaligned \n\t\t\t\tright) endaligned    \n\t\t\tbeginaligned\n\t\t\t\tforall v in mathcalV  (cc) in mathcalVT  m in mathcalM y in mathcalY\n\t\t\tendaligned\n\t\t\tquad  (lambda^V_vcdsy) \n\t\t\t\n\t\t\t sum_o in mathcalO sum_t in mathcalTq^T_tacomy leq left( \n\t\t\tbeginaligned\n\t\t\t\tLambda^A_acy  \n\t\t\t\t+ sum_ y in mathcalY  y-L^A_c leq y y Delta^A_acy \n\t\t\t\t+ sum_r  (rc) in mathcalRA sum_ y in mathcalY  y-L^A_c leq y y f^RA_rc Delta^RA_arcy \n\t\t\t\t- sum_r  (cr) in mathcalRA sum_ y in mathcalY  y y Delta^RA_acry\n\t\t\tendaligned \n\t\t\tright)     \n\t\t\tbeginaligned\n\t\t\t\tforall  (ac) in mathcalAC  m in mathcalM y in mathcalY \n\t\t\tendaligned quad  (lambda^A_acmy) \n\t\t\t\n\t\t\t Delta^A_acy =  Delta^A_a^-1(a)cy  quad  \n\t\t\tbeginaligned\n\t\t\t\tforall  (ac) in mathcalAC    y in mathcalY\n\t\t\tendaligned\n\t\t\tquad  (delta^A_acy) \n\t\t\t\n\t\t\t Delta^RA_arcy = Delta^RA_a^-1(a)rcy quad  \n\t\t\tbeginaligned\n\t\t\t\tforall a in mathcalA  (rc) in mathcalRA   (ar) in mathcalAC y in mathcalY\n\t\t\tendaligned\n\t\t\tquad  (delta^RA_arcy) \n\t\t\t\n\t\t\t beginaligned\n\t\t\t\tsum_o in mathcalO  sum_t in mathcalT q^S_stcomy  quad leq \n\t\t\t\tleft( \n\t\t\t\tbeginaligned\n\t\t\t\t\tLambda^S_scy  + sum_ y in mathcalY  y-L^S_c leq yy Delta^S_scy\n\t\t\t\t\t+ sum_r  (rc) in mathcalRS sum_ y in mathcalY  y-L^S_c leq y y f^RS_rc Delta^RS_srcy \n\t\t\t\t\t- sum_r  (cr) in mathcalRS sum_ y in mathcalY  y y Delta^RS_scry\n\t\t\t\tendaligned \n\t\t\t\tright) \n\t\t\tendaligned\n\t\t\t \n\t\t\tbeginaligned\n\t\t\t\tforall s in mathcalS c in mathcalC  m in mathcalM y in mathcalY\n\t\t\tendaligned \n\t\t\tquad  (lambda^S_scmy) \n\t\t\t\n\t\t\t beginaligned\n\t\t\t\tq^S_stcom^+(m)y  quad leq \n\t\t\t\tleft(1- l^S_cmm^+(m) right) cdot left\n\t\t\t\tbeginaligned\n\t\t\t\t\tq^S_stcomy  + d_m left(q^S_in_stcomy - q^S_out_stcomyright) \n\t\t\t\tendalignedright \n\t\t\tendaligned\n\t\t\t \n\t\t\tbeginaligned\n\t\t\t\tforall s in mathcalS t in mathcalT  c in mathcalC o in mathcalO  m in mathcalM y in mathcalY\n\t\t\tendaligned \n\t\t\tquad  (phi^S_stcomy) \n\t\t\t\n\t\t\t left( \n\t\t\tbeginaligned\n\t\t\t\tsum_ y in mathcalY  y-L^S_c leq yy Delta^S_scy\n\t\t\t\t+ sum_r  (rc) in mathcalRS sum_ y in mathcalY  y-L^S_c leq y y f^RS_rc Delta^RS_srcy \n\t\t\t\t- sum_r  (cr) in mathcalRS sum_ y in mathcalY  y y Delta^RS_scry\n\t\t\tendaligned \n\t\t\tright) \n\t\t\tleq Omega^S_scy   beginaligned\n\t\t\t\tforall s in mathcalS c in mathcalC  y in mathcalY\n\t\t\tendaligned  quad (omega^S_scy)  \n\t\t\t\n\t\t\t left( beginaligned\n\t\t\t\tq^I_pibmy q^P rightarrow T_pcomy Delta^I_piby Delta^P_pcoy q^T rightarrow D_tncbomy  q^V_vtccomy Delta^V_vccy Delta^RV_vrrccy q^T_tacomy Delta^A_acy Delta^RA_arcy q^S_stcomy q^S_in_stcomy q^S_out_stcomy Delta^S_scy Delta^RS_scry\n\t\t\tendaligned right) geq 0 quad  quadquadquadquadquadquadquad quadquadquadquadquadquadquad \nendaligned","category":"page"},{"location":"tests/test_cases/test_case_24/#Test-Case-24","page":"Test Case 24","title":"Test Case 24","text":"","category":"section"},{"location":"tests/test_cases/test_case_24/","page":"Test Case 24","title":"Test Case 24","text":"Test Case 24 asserts that supplying to multiple demand blocks of the same commodity works as expected. The tables below depict relevant sets and parameters. Test Case 24 passes, if prices in the single node are equal to the intersection of marginalized provision cost and inverse demand. For the given data, prices should be P=10.","category":"page"},{"location":"tests/test_cases/test_case_24/#Sets","page":"Test Case 24","title":"Sets","text":"","category":"section"},{"location":"tests/test_cases/test_case_24/","page":"Test Case 24","title":"Test Case 24","text":"Set Name Set Value\nmathcalA DEU_to_DEU\nmathcalAC (DEU_to_DEU CNG)\nmathcalC CNG\nmathcalDSB Block 1Block 2\nmathcalI Natural Gas\nmathcalIOB Block 1\nmathcalM OnlyTimeStep\nmathcalN DEU\nmathcalO FES\nmathcalP P_DEU\nmathcalRA ∅\nmathcalRS ∅\nmathcalRV ∅\nmathcalS ∅\nmathcalT T_DEU\nmathcalV ∅\nmathcalVT ∅\nmathcalY 2020","category":"page"},{"location":"tests/test_cases/test_case_24/#Parameters","page":"Test Case 24","title":"Parameters","text":"","category":"section"},{"location":"tests/test_cases/test_case_24/","page":"Test Case 24","title":"Test Case 24","text":"Parameter y=2020\nfrac1  Delta _y 1\n1^NC_T_DEUDEUCNG 0\nr_y 1\nd_OnlyTimeStep 1\nc^P_P_DEUCNGFESy 05\nc^Delta P_P_DEUCNGFESy 1\nfi^P_CNGNatural GasFES 1\nL^P_CNGFES 50\nLambda^P_P_DEUCNGFESy 10\nLambda^I_P_DEUNatural GasBlock 1y 10\nOmega^I_P_DEUNatural GasBlock 1y 0\nc^Delta^I_P_DEUNatural GasBlock 1y 0\nLambda^T_T_DEUDEUCNGFESy 10\nOmega^P_P_DEUCNGFESy 10\nl^A_DEU_to_DEUCNG 0\nc^A_DEU_to_DEUCNGy 0\nc^Delta A_DEU_to_DEUCNGy 0\nLambda^A_DEU_to_DEUCNGy 0\nL^A_CNG 50\nc^I_l_P_DEUNatural GasBlock 1OnlyTimeStepy 05\nc^I_q_P_DEUNatural GasBlock 1OnlyTimeStepy 00\nav^I_P_DEUNatural GasBlock 1OnlyTimeStep 1\nalpha^D_DEUCNGBlock 1OnlyTimeStepy 2\nbeta^D_DEUCNGBlock 1OnlyTimeStepy -1\nalpha^D_DEUCNGBlock 2OnlyTimeStepy 15\nbeta^D_DEUCNGBlock 2OnlyTimeStepy -05","category":"page"},{"location":"tests/test_cases/test_case_24/#Test-Criteria","page":"Test Case 24","title":"Test Criteria","text":"","category":"section"},{"location":"tests/test_cases/test_case_24/","page":"Test Case 24","title":"Test Case 24","text":"Expression Result y=2020\ntildeP^T rightarrow D_DEUCNGBlock 1OnlyTimeStep2020 10\ntildeP^T rightarrow D_DEUCNGBlock 2OnlyTimeStep2020 10\nObjective Value 075","category":"page"},{"location":"tests/test_cases/test_case_24/#Graphical-Solution","page":"Test Case 24","title":"Graphical Solution","text":"","category":"section"},{"location":"tests/test_cases/test_case_24/#Inverse-Demand-and-Marginalized-Cost-Curves","page":"Test Case 24","title":"Inverse Demand and Marginalized Cost Curves","text":"","category":"section"},{"location":"tests/test_cases/test_case_24/#Block-1","page":"Test Case 24","title":"Block 1","text":"","category":"section"},{"location":"tests/test_cases/test_case_24/","page":"Test Case 24","title":"Test Case 24","text":"(Image: test_case_24a_graphic)","category":"page"},{"location":"tests/test_cases/test_case_24/#Block-2","page":"Test Case 24","title":"Block 2","text":"","category":"section"},{"location":"tests/test_cases/test_case_24/","page":"Test Case 24","title":"Test Case 24","text":"(Image: test_case_24b_graphic)","category":"page"},{"location":"tests/test_cases/test_case_6/#Test-Case-6","page":"Test Case 6","title":"Test Case 6","text":"","category":"section"},{"location":"tests/test_cases/test_case_6/","page":"Test Case 6","title":"Test Case 6","text":"Test Case 6 works similar to Test Case 5, but here the low demand time step has half the weight. Prices remain unchanged, however the low-demand production quantity per timestep should be twice as high as consumption in the high-demand time step. The test is passed if P_H=1P_L=0 and production is 00 and 20 during high and low demand time steps, respectively.","category":"page"},{"location":"tests/test_cases/test_case_6/#Sets","page":"Test Case 6","title":"Sets","text":"","category":"section"},{"location":"tests/test_cases/test_case_6/","page":"Test Case 6","title":"Test Case 6","text":"Set Name Set Value\nmathcalA DEU_to_DEU\nmathcalAC (DEU_to_DEUCNG)\nmathcalC CNG\nmathcalDSB Block 1\nmathcalI Natural Gas\nmathcalIOB Block 1\nmathcalM LH\nmathcalN DEU\nmathcalO FES\nmathcalP P_DEU\nmathcalRA ∅\nmathcalRS ∅\nmathcalRV ∅\nmathcalS S_DEU\nmathcalT T_DEU\nmathcalV ∅\nmathcalVT ∅\nmathcalY 2020","category":"page"},{"location":"tests/test_cases/test_case_6/#Parameters","page":"Test Case 6","title":"Parameters","text":"","category":"section"},{"location":"tests/test_cases/test_case_6/","page":"Test Case 6","title":"Test Case 6","text":"Parameter m=L m=H\nfrac1  Delta _y 1 1\n1^NC_T_DEUDEUCNG 0 0\nr_2020 1 1\nd_m 2 4\nc^P_P_DEUCNGFES2020 04 04\nc^Delta P_P_DEUCNGFES2020 1 1\nfi^P_CNGNatural GasFES 1 1\nL^P_CNGFES 50 50\nLambda^P_P_DEUCNGFES2020 10 10\nLambda^I_P_DEUNatural GasBlock 12020 10 10\nOmega^I_P_DEUNatural GasBlock 12020 0 0\nc^Delta^I_P_DEUNatural GasBlock 12020 0 0\nLambda^T_T_DEUDEUCNGFES2020 10 10\nOmega^P_P_DEUCNGFES2020 10 10\nl^A_DEU_to_DEUCNG 0 0\nc^A_DEU_to_DEUCNG2020 0 0\nc^Delta A_DEU_to_DEUCNG2020 0 0\nLambda^A_DEU_to_DEUCNG2020 0 0\nL^A_CNG 50 50\nl^S_CNGmL 0 0\nl^S_CNGmH 0 0\nc^S_in_S_DEUCNG2020 005 005\nc^S_out_S_DEUCNG2020 005 005\nc^Delta S_S_DEUCNG2020 10 10\nLambda^S_S_DEUCNG2020 10 10\nOmega^S_S_DEUCNG2020 10 10\nL^S_CNG 10 10\nc^I_l_P_DEUNatural GasBlock 1m2020 05 10\nc^I_q_P_DEUNatural GasBlock 1m2020 0 0\nav^I_P_DEUNatural GasBlock 1m 1 1\nalpha^D_DEUCNGBlock 1m2020 0 2\nbeta^D_DEUCNGBlock 1m2020 0 -1","category":"page"},{"location":"tests/test_cases/test_case_6/#Test-Criteria","page":"Test Case 6","title":"Test Criteria","text":"","category":"section"},{"location":"tests/test_cases/test_case_6/","page":"Test Case 6","title":"Test Case 6","text":"Expression Result m=L Result m=H\ntildeP^T rightarrow D_DEUCNGBlock 1m2020 00 10\nq^I_P_DEUNatural GasBlock 1m2020 20 00","category":"page"},{"location":"tests/test_cases/test_case_6/#Graphical-Solution","page":"Test Case 6","title":"Graphical Solution","text":"","category":"section"},{"location":"tests/test_cases/test_case_6/#Marginalized-Provision-Costs-and-Prices-for-Different-Time-Steps","page":"Test Case 6","title":"Marginalized Provision Costs and Prices for Different Time Steps","text":"","category":"section"},{"location":"tests/test_cases/test_case_6/#Time-Step-L","page":"Test Case 6","title":"Time Step L","text":"","category":"section"},{"location":"tests/test_cases/test_case_6/","page":"Test Case 6","title":"Test Case 6","text":"(Image: test_case_6a_graphic)","category":"page"},{"location":"tests/test_cases/test_case_6/#Time-Step-H","page":"Test Case 6","title":"Time Step H","text":"","category":"section"},{"location":"tests/test_cases/test_case_6/","page":"Test Case 6","title":"Test Case 6","text":"(Image: test_case_6b_graphic)","category":"page"},{"location":"mathematical_formulation/player_problems/producer_problem/#Producer","page":"Producer Problem","title":"Producer","text":"","category":"section"},{"location":"mathematical_formulation/player_problems/producer_problem/","page":"Producer Problem","title":"Producer Problem","text":"beginaligned\n\t\t\tmax_substackq^I_pibmy  q^P rightarrow T_pcomy  Delta^I_piby  Delta^P_pcoy  quad  sum_y in mathcalY r_y left \n\t\t\tbeginalignedsum_m in mathcalM d_m left(\n\t\t\t\tbeginaligned\n\t\t\t\t\tsum_o in mathcalO sum_c in mathcalC left(pi^P_n(p)comy - c^P_pcoy right) q^P rightarrow T_pcomy \n\t\t\t\t\t- sum_i in mathcalI sum_b in mathcalIOB left(c^I_l_pibmy  q^I_pibmy + frac12 c^I_q_pibmy  left(q^I_pibmyright)^2 right)\n\t\t\t\tendaligned \n\t\t\t\tright)  \n\t\t\t\t- sum_i in mathcalI sum_b in mathcalIOB frac1  Delta _y  c^Delta^I_piby  Delta^I_piby \n\t\t\t\t- sum_c in mathcalC sum_o in mathcalO frac1  Delta _y c^Delta P_pcoy Delta^P_pcoy\n\t\t\tendaligned right \n\ntextst quad \t sum_o in mathcalO sum_c in mathcalC fi^P_cio q^P rightarrow T_pcomy leq sum_b in mathcalIOB q^I_pibmy quad beginaligned\n\t\t\t\tforall i in mathcalI  m in mathcalM  y in mathcalY \n\t\t\tendaligned quad (phi^P_pimy)  \n\t\t\t\n\t\t\t q^I_pibmy  leq av^I_pibm\n\t\t\tleft( beginaligned\n\t\t\t\tLambda^I_piby  + sum_ y in mathcalY  (y-L^I_i leq y  y )   Delta^I_piby\n\t\t\tendaligned \n\t\t\tright)\n\t\t\t beginaligned\n\t\t\t\tforall i in mathcalI b in mathcalIOB  m in mathcalM y in mathcalY\n\t\t\tendaligned  quad ( Lambda^I_piby)  \n\t\t\t\n\t\t\t q^P rightarrow T_pcomy leq left( \n\t\t\tbeginaligned\n\t\t\t\tLambda^P_pcoy  + sum_ y in mathcalY  (y-L^P_co leq y  y )  Delta^P_pcoy \n\t\t\tendaligned \n\t\t\tright) quad  beginaligned\n\t\t\t\tforall c in mathcalC forall o in mathcalO m in mathcalM y in mathcalY \n\t\t\tendaligned quad (lambda^P_pcomy)  \n\t\t\t\n\t\t\t Delta^P_pcoy leq Omega^P_pcoy quad beginaligned\n\t\t\t\tforall c in mathcalC  o in mathcalO y in mathcalY\n\t\t\tendaligned  quad (omega^P_pcoy)  \n\t\t\t\n\t\t\t sum_ y in mathcalY  (y-L^I_i leq y  y )  Delta^I_piby leq Omega^I_piby quad  beginaligned\n\t\t\t\tforall i in mathcalI b in mathcalIOB y in mathcalY\n\t\t\tendaligned  quad (omega^I_piby)  \n\t\t\t\n\t\t\t q^I_pibmy q^P rightarrow T_pcomy Delta^I_piby Delta^P_pcoy geq 0 quad    \n\n\t\tendaligned","category":"page"},{"location":"mathematical_formulation/complementarity_problem/producer_optimality_conditions/#Producer-Optimality-Conditions","page":"Producer KKTs","title":"Producer Optimality Conditions","text":"","category":"section"},{"location":"mathematical_formulation/complementarity_problem/producer_optimality_conditions/","page":"Producer KKTs","title":"Producer KKTs","text":"beginaligned\t\nleft(beginaligned\n\t\t\t\tr_y d_m left(c^I_l_pibmy + c^I_q_pibmy q^I_pibmy right)  - phi^P_pimy + Lambda^I_piby\n\t\t\tendalignedright)\n\t\t\tgeq 0  perp q^I_pibmy geq 0  \n\t\t\tbeginaligned\n\t\t\t\tforall p in mathcalP i in mathcalI  b in mathcalIOB m in mathcalM y in mathcalY\n\t\t\tendaligned \n\t\t\t\n\t\t\tleft(beginaligned\n\t\t\t\tr_y d_m left(-pi^P_n(p)comy + c^P_pcoyright)  + sum_i in mathcalI fi^P_cio phi^P_pisy + lambda^P_pcomy\n\t\t\tendalignedright)\n\t\t\tgeq 0  perp q^P rightarrow T_pcomy geq 0  \n\t\t\tbeginaligned\n\t\t\t\tforall p in mathcalP c in mathcalC  o in mathcalO m in mathcalM  y in mathcalY\n\t\t\tendaligned \n\t\t\t\n\t\t\tleftbeginaligned\n\t\t\t\tfracr_y  Delta _y c^Delta^I_piby   - sum_ y in mathcalY  (y  y leq y+L^I_i )  sum_m in mathcalM av^I_pibm lambda^I_pibmy  + sum_ y in mathcalY  (y  y leq y + L^I_i  )  omega^I_piby \n\t\t\tendalignedright\n\t\t\tgeq 0  perp Delta^I_piby geq 0  \n\t\t\tbeginaligned\n\t\t\t\tforall p in mathcalP i in mathcalI  b in mathcalIOB y in mathcalY\n\t\t\tendaligned \n\t\t\t\n\t\t\tleft(beginaligned\n\t\t\t\tfracr_y  Delta _y c^Delta P_pcoy  - sum_y in mathcalY  (y  y leq y + L^P_co) sum_m in mathcalMlambda^P_pcomy + omega^P_pcoy\n\t\t\tendalignedright)\n\t\t\tgeq 0  perp Delta^P_pcoy geq 0  \n\t\t\tbeginaligned\n\t\t\t\tforall p in mathcalP c in mathcalC  o in mathcalO y in mathcalY\n\t\t\tendaligned \n\t\t\t \n\t\t\tleft(beginaligned\n\t\t\t\tsum_b in mathcalIOB q^I_pibmy - sum_o in mathcalO sum_c in mathcalC fi^P_cio q^P rightarrow T_pcomy\n\t\t\tendalignedright)\n\t\t\tgeq 0  perp phi^P_pimy geq 0  \n\t\t\tbeginaligned\n\t\t\t\tforall p in mathcalP i in mathcalI  m in mathcalS y in mathcalY\n\t\t\tendaligned \n\t\t\t\n\t\t\tleftbeginaligned\n\t\t\t\tav^I_pibm\n\t\t\t\tleft( beginaligned\n\t\t\t\t\tsum_ y in mathcalY  (y-L^I_i leq y  y )   Delta^I_piby  + Lambda^I_piby\n\t\t\t\tendaligned right)  - q^I_pibmy\n\t\t\tendalignedright\n\t\t\tgeq 0  perp Lambda^I_piby geq 0  \n\t\t\tbeginaligned\n\t\t\t\tforall p in mathcalP i in mathcalI  b in mathcalIOB m in mathcalS  y in mathcalY\n\t\t\tendaligned \n\t\t\t\n\t\t\tleftbeginaligned\n\t\t\t\tleft( beginaligned\n\t\t\t\t\tsum_ y in mathcalY  (y-L^P_co leq y  y )  Delta^P_pcoy  + Lambda^P_pcoy \n\t\t\t\tendaligned right)  - q^P rightarrow T_pcomy\n\t\t\tendalignedright\n\t\t\tgeq 0  perp lambda^P_pcomy geq 0  \n\t\t\tbeginaligned\n\t\t\t\tforall p in mathcalP c in mathcalC  o in mathcalO m in mathcalM  y in mathcalY\n\t\t\tendaligned \n\t\t\t\n\t\t\tleft(beginaligned\n\t\t\t\tOmega^P_pcoy - Delta^P_pcoy \n\t\t\tendalignedright)\n\t\t\tgeq 0  perp omega^P_pcoy geq 0  \n\t\t\tbeginaligned\n\t\t\t\tforall p in mathcalP c in mathcalC  o in mathcalO y in mathcalY\n\t\t\tendaligned \n\t\t\t\n\t\t\tleft(beginaligned\n\t\t\t\tOmega^I_piby - sum_ y in mathcalY  (y-L^I_i leq y  y )   Delta^I_piby\n\t\t\tendalignedright)\n\t\t\tgeq 0  perp omega^I_piby geq 0  \n\t\t\tbeginaligned\n\t\t\t\tforall p in mathcalP i in mathcalI  b in mathcalIOB y in mathcalY\n\t\t\tendaligned \nendaligned","category":"page"},{"location":"manual/running_code/#Running-the-Model","page":"Running Code","title":"Running the Model","text":"","category":"section"},{"location":"manual/running_code/","page":"Running Code","title":"Running Code","text":"The mathematical formulation builds upon two possible versions, a convex optimization problem and a mixed complementarity problem implementation. ","category":"page"},{"location":"manual/running_code/","page":"Running Code","title":"Running Code","text":"When performance matters, it is recommended to utilize the convex optimization problem version, as it is more efficient in terms of both solution procedures, as well as model building and solution retrieval.","category":"page"},{"location":"manual/running_code/#Convex-Optimization-Problem","page":"Running Code","title":"Convex Optimization Problem","text":"","category":"section"},{"location":"manual/running_code/","page":"Running Code","title":"Running Code","text":"The code below depicts an exemplary usage of model code for the convex optimization problem formulation.  Running the model requires supplying a datafile with the corresponding Data Specification.","category":"page"},{"location":"manual/running_code/","page":"Running Code","title":"Running Code","text":"Note, that in addition to this package, an additional solver is required. Any solver that works with the JuMP package and is suitable to solve convex quadratic programs may be employed. Some open source options include e.g. HiGHS, Ipopt or OSQP, while Gurobi provides a very performant commercial but free to academics option.","category":"page"},{"location":"manual/running_code/","page":"Running Code","title":"Running Code","text":"# To use the HydrOGEnMod.jl package: \nusing HydrOGEnMod\n# In addition, a solver that is capable of solving QPs is needed:\nusing Ipopt\n# To interact with the solved model instance, JuMP is helpful:\nusing JuMP\n\n# To load the data from the datafile, use the following syntax: \ndata = get_HydrOGEnMod_data(\"path/to/data/file\");\n\n# to store the data in a directory to be specified, use the following function:\nwrite_csv(\"path/to/calculated/parameters\",data)\n\n# to build a JuMP Model with the data, use the following function: \nmodel = build_optimization_model(data)\n\n# to solve the JuMP Model with a solver of your choice, run the following function:\noptimize!(model, Ipopt.Optimizer)\n\n# you can also specify different solver options like this: \noptions = (\"TimeLimit\" => 100,\"TimeLimit\" => 100, \"FeasibilityTol\" => 1e-6)\noptimize!(model, Ipopt.Optimizer, options)\n\n# to write the results to a file, use the following function: \nwrite_csv(\"path/to/resultsfile\", model)\n\n# you can further interact with the solved model like this: \nprices = value.(model[:prices])\n\n# to plot an overview of the model nodes, use this function: \nplot_model_nodes()\n\n# both arguments nodes_path and disputed_path can be specified to point to your own files:\nplot_model_nodes(nodes_path = \"path/to/nodes/file\", disputed_path = \"path/to/disputed/file\")\n\n# to plot results (e.g. prices) into the map, use the following function: \nplot_model_nodes(prices[:, \"GH2\", \"Block 1\", \"OnlySeason\", 2020])\n\n# This also works with custom model node files:  \nplot_model_nodes(prices[:, \"GH2\", \"Block 1\", \"OnlySeason\", 2020], nodes_path = \"path/to/nodes/file\", disputed_path = \"path/to/disputed/file\")\n\n# To all plot_model_nodes, a path where to save the figure can be specified: \nplot_model_nodes(prices[:, \"GH2\", \"Block 1\", \"OnlySeason\", 2020], save_path = \"path/to/save/fig.pdf\")\n\n# for further examples, please check out the test scripts or the replication section...","category":"page"},{"location":"manual/running_code/#Mixed-Complementarity-Problem","page":"Running Code","title":"Mixed Complementarity Problem","text":"","category":"section"},{"location":"manual/running_code/","page":"Running Code","title":"Running Code","text":"The code below depicts an exemplary usage of model code for the mixed complementarity problem formulation. ","category":"page"},{"location":"manual/running_code/","page":"Running Code","title":"Running Code","text":"Running the model requires supplying a datafile with the corresponding Data Specification.","category":"page"},{"location":"manual/running_code/","page":"Running Code","title":"Running Code","text":"The implementation in this package makes use of the PATH solver. Note, that despite being available as a dependency, the PATH solver is limited in the number of variables if no license string is provided via the environment variable PATH_LICENSE_STRING. The corresponding environment variable may either be set on the machine, or via ENV[\"PATH_LICENSE_STRING\"] = \"license_string\" from within Julia. At the time of writing, an official license string is available from the developers website. ","category":"page"},{"location":"manual/running_code/","page":"Running Code","title":"Running Code","text":"# Before using the package, a valid license string to the PATH solver needs to be specified:\nENV[\"PATH_LICENSE_STRING\"] = \"Copy_license_string_here\"\n\n# To use the HydrOGEnMod.jl package: \nusing HydrOGEnMod\n\n# To interact with the solved model instance, JuMP and Complementarity are helpful:\nusing JuMP, Complementarity\n\n# we can get the data by typing the following line:\n# To get a different data file, use the keyword data = /path/to/some/datafile\ndata = get_HydrOGEnMod_data(\"path/to/data/file\");\n\n# to store the data in a directory to be specified, use the following function:\nwrite_csv(\"path/to/calculated/parameters\",data)\n\n# to build a JuMP Model with the data, use the following function: \nmodel = build_complementarity_model(data)\n\n# to solve the JuMP Model with a solver of your choice, run the following function:\nsolve_mcp(model)\n\n# you can also specify different solver options like this: \noptions = (output = \"no\", time_limit = 5)\nsolve_mcp(model; options)\n\n# to write the results to a file, use the following function: \nwrite_csv(\"path/to/resultsfile\", model)\n\n# you can further interact with the solved model like this: \nprices = result_value.(model[:π_T_to_D])\n\n# to plot an overview of the model nodes, use this function: \nplot_model_nodes()\n\n# both arguments nodes_path and disputed_path can be specified to point to your own files:\nplot_model_nodes(nodes_path = \"path/to/nodes/file\", disputed_path = \"path/to/disputed/file\")\n\n# to plot results (e.g. prices) into the map, use the following function: \nplot_model_nodes(prices[:, \"GH2\", \"Block 1\", \"OnlySeason\", 2020])\n\n# This also works with custom model node files:  \nplot_model_nodes(prices[:, \"GH2\", \"Block 1\", \"OnlySeason\", 2020], nodes_path = \"path/to/nodes/file\", disputed_path = \"path/to/disputed/file\")\n\n# To all plot_model_nodes, a path where to save the figure can be specified: \nplot_model_nodes(prices[:, \"GH2\", \"Block 1\", \"OnlySeason\", 2020], save_path = \"path/to/save/fig.pdf\")\n\n# for further examples, please check out the test scripts or the replication section...","category":"page"},{"location":"manual/running_code/#Custom-Modifications","page":"Running Code","title":"Custom Modifications","text":"","category":"section"},{"location":"manual/running_code/","page":"Running Code","title":"Running Code","text":"While the model specification allows for quite ambitious analysis, the need to integrate special functionality may emerge. You can interact with the model supplied by build_optimization_model(data) and build_complementarity_model(data), just like you would with any normal JuMP/Complementarity model.","category":"page"},{"location":"tests/test_cases/test_case_18/#Test-Case-18","page":"Test Case 18","title":"Test Case 18","text":"","category":"section"},{"location":"tests/test_cases/test_case_18/","page":"Test Case 18","title":"Test Case 18","text":"Test Case 18 is similar to Test Case 13, only that T_NLD is able to exercise market power in DEU. The tables below depict the sets and parameters, respectively. As the trader acts as a Cournot monopolist, the necessary capacity expansion in 2020 reduces to 05. The test is passed, if only NLD_to_DEU and reverse is expanded by 05 in 2020, while no other expansions take place. In addition, prices in DEU must be 0, 1.5 and 0.98 in 2020, 2025 and 2030, respectively, while those in NLD must be equal to zero. Passing criteria can be seen below, while the figure depicts a graphical solution.","category":"page"},{"location":"tests/test_cases/test_case_18/#Sets","page":"Test Case 18","title":"Sets","text":"","category":"section"},{"location":"tests/test_cases/test_case_18/","page":"Test Case 18","title":"Test Case 18","text":"Set Name Set Value\nmathcalA DEU_to_DEUDEU_to_NLDNLD_to_DEUNLD_to_NLD\nmathcalAC beginaligned (DEU_to_DEU CNG)(DEU_to_NLD CNG)   (NLD_to_DEU CNG)(NLD_to_NLD CNG) endaligned\nmathcalC CNG\nmathcalDSB Block 1\nmathcalI Natural Gas\nmathcalIOB Block 1\nmathcalM OnlyTimeStep\nmathcalN DEUNLD\nmathcalO FES\nmathcalP P_DEUP_NLD\nmathcalRA ∅\nmathcalRS ∅\nmathcalRV ∅\nmathcalS ∅\nmathcalT T_DEUT_NLD\nmathcalV ∅\nmathcalVT ∅\nmathcalY 202020252030","category":"page"},{"location":"tests/test_cases/test_case_18/#Parameters","page":"Test Case 18","title":"Parameters","text":"","category":"section"},{"location":"tests/test_cases/test_case_18/","page":"Test Case 18","title":"Test Case 18","text":"Parameter y=2020 y=2025 y=2030\nfrac1  Delta _y 1 1 1\n1^NC_T_DEUDEUCNG 0 0 0\n1^NC_T_DEUNLDCNG 1 1 1\n1^NC_T_NLDDEUCNG 1 1 1\n1^NC_T_NLDNLDCNG 0 0 0\nr_y 1 1 1\nd_OnlyTimeStep 1 1 1\nc^P_P_DEUCNGFESy 04 04 04\nc^Delta P_P_DEUCNGFESy 1 1 1\nc^P_P_NLDCNGFESy 05 05 05\nc^Delta P_P_NLDCNGFESy 1 1 1\nfi^P_CNGNatural GasFES 1 1 1\nL^P_CNGFES 50 50 50\nLambda^P_P_DEUCNGFESy 10 10 10\nLambda^I_P_DEUNatural GasBlock 1y 10 10 10\nOmega^I_P_DEUNatural GasBlock 1y 0 0 0\nc^Delta^I_P_DEUNatural GasBlock 1y 0 0 0\nLambda^T_T_DEUDEUCNGFESy 10 10 10\nLambda^T_T_DEUNLDCNGFESy 10 10 10\nOmega^P_P_DEUCNGFESy 10 10 10\nLambda^P_P_NLDCNGFESy 10 10 10\nLambda^I_P_NLDNatural GasBlock 1y 10 10 10\nOmega^I_P_NLDNatural GasBlock 1y 0 0 0\nc^Delta^I_P_NLDNatural GasBlock 1y 0 0 0\nLambda^T_T_NLDDEUCNGFESy 10 10 10\nLambda^T_T_NLDNLDCNGFESy 10 10 10\nOmega^P_P_NLDCNGFESy 10 10 10\nl^A_DEU_to_DEUCNG 00 00 00\nl^A_DEU_to_NLDCNG 00 00 00\nl^A_NLD_to_DEUCNG 01 01 01\nl^A_NLD_to_NLDCNG 00 00 00\nc^A_DEU_to_DEUCNGy 00 00 00\nc^A_DEU_to_NLDCNGy 00 00 00\nc^A_NLD_to_DEUCNGy 005 005 005\nc^A_NLD_to_NLDCNGy 00 00 00\nc^Delta A_DEU_to_DEUCNGy 025 025 025\nc^Delta A_DEU_to_NLDCNGy 025 025 025\nc^Delta A_NLD_to_DEUCNGy 025 025 025\nc^Delta A_NLD_to_NLDCNGy 025 025 025\nLambda^A_DEU_to_DEUCNGy 0 0 0\nLambda^A_DEU_to_NLDCNGy 0 0 0\nLambda^A_NLD_to_DEUCNGy 0 0 0\nLambda^A_NLD_to_NLDCNGy 0 0 0\nL^A_CNG 50 50 50\nc^I_l_P_DEUNatural GasBlock 1OnlyTimeStepy 2 2 2\nc^I_q_P_DEUNatural GasBlock 1OnlyTimeStepy 0 0 0\nav^I_P_DEUNatural GasBlock 1OnlyTimeStep 1 1 1\nc^I_l_P_NLDNatural GasBlock 1OnlyTimeStepy 05 05 05\nc^I_q_P_NLDNatural GasBlock 1OnlyTimeStepy 0 0 0\nav^I_P_NLDNatural GasBlock 1OnlyTimeStep 1 1 1\nalpha^D_DEUCNGBlock 1OnlyTimeStepy 2 2 2\nbeta^D_DEUCNGBlock 1OnlyTimeStepy -1 -1 -1\nalpha^D_NLDCNGBlock 1OnlyTimeStepy 0 0 0\nbeta^D_NLDCNGBlock 1OnlyTimeStepy -1 -1 -1","category":"page"},{"location":"tests/test_cases/test_case_18/#Test-Criteria","page":"Test Case 18","title":"Test Criteria","text":"","category":"section"},{"location":"tests/test_cases/test_case_18/","page":"Test Case 18","title":"Test Case 18","text":"Expression Result y=2020 Result y=2025 Result y=2030\ntildeP^T rightarrow D_DEUCNGBlock 1OnlyTimeStepy 0 15 099\ntildeP^T rightarrow D_NLDCNGBlock 1OnlyTimeStepy 00 00 00\nDelta^A_DEU_to_DEUCNGy 00 00 00\nDelta^A_DEU_to_NLDCNGy 05 00 00\nDelta^A_NLD_to_DEUCNGy 05 00 00\nDelta^A_NLD_to_NLDCNGy 00 00 00","category":"page"},{"location":"tests/test_cases/test_case_18/#test_case_18_graphical_solution","page":"Test Case 18","title":"Graphical Solution","text":"","category":"section"},{"location":"tests/test_cases/test_case_18/#Marginalized-Provision-Costs,-Revenues-and-Prices","page":"Test Case 18","title":"Marginalized Provision Costs, Revenues and Prices","text":"","category":"section"},{"location":"tests/test_cases/test_case_18/#NLD-2020","page":"Test Case 18","title":"NLD 2020","text":"","category":"section"},{"location":"tests/test_cases/test_case_18/","page":"Test Case 18","title":"Test Case 18","text":"(Image: test_case_18a_graphic)","category":"page"},{"location":"tests/test_cases/test_case_18/#DEU-2020","page":"Test Case 18","title":"DEU 2020","text":"","category":"section"},{"location":"tests/test_cases/test_case_18/","page":"Test Case 18","title":"Test Case 18","text":"(Image: test_case_18b_graphic)","category":"page"},{"location":"tests/test_cases/test_case_18/#NLD-2025","page":"Test Case 18","title":"NLD 2025","text":"","category":"section"},{"location":"tests/test_cases/test_case_18/","page":"Test Case 18","title":"Test Case 18","text":"(Image: test_case_18c_graphic)","category":"page"},{"location":"tests/test_cases/test_case_18/#DEU-2025","page":"Test Case 18","title":"DEU 2025","text":"","category":"section"},{"location":"tests/test_cases/test_case_18/","page":"Test Case 18","title":"Test Case 18","text":"(Image: test_case_18d_graphic)","category":"page"},{"location":"tests/test_cases/test_case_18/#NLD-2030","page":"Test Case 18","title":"NLD 2030","text":"","category":"section"},{"location":"tests/test_cases/test_case_18/","page":"Test Case 18","title":"Test Case 18","text":"(Image: test_case_18e_graphic)","category":"page"},{"location":"tests/test_cases/test_case_18/#DEU-2030","page":"Test Case 18","title":"DEU 2030","text":"","category":"section"},{"location":"tests/test_cases/test_case_18/","page":"Test Case 18","title":"Test Case 18","text":"(Image: test_case_18f_graphic)","category":"page"},{"location":"mathematical_formulation/structural_overview/structural_overview/#Structural-Overview","page":"Structural Overview","title":"Structural Overview","text":"","category":"section"},{"location":"mathematical_formulation/structural_overview/structural_overview/","page":"Structural Overview","title":"Structural Overview","text":"(Image: structural_overview)","category":"page"},{"location":"mathematical_formulation/notation/mappings/#Mappings","page":"Mappings","title":"Mappings","text":"","category":"section"},{"location":"mathematical_formulation/notation/mappings/","page":"Mappings","title":"Mappings","text":"Mapping Explanation\nmathcalA_e(n) All transportation arcs a that end in node n. Defined for all n in mathcalN.\nmathcalA_s(n) All transportation arcs a that start in node n. Defined for all n in mathcalN.\na^-1(a) Arc going in the opposite direction of a. Defined for all a in mathcalA.\nn(p) Mapping each producer p to the corresponding node n. Defined for all p in mathcalP.\nmathcalP(tn) Set containing all domestic producers of trader t in node n. Defined for all t in mathcalT, n in mathcalN.\nmathcalN_p(t) Set of all production nodes of trader t. Defined for all t in mathcalT.\nn(s) Mapping each storage system operator s to the corresponding node n. Defined for all s in mathcalS.\ns(n) Domestic storage system operator of node n. Defined for all n in mathcalN.\nv(n) Domestic converter of node n. Defined for all n in mathcalN.\nm^+(m) Time step following m. The step following the last one is the first, i.e. m^+(mend) = m1. Defined for all m in mathcalM.\nm^-(m) Time step preceding  m. The step preceding the first one is the last, i.e. m^-(m1) = mend. Defined for all m in mathcalM.","category":"page"},{"location":"mathematical_formulation/complementarity_problem/storage_system_operator_optimality_conditions/#Storage-System-Operator-Optimality-Conditions","page":"Storage System Operator KKTs","title":"Storage System Operator Optimality Conditions","text":"","category":"section"},{"location":"mathematical_formulation/complementarity_problem/storage_system_operator_optimality_conditions/","page":"Storage System Operator KKTs","title":"Storage System Operator KKTs","text":"beginaligned\t\nleftbeginaligned \n\t\t\t\tlambda^S_scmy \n\t\t\t\t- left(1- l^S_cmm^+(m) right) phi^S_stcomy \n\t\t\t\t+ phi^S_stcom^-(m)y \n\t\t\tendalignedright\n\t\t\tgeq 0  perp q^S_stcomy  geq 0  \n\t\t\tbeginaligned\n\t\t\t\tforall s in mathcalS t in mathcalT  c in mathcalC o in mathcalO  m in mathcalM y in mathcalY\n\t\t\tendaligned \n\t\t\t\n\t\t\tleftbeginaligned\n\t\t\t\tr_y d_m left( pi^T rightarrow S_tn(s)comy + c^S_in_scy  right) \n\t\t\t\t- left(1- l^S_cmm^+(m) right) d_m phi^S_stcomy\n\t\t\tendalignedright\n\t\t\tgeq 0  perp q^S_in_stcomy  geq 0  \n\t\t\tbeginaligned\n\t\t\t\tforall s in mathcalS t in mathcalT  c in mathcalC o in mathcalO  m in mathcalM y in mathcalY\n\t\t\tendaligned \n\t\t\t\n\t\t\tleftbeginaligned\n\t\t\t\t- r_y d_m left(pi^S rightarrow T_tn(s)comy - c^S_out_scy  right) \n\t\t\t\t+ left(1- l^S_cmm^+(m) right) d_m phi^S_stcomy\n\t\t\tendalignedright\n\t\t\tgeq 0  perp q^S_out_stcomy geq 0  \n\t\t\tbeginaligned\n\t\t\t\tforall s in mathcalS t in mathcalT  c in mathcalC o in mathcalO  m in mathcalM y in mathcalY\n\t\t\tendaligned \n\t\t\t\n\t\t\tleftbeginaligned \n\t\t\t\tfracr_y  Delta _y c^Delta S_scy  - sum_ y in mathcalY  (y  y leq y +L^S_c ) sum_m in mathcalM lambda^S_scmy  + sum_ y in mathcalY  (y  y leq y +L^S_c ) omega^S_scy\n\t\t\tendalignedright\n\t\t\tgeq 0  perp Delta^S_scy geq 0  \n\t\t\tbeginaligned\n\t\t\t\tforall s in mathcalS c in mathcalC  y in mathcalY\n\t\t\tendaligned \n\t\t\t\n\t\t\tleftbeginaligned \n\t\t\t\tfracr_y  Delta _y c^Delta^RS_srcy  - sum_ y in mathcalY (y  y leq y +L^S_c ) sum_m in mathcalM f^RS_rc lambda^S_scmy  + sum_ y in mathcalY  y  y sum_m in mathcalM lambda^S_srmy  + sum_ y in mathcalY (y  y leq y +L^S_c ) f^RS_rc omega^S_scy  - sum_ y in mathcalY  y  y omega^S_sry\n\t\t\tendalignedright\n\t\t\tgeq 0  perp Delta^RS_srcy geq 0  \n\t\t\tbeginaligned\n\t\t\t\tforall s in mathcalS  (rc) in mathcalRS  y in mathcalY\n\t\t\tendaligned \n\t\t\t\n\t\t\tleft \n\t\t\tbeginaligned\n\t\t\t\tLambda^S_scy  + sum_ y in mathcalY  y-L^S_c leq yy Delta^S_scy \n\t\t\t\t+ sum_r  (rc) in mathcalRS sum_ y in mathcalY  y-L^S_c leq y y f^RS_rc Delta^RS_srcy \n\t\t\t\t- sum_r  (cr) in mathcalRS sum_ y in mathcalY  y y Delta^RS_scry \n\t\t\t\t- sum_o in mathcalO  sum_t in mathcalT  q^S_stcomy  \n\t\t\tendaligned \n\t\t\tright\n\t\t\tgeq 0  perp lambda^S_scmy geq 0  \n\t\t\tbeginaligned\n\t\t\t\tforall s in mathcalS c in mathcalC  m in mathcalM y in mathcalY\n\t\t\tendaligned \n\t\t\t\n\t\t\tleft \n\t\t\tbeginaligned\n\t\t\t\tleft(1- l^S_cmm^+(m) right) cdot left(beginaligned\n\t\t\t\t\tq^S_stcomy  + d_m left(q^S_in_stcomy - q^S_out_stcomyright) \n\t\t\t\tendalignedright) \n\t\t\t\t- q^S_stcom^+(m)y\n\t\t\tendaligned \n\t\t\tright\n\t\t\tgeq 0  perp phi^S_stcomy geq 0  \n\t\t\tbeginaligned\n\t\t\t\tforall s in mathcalS t in mathcalT  c in mathcalC  o in mathcalO  m in mathcalM y in mathcalY \n\t\t\tendaligned \n\t\t\t\n\t\t\tleft \n\t\t\tbeginaligned\n\t\t\t\tOmega^S_scy  - sum_ y in mathcalY  y-L^S_c leq yy Delta^S_scy \n\t\t\t\t- sum_r  (rc) in mathcalRS sum_ y in mathcalY  y-L^S_c leq y y f^RS_rc Delta^RS_srcy \n\t\t\t\t+ sum_r  (cr) in mathcalRS sum_ y in mathcalY  y y Delta^RS_scry \n\t\t\tendaligned \n\t\t\tright\n\t\t\tgeq 0  perp omega^S_scy geq 0  \n\t\t\tbeginaligned\n\t\t\t\tforall s in mathcalS c in mathcalC  y in mathcalY\n\t\t\tendaligned  \nendaligned","category":"page"},{"location":"mathematical_formulation/complementarity_problem/storage_system_operator_optimality_conditions/","page":"Storage System Operator KKTs","title":"Storage System Operator KKTs","text":"","category":"page"},{"location":"mathematical_formulation/player_problems/transmission_system_operator_problem/#Transmission-System-Operator","page":"Transmission System Operator Problem","title":"Transmission System Operator","text":"","category":"section"},{"location":"mathematical_formulation/player_problems/transmission_system_operator_problem/","page":"Transmission System Operator Problem","title":"Transmission System Operator Problem","text":"beginaligned\t\nmax_substackq^A_acmy  Delta^A_acy  Delta^RA_arcy  quad \n\t\t\tsum_y in mathcalY r_y sum_a in mathcalA left beginaligned\n\t\t\t\tsum_c in mathcalC  (ac) in mathcalAC   left(\n\t\t\t\tbeginalignedsum_m in mathcalM d_m\n\t\t\t\t\tleft( pi^A_acmy - c^A_acy right) q^A_acmy\n\t\t\t\t\t- frac1  Delta _y frac12 c^Delta A_acy Delta^A_acy \n\t\t\t\tendaligned right) \n\t\t\t\t- frac1  Delta _y sum_(rc) in mathcalRA  (ar) in mathcalAC  frac12 c^Delta^RA_arcy Delta^RA_arcy\n\t\t\tendaligned right \ntextst quad \t\n\t\t\t\n\t\t\t q^A_acmy leq left( \n\t\t\tbeginaligned\n\t\t\t\tLambda^A_acy  \n\t\t\t\t+ sum_ y in mathcalY  y-L^A_c leq y y Delta^A_acy \n\t\t\t\t+ sum_r  (rc) in mathcalRA sum_ y in mathcalY  y-L^A_c leq y y f^RA_rc Delta^RA_arcy \n\t\t\t\t- sum_r  (cr) in mathcalRA sum_ y in mathcalY  y y Delta^RA_acry\n\t\t\tendaligned \n\t\t\tright)  quad  \n\t\t\tbeginaligned\n\t\t\t\tforall  (ac) in mathcalAC   m in mathcalM y in mathcalY\n\t\t\tendaligned\n\t\t\tquad  (lambda^A_acmy) \n\t\t\t\n\t\t\t Delta^A_acy =  Delta^A_a^-1(a)cy  quad  \n\t\t\tbeginaligned\n\t\t\t\tforall  (ac) in mathcalAC    y in mathcalY\n\t\t\tendaligned\n\t\t\tquad  (delta^A_acy) \n\t\t\t\n\t\t\t Delta^RA_arcy = Delta^RA_a^-1(a)rcy quad  \n\t\t\tbeginaligned\n\t\t\t\tforall a in mathcalA (rc) in mathcalRA   (ar) in mathcalAC y in mathcalY\n\t\t\tendaligned\n\t\t\tquad  (delta^RA_arcy) \n\t\t\t q^A_acmy Delta^A_acy Delta^RA_arcy  geq 0 quad  \nendaligned","category":"page"},{"location":"tests/test_cases/test_case_3/#Test-Case-3","page":"Test Case 3","title":"Test Case 3","text":"","category":"section"},{"location":"tests/test_cases/test_case_3/","page":"Test Case 3","title":"Test Case 3","text":"Test Case 3 asserts exertion of market power in a simple Cournot setting with time step weights. Marginalized costs for given factor intensities are MC=c^I_l + c^I_q_ cdot Q + c^P  while prices are P(Q) = alpha^D + beta^D Q. As there is only one trader, the model now describes a Cournot monopoly. It is known from economic theory that in a profit-maximizing solution, marginalized costs are equal to marginal revenues (MR=MC). \\Cref{fig:test_3} is a graphical representation of the optimal solution. Hence, this test passes if the equilibrium price is P=15.","category":"page"},{"location":"tests/test_cases/test_case_3/#Sets","page":"Test Case 3","title":"Sets","text":"","category":"section"},{"location":"tests/test_cases/test_case_3/","page":"Test Case 3","title":"Test Case 3","text":"Set Name Set Value\nmathcalA DEU_to_DEU\nmathcalAC (DEU_to_DEUCNG)\nmathcalC CNG\nmathcalDSB Block 1\nmathcalI Natural Gas\nmathcalIOB Block 1\nmathcalM OnlyTimeStep\nmathcalN DEU\nmathcalO FES\nmathcalP P_DEU\nmathcalRA ∅\nmathcalRS ∅\nmathcalRV ∅\nmathcalS ∅\nmathcalT T_DEU\nmathcalV ∅\nmathcalVT ∅\nmathcalY 2020","category":"page"},{"location":"tests/test_cases/test_case_3/#Parameters","page":"Test Case 3","title":"Parameters","text":"","category":"section"},{"location":"tests/test_cases/test_case_3/","page":"Test Case 3","title":"Test Case 3","text":"Parameter y=2020\nfrac1  Delta _y 1\n1^NC_T_DEUDEUCNG 1\nr_y 1\nd_OnlyTimeStep 2\nc^P_P_DEUCNGFESy 05\nc^Delta P_P_DEUCNGFESy 1\nfi^P_CNGNatural GasFES 1\nL^P_CNGFES 50\nLambda^P_P_DEUCNGFESy 10\nLambda^I_P_DEUNatural GasBlock 1y 10\nOmega^I_P_DEUNatural GasBlock 1y 0\nc^Delta^I_P_DEUNatural GasBlock 1y 0\nLambda^T_T_DEUDEUCNGFESy 10\nOmega^P_P_DEUCNGFESy 10\nl^A_DEU_to_DEUCNG 0\nc^A_DEU_to_DEUCNGy 0\nc^Delta A_DEU_to_DEUCNGy 0\nLambda^A_DEU_to_DEUCNGy 0\nL^A_CNG 50\nc^I_l_P_DEUElectricityBlock 1OnlyTimeStepy 05\nc^I_q_P_DEUElectricityBlock 1OnlyTimeStepy 0\nav^I_P_DEUElectricityBlock 1OnlyTimeStep 1\nalpha^D_DEUCNGBlock 1OnlyTimeStepy 2\nbeta^D_DEUCNGBlock 1OnlyTimeStepy -1","category":"page"},{"location":"tests/test_cases/test_case_3/#Test-Criteria","page":"Test Case 3","title":"Test Criteria","text":"","category":"section"},{"location":"tests/test_cases/test_case_3/","page":"Test Case 3","title":"Test Case 3","text":"Expression Result y=2020\ntildeP^T rightarrow D_DEUCNGBlock 1OnlyTimeStepy 15","category":"page"},{"location":"tests/test_cases/test_case_3/#Graphical-Solution","page":"Test Case 3","title":"Graphical Solution","text":"","category":"section"},{"location":"tests/test_cases/test_case_3/#Profit-Maximization-in-a-Cournot-Setting","page":"Test Case 3","title":"Profit Maximization in a Cournot Setting","text":"","category":"section"},{"location":"tests/test_cases/test_case_3/","page":"Test Case 3","title":"Test Case 3","text":"(Image: test_case_3_graphic)","category":"page"},{"location":"tests/functional_tests/functional_test_2/#Functional-Test-2","page":"Functional Test 2","title":"Functional Test 2","text":"","category":"section"},{"location":"tests/functional_tests/functional_test_2/","page":"Functional Test 2","title":"Functional Test 2","text":"Functional Test 2 validates writing model input data to csv. The table below depicts the list of files whose existence is expected. ","category":"page"},{"location":"tests/functional_tests/functional_test_2/#Overview-of-Tested-Parameters","page":"Functional Test 2","title":"Overview of Tested Parameters","text":"","category":"section"},{"location":"tests/functional_tests/functional_test_2/","page":"Functional Test 2","title":"Functional Test 2","text":"Parameter File Type\nfi^V_cc .csv\nc^A_acy .csv\nc^P_pcoy .csv\nc^I_l_pibmy .csv\nc^I_q_pibmy .csv\nav^I_pibm .csv\nc^S_in_scy .csv\nc^S_out_scy .csv\nc^V_vccy .csv\nc^Delta A_acy .csv\nc^Delta P_pcoy .csv\nc^Delta^RA_arcy .csv\nc^Delta^RS_srcy .csv\nc^Delta^RV_vrrccy .csv\nc^Delta S_scy .csv\nc^Delta V_vccy .csv\nc^Delta^I_piby .csv\nfi^P_cio .csv\nL^A_c .csv\nl^A_ac .csv\nL^I_i .csv\nL^P_co .csv\nLambda^S_scy .csv\nl^S_cmm^+(m) .csv\nL^V_cc .csv\n1^NC_tnc .csv\nalpha^D_ncbmy .csv\nbeta^D_ncbmy .csv\nLambda^A_acy .csv\nLambda^I_piby .csv\nLambda^P_pcoy .csv\nLambda^S_scy .csv\nLambda^T_tncoy .csv\nLambda^V_vccy .csv\nOmega^I_piby .csv\nOmega^P_pcoy .csv\nOmega^S_scy .csv","category":"page"},{"location":"","page":"Home","title":"Home","text":"CurrentModule = HydrOGEnMod","category":"page"},{"location":"#HydrOGEnMod.jl","page":"Home","title":"HydrOGEnMod.jl","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"(Image: Build Status) (Image: Coverage) (Image: Aqua)","category":"page"},{"location":"","page":"Home","title":"Home","text":"This is the documentation for HydrOGEnMod.jl.","category":"page"},{"location":"#Installation-Instructions","page":"Home","title":"Installation Instructions","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"To install HydrOGEnMod on your system, run the following Julia code:","category":"page"},{"location":"","page":"Home","title":"Home","text":"import Pkg\nPkg.add(url=\"https://github.com/LukasBarner/HydrOGEnMod.jl\")","category":"page"},{"location":"","page":"Home","title":"Home","text":"Alternatively, you can also directly use the Pkg-mode from within the REPL. ","category":"page"},{"location":"manual/data_specification/#Data-Specification","page":"Data Specification","title":"Data Specification","text":"","category":"section"},{"location":"manual/data_specification/","page":"Data Specification","title":"Data Specification","text":"This section explains the structure in which data sets must be supplied in order for HydrOGEnMod.jl to generate the underlying model data. In total, there must exist 8 subfolders that each contain several data sheets on specific parts of the hydrogen value chain in the form of csv files. ","category":"page"},{"location":"manual/data_specification/","page":"Data Specification","title":"Data Specification","text":"Any provided dataset must be structured in the following way: ","category":"page"},{"location":"manual/data_specification/","page":"Data Specification","title":"Data Specification","text":"datafile\n├── conversion\n│   ├── Capacities.csv\n│   ├── Conversion_Data.csv\n│   └── Repurposing.csv\n├── demand\n│   └── Reference_Data.csv\n├── general_data\n│   ├── Commodities.csv\n│   ├── Demand_Blocks.csv\n│   ├── Input_Blocks.csv\n│   ├── Inputs.csv\n│   ├── Market_Power.csv\n│   ├── Nodes.csv\n│   ├── Origins.csv\n│   ├── Temporal_Preferences.csv\n│   ├── Timesteps.csv\n│   └── Years.csv\n├── inputs\n│   ├── Availability_Factors.csv\n│   ├── Capacity_Expansion_Limits.csv\n│   ├── Cost_Parameters.csv\n│   ├── Exogenous_Capacities.csv\n│   ├── Investment_Cost_Parameters.csv\n│   └── Lifetimes.csv\n├── production\n│   ├── Capacity_Expansion_Limits.csv\n│   ├── Exogenous_Capacities.csv\n│   └── Technology.csv\n├── storage\n│   ├── Capacities.csv\n│   ├── Losses.csv\n│   ├── Repurposing_Data.csv\n│   └── Technologies.csv\n├── trade\n│   ├── Sanctions.csv\n│   └── Specific_Market_Power.csv\n└── transport\n    ├── Commodity_Data.csv\n    ├── Exogenous_Pipelines.csv\n    ├── Pipeline_Adjacency.csv\n    ├── Pipeline_Distances.csv\n    ├── Repurposing_Data.csv\n    ├── Shipping_Adjacency.csv\n    └── Shipping_Distances.csv","category":"page"},{"location":"manual/data_specification/","page":"Data Specification","title":"Data Specification","text":"The following table gives an overview of their contents. ","category":"page"},{"location":"manual/data_specification/","page":"Data Specification","title":"Data Specification","text":"Data Type Directory Name\nConversion Data datafile/conversion\nDemand Data datafile/demand\nGeneral Data datafile/general_data\nInput Data datafile/inputs\nProduction Data datafile/production\nStorage Data datafile/storage\nTrade Data datafile/trade\nTransport Data datafile/transport","category":"page"},{"location":"manual/data_specification/#Conversion-Data","page":"Data Specification","title":"Conversion Data","text":"","category":"section"},{"location":"manual/data_specification/","page":"Data Specification","title":"Data Specification","text":"File Path Explanation\ndatafile/conversion/Capacities.csv This dataset specifies conversion capacities on a time step basis (i.e. the conversion capacity in one hour/month/season etc., depending upon the setting). For every Node, and for every technology from Input Commodity to Output Commodity, the capacity during the corresponding year is given.\ndatafile/conversion/Conversion_Data.csv This dataset specifies operational and investment cost, as well as lifetimes and factor intensities per conversion technology from Input Commodity to Output Commodity. Factor intensity implies, how much energy equivalent of one commodity is required to produce one energy equivalent of output.\ndatafile/conversion/Repurposing.csv This dataset specifies unit repurposing costs from one technology to another. In addition, a conversion factor is included, accounting for energy specific differences in repurposing.","category":"page"},{"location":"manual/data_specification/#Demand-Data","page":"Data Specification","title":"Demand Data","text":"","category":"section"},{"location":"manual/data_specification/","page":"Data Specification","title":"Data Specification","text":"Inverse demand functions are assumed to follow a block-wise linear functional form:","category":"page"},{"location":"manual/data_specification/","page":"Data Specification","title":"Data Specification","text":"\ttildeP^T rightarrow D_ncbmy(sum_o in mathcalO sum_t in mathcalTq^T rightarrow D_tncbomy) = alpha^D_ncbmy + beta^D_ncbmy (sum_o in mathcalO sum_t in mathcalTq^T rightarrow D_tncbomy) ","category":"page"},{"location":"manual/data_specification/","page":"Data Specification","title":"Data Specification","text":"The parameters alpha^D_ncbmy beta^D_ncbmy from the mathematical formulation are subsequently defined around a reference point with an assumed price elasticity. This implies, that inverse demand curves are uniquely defined by supplying a set of reference quantity and price, as well as a given price elasticity. These data are used in the demand data set instead of directly computed alpha^D_ncbmy beta^D_ncbmy. For ease of notation, the following equation will be used subsequently to abbreviate the total quantity consumed of commodity c in block b during time step m of year y in node n: ","category":"page"},{"location":"manual/data_specification/","page":"Data Specification","title":"Data Specification","text":"\tQ_ncbmy = sum_o in mathcalO sum_t in mathcalTq^T rightarrow D_tncbomy ","category":"page"},{"location":"manual/data_specification/","page":"Data Specification","title":"Data Specification","text":"The partial derivative of the inverse demand with respect to total supply quantity is: ","category":"page"},{"location":"manual/data_specification/","page":"Data Specification","title":"Data Specification","text":"\tfracpartialtildeP^T rightarrow D_ncbmy(Q_ncbmy)partial Q_ncbmy \n\t= beta^D_ncbmy","category":"page"},{"location":"manual/data_specification/","page":"Data Specification","title":"Data Specification","text":"The price elasticity at a reference point defined by a reference price barP_ncbmy and a reference quantity barQ_ncbmy can be stated as: ","category":"page"},{"location":"manual/data_specification/","page":"Data Specification","title":"Data Specification","text":"    epsilon^tildeP_ncbmy = fracpartial Q_ncbmypartial tildeP^T rightarrow D_ncbmy (Q_ncbmy) frac barP_ncbmy barQ_ncbmy","category":"page"},{"location":"manual/data_specification/","page":"Data Specification","title":"Data Specification","text":"Rearranging yields: ","category":"page"},{"location":"manual/data_specification/","page":"Data Specification","title":"Data Specification","text":"\tfracpartial tildeP^T rightarrow D_ncbmy (Q_ncbmy)partial Q_ncbmy\n\t= frac barP_ncbmy barQ_ncbmy frac1epsilon^tildeP_ncbmy ","category":"page"},{"location":"manual/data_specification/","page":"Data Specification","title":"Data Specification","text":"Which in turn yields:  ","category":"page"},{"location":"manual/data_specification/","page":"Data Specification","title":"Data Specification","text":"\tbeta^D_ncbmy = frac barP_ncbmy barQ_ncbmy frac1epsilon^tildeP_ncbmy ","category":"page"},{"location":"manual/data_specification/","page":"Data Specification","title":"Data Specification","text":"Inserting this into the inverse demand function, we get:","category":"page"},{"location":"manual/data_specification/","page":"Data Specification","title":"Data Specification","text":"\talpha^D_ncbmy = barP_ncbmy - frac barP_ncbmyepsilon^tildeP_ncbmy ","category":"page"},{"location":"manual/data_specification/","page":"Data Specification","title":"Data Specification","text":"File Path Explanation\ndatafile/demand/Reference_Data.csv This dataset specifies reference consumption, prices and elasticities per node, commodity, timestep and demand block to calculate alpha^D_ncbmy beta^D_ncbmy from the mathematical formulation.","category":"page"},{"location":"manual/data_specification/#General-Data","page":"Data Specification","title":"General Data","text":"","category":"section"},{"location":"manual/data_specification/","page":"Data Specification","title":"Data Specification","text":"This dataset provides an overarching structure. Most notably, it determines which options from the datasets are actually included into the model data. ","category":"page"},{"location":"manual/data_specification/","page":"Data Specification","title":"Data Specification","text":"warning: Warning\nIf any element is not listed in this dataset, it will not be utilized by the model, despite being present in other data. This allows to quickly turn on/off model features without changing the fundamental data structure. ","category":"page"},{"location":"manual/data_specification/","page":"Data Specification","title":"Data Specification","text":"File Path Explanation\ndatafile/general_data/Commodities.csv Lists all modeled commodities.\ndatafile/general_data/Demand_Blocks.csv Lists all modeled demand blocks.\ndatafile/general_data/Input_Blocks.csv Lists all modeled input blocks.\ndatafile/general_data/Inputs.csv Lists all modeled inputs.\ndatafile/general_data/Market_Power.csv Lists conjectural variation factor for all commodities. 0 implies perfect competition, 1 implies Nash-Cournot.\ndatafile/general_data/Nodes.csv Lists all modeled nodes. Each node comes with a regional specific cost factor, a model region and a mapping to a nodal (domestic) trader.\ndatafile/general_data/Origins.csv Lists all modeled origins.\ndatafile/general_data/Temporal_Preferences.csv Indicates the assumed discount rate.\ndatafile/general_data/Timesteps.csv Lists all time steps within a year, including their weight.\ndatafile/general_data/Years.csv Lists all modeled years, including the step size between modeled years.","category":"page"},{"location":"manual/data_specification/#Input-Data","page":"Data Specification","title":"Input Data","text":"","category":"section"},{"location":"manual/data_specification/","page":"Data Specification","title":"Data Specification","text":"File Path Explanation\ndatafile/inputs/Availability_Factors.csv) Lists input capacity availabilities per input, node, and block.\ndatafile/inputs/Capacity_Expansion_Limits.csv) Lists input procurement capacity expansion limits per input, node, block and year.\ndatafile/inputs/Cost_Parameters.csv) Lists input procurement operational cost per input, node, block and year.\ndatafile/inputs/Exogenous_Capacities.csv) Lists exogenous input procurement capacities per input, node, block and year.\ndatafile/inputs/Investment_Cost_Parameters.csv) Lists input procurement investment cost per input, node, block and year.\ndatafile/inputs/Lifetimes.csv) Lists lifetimes of input procurement technologies","category":"page"},{"location":"manual/data_specification/#Production-Data","page":"Data Specification","title":"Production Data","text":"","category":"section"},{"location":"manual/data_specification/","page":"Data Specification","title":"Data Specification","text":"File Path Explanation\ndatafile/production/Capacity_Expansion_Limits.csv Lists production capacity expansion limit per node, output, origin and year.\ndatafile/production/Exogenous_Capacities.csv Lists exogenous production capacities per node, output, origin and year.\ndatafile/production/Technology.csv Lists operational and investment cost for production, as well as factor intensities, origins and lifetimes per output.","category":"page"},{"location":"manual/data_specification/#Storage-Data","page":"Data Specification","title":"Storage Data","text":"","category":"section"},{"location":"manual/data_specification/","page":"Data Specification","title":"Data Specification","text":"File Path Explanation\ndatafile/storage/Capacities.csv Lists exogenous storage capacity as well as capacity expansion limits.\ndatafile/storage/Losses.csv Lists losses for storing between time steps for different commodities.\ndatafile/storage/Repurposing_Data.csv Lists costs for different repurposing options, including a repurposing factor.\ndatafile/storage/Technologies.csv Lists injection, extraction and investment costs, as well as storage lifetimes for different commodities.","category":"page"},{"location":"manual/data_specification/#Trade-Data","page":"Data Specification","title":"Trade Data","text":"","category":"section"},{"location":"manual/data_specification/","page":"Data Specification","title":"Data Specification","text":"File Path Explanation\ndatafile/trade/Sanctions.csv Lists traders' yearly sales limits per node, commodity and origin. Can be used to prohibit sales from specific production origin or to include geopolitical aspects.\ndatafile/trade/Specific_Market_Power.csv Lists exertion of market power by specific traders diverging from the default option per commodity.","category":"page"},{"location":"manual/data_specification/#Transport-Data","page":"Data Specification","title":"Transport Data","text":"","category":"section"},{"location":"manual/data_specification/","page":"Data Specification","title":"Data Specification","text":"Commodities are split into shipping-based and pipeline-based. For piped commodities, an explicit investment into specific routes must be made, while shipping-investment is assumed to be flexible, i.e. only distance dependent charges apply. ","category":"page"},{"location":"manual/data_specification/","page":"Data Specification","title":"Data Specification","text":"File Path Explanation\ndatafile/transport/Commodity_Data.csv Provides commodity specific data such as investment and operational cost per kkm, as well as asset lifetime. In addition, it is specified by which mode of transport a commodity must flow.\ndatafile/transport/Exogenous_Pipelines.csv Indicates exogenous pipeline capacities between any two arcs.\ndatafile/transport/Pipeline_Adjacency.csv Indicates if pipelines between two arcs are possible. This translates into the set mathcalAC from the mathematical description.\ndatafile/transport/Pipeline_Distances.csv Indicates the transport distance for piped commodities.\ndatafile/transport/Repurposing_Data.csv Indicates costs per kkm to repurpose capacity from one commodity to another on any arc.\ndatafile/transport/Shipping_Adjacency.csv Indicates if shipping between two arcs is possible. This translates into the set mathcalAC from the mathematical description.\ndatafile/transport/Shipping_Distances.csv Indicates the transport distance for shipped commodities.","category":"page"},{"location":"tests/test_cases/test_case_1/#Test-Case-1","page":"Test Case 1","title":"Test Case 1","text":"","category":"section"},{"location":"tests/test_cases/test_case_1/","page":"Test Case 1","title":"Test Case 1","text":"This test case comprises a simple example. The tables below depict the model sets and relevant parameters. If the model is solved correctly, marginalized production costs should be equal to the price. Test Case 1 passes, if prices in the single node are equal to the intersection of marginalized provision cost and inverse demand, see also the graphical solution below. Marginalized provision cost at factor intensities of 1:1 are MC=c^I_l + c^I_q Q + c^P, while prices are P(Q) = alpha^D + beta^D Q. Hence, for the given data, prices should be P=15, see also the overview of tested criteria.","category":"page"},{"location":"tests/test_cases/test_case_1/#Sets","page":"Test Case 1","title":"Sets","text":"","category":"section"},{"location":"tests/test_cases/test_case_1/","page":"Test Case 1","title":"Test Case 1","text":"Set Name Set Value\nmathcalA {DEU_to_DEU}\nmathcalAC {(DEU_to_DEU, CNG)}\nmathcalC {CNG}\nmathcalDSB {Block 1}\nmathcalI {Natural Gas}\nmathcalIOB {Block 1}\nmathcalM {OnlyTimeStep}\nmathcalN {DEU}\nmathcalO {FES}\nmathcalP {P_DEU}\nmathcalRA ∅\nmathcalRS ∅\nmathcalRV ∅\nmathcalS ∅\nmathcalT {T_DEU}\nmathcalV ∅\nmathcalVT ∅\nmathcalY {2020}","category":"page"},{"location":"tests/test_cases/test_case_1/#Parameters","page":"Test Case 1","title":"Parameters","text":"","category":"section"},{"location":"tests/test_cases/test_case_1/","page":"Test Case 1","title":"Test Case 1","text":"Parameter y=2020\nfrac1  Delta _y 1\n1^NC_T_DEUDEUCNG 0\nr_y 1\nd_OnlyTimeStep 1\nc^P_P_DEUCNGFESy 05\nc^Delta P_P_DEUCNGFESy 1\nfi^P_CNGNatural GasFES 1\nL^P_CNGFES 50\nLambda^P_P_DEUCNGFESy 10\nLambda^I_P_DEUNatural GasBlock 1y 10\nOmega^I_P_DEUNatural GasBlock 1y 0\nc^Delta^I_P_DEUNatural GasBlock 1y 0\nLambda^T_T_DEUDEUCNGFESy 10\nOmega^P_P_DEUCNGFESy 10\nl^A_DEU_to_DEUCNG 0\nc^A_DEU_to_DEUCNGy 0\nc^Delta A_DEU_to_DEUCNGy 0\nLambda^A_DEU_to_DEUCNGy 0\nL^A_CNG 50\nc^I_l_P_DEUNatural GasBlock 1OnlyTimeStepy 05\nc^I_q_P_DEUNatural GasBlock 1OnlyTimeStepy 10\nav^I_P_DEUNatural GasBlock 1OnlyTimeStep 10\nalpha^D_DEUCNGBlock 1OnlyTimeStepy 2\nbeta^D_DEUCNGBlock 1OnlyTimeStepy -1","category":"page"},{"location":"tests/test_cases/test_case_1/#Test-Criteria","page":"Test Case 1","title":"Test Criteria","text":"","category":"section"},{"location":"tests/test_cases/test_case_1/","page":"Test Case 1","title":"Test Case 1","text":"Expression Result y=2020\ntildeP^T rightarrow D_textDEUCNGBlock 1OnlyTimeStepy 15","category":"page"},{"location":"tests/test_cases/test_case_1/#Graphical-Solution","page":"Test Case 1","title":"Graphical Solution","text":"","category":"section"},{"location":"tests/test_cases/test_case_1/#Inverse-Demand-and-Marginalized-Cost-Curves","page":"Test Case 1","title":"Inverse Demand and Marginalized Cost Curves","text":"","category":"section"},{"location":"tests/test_cases/test_case_1/","page":"Test Case 1","title":"Test Case 1","text":"(Image: test_case_1_graphic)","category":"page"},{"location":"tests/functional_tests/functional_test_5/#Functional-Test-5","page":"Functional Test 5","title":"Functional Test 5","text":"","category":"section"},{"location":"tests/functional_tests/functional_test_5/","page":"Functional Test 5","title":"Functional Test 5","text":"Functional Test 5 asserts that map plots from randomized data work as desired.  The table below shows checked plotting functions. ","category":"page"},{"location":"tests/functional_tests/functional_test_5/#Overview-of-Plotting-Function-Tests","page":"Functional Test 5","title":"Overview of Plotting Function Tests","text":"","category":"section"},{"location":"tests/functional_tests/functional_test_5/","page":"Functional Test 5","title":"Functional Test 5","text":"Overview of Plotting Function Tests\nplot_model_nodes()\nplot_model_nodes(container::DenseAxisArray{T,N,Ax,L})\nplot_model_nodes(container::SparseAxisArray{T,N,K})\nplot_model_nodes(arcs::Vector{TransportArc})\nplot_model_nodes(container::DenseAxisArray{T,N,Ax,L},arcs::Vector{TransportArc})","category":"page"},{"location":"tests/test_cases/test_case_13/#Test-Case-13","page":"Test Case 13","title":"Test Case 13","text":"","category":"section"},{"location":"tests/test_cases/test_case_13/","page":"Test Case 13","title":"Test Case 13","text":"Test Case 13 is similar to Test Case 9, only that this time transport capacity is limited. The tables below depict the sets and parameters, respectively. Production costs in DEU are much too high. However, NLD has no own demand and can export to DEU with operational cost of 005 if capacity is invested. In addition to production and conversion costs of in total 09, rescaled investment costs of 0.05 must be added. Marginalized provision costs are hence 10. Tests are passed, if DEU prices are P=0, P=1, P=099, in 2020, 2025 and 2030 respectively. In addition, capacity of 1 on arc NLD_to_DEU and reverse should be invested in 2020, while no investments should be made in 2025 and 2030. No other arc capacities should be expanded, and prices in NLD must be 0. Passing criteria can be seen below, while the figure depicts a graphical solution.","category":"page"},{"location":"tests/test_cases/test_case_13/#Sets","page":"Test Case 13","title":"Sets","text":"","category":"section"},{"location":"tests/test_cases/test_case_13/","page":"Test Case 13","title":"Test Case 13","text":"Set Name Set Value\nmathcalA DEU_to_DEUDEU_to_NLDNLD_to_DEUNLD_to_NLD\nmathcalAC beginaligned (DEU_to_DEU CNG)(DEU_to_NLD CNG)   (NLD_to_DEUCNG)(NLD_to_NLD CNG)endaligned\nmathcalC CNG\nmathcalDSB Block 1\nmathcalI Natural Gas\nmathcalIOB Block 1\nmathcalM OnlyTimeStep\nmathcalN DEUNLD\nmathcalO FES\nmathcalP P_DEUP_NLD\nmathcalRA ∅\nmathcalRS ∅\nmathcalRV ∅\nmathcalS ∅\nmathcalT T_DEUT_NLD\nmathcalV ∅\nmathcalVT ∅\nmathcalY 202020252030","category":"page"},{"location":"tests/test_cases/test_case_13/#Parameters","page":"Test Case 13","title":"Parameters","text":"","category":"section"},{"location":"tests/test_cases/test_case_13/","page":"Test Case 13","title":"Test Case 13","text":"Parameter y=2020 y=2025 y=2030\nfrac1  Delta _y 1 1 1\n1^NC_T_DEUDEUCNG 0 0 0\n1^NC_T_DEUNLDCNG 0 0 0\n1^NC_T_NLDDEUCNG 0 0 0\n1^NC_T_NLDNLDCNG 0 0 0\nr_y 1 1 1\nd_OnlyTimeStep 1 1 1\nc^P_P_DEUCNGFESy 04 04 04\nc^Delta P_P_DEUCNGFESy 1 1 1\nc^P_P_NLDCNGFESy 05 05 05\nc^Delta P_P_NLDCNGFESy 1 1 1\nfi^P_CNGNatural GasFES 1 1 1\nL^P_CNGFES 50 50 50\nLambda^P_P_DEUCNGFESy 10 10 10\nLambda^I_P_DEUNatural GasBlock 1y 10 10 10\nOmega^I_P_DEUNatural GasBlock 1y 0 0 0\nc^Delta^I_P_DEUNatural GasBlock 1y 0 0 0\nLambda^T_T_DEUDEUCNGFESy 10 10 10\nLambda^T_T_DEUNLDCNGFESy 10 10 10\nOmega^P_P_DEUCNGFESy 10 10 10\nLambda^P_P_NLDCNGFESy 10 10 10\nLambda^I_P_NLDNatural GasBlock 1y 10 10 10\nOmega^I_P_NLDNatural GasBlock 1y 0 0 0\nc^Delta^I_P_NLDNatural GasBlock 1y 0 0 0\nLambda^T_T_NLDDEUCNGFESy 10 10 10\nLambda^T_T_NLDNLDCNGFESy 10 10 10\nOmega^P_P_NLDCNGFESy 10 10 10\nl^A_DEU_to_DEUCNG 00 00 00\nl^A_DEU_to_NLDCNG 00 00 00\nl^A_NLD_to_DEUCNG 01 01 01\nl^A_NLD_to_NLDCNG 00 00 00\nc^A_DEU_to_DEUCNGy 00 00 00\nc^A_DEU_to_NLDCNGy 00 00 00\nc^A_NLD_to_DEUCNGy 005 005 005\nc^A_NLD_to_NLDCNGy 00 00 00\nc^Delta A_DEU_to_DEUCNGy 025 025 025\nc^Delta A_DEU_to_NLDCNGy 025 025 025\nc^Delta A_NLD_to_DEUCNGy 025 025 025\nc^Delta A_NLD_to_NLDCNGy 025 025 025\nLambda^A_DEU_to_DEUCNGy 0 0 0\nLambda^A_DEU_to_NLDCNGy 0 0 0\nLambda^A_NLD_to_DEUCNGy 0 0 0\nLambda^A_NLD_to_NLDCNGy 0 0 0\nL^A_CNG 50 50 50\nc^I_l_P_DEUNatural GasBlock 1OnlyTimeStepy 2 2 2\nc^I_q_P_DEUNatural GasBlock 1OnlyTimeStepy 0 0 0\nav^I_P_DEUNatural GasBlock 1OnlyTimeStep 1 1 1\nc^I_l_P_NLDNatural GasBlock 1OnlyTimeStepy 05 05 05\nc^I_q_P_NLDNatural GasBlock 1OnlyTimeStepy 0 0 0\nav^I_P_NLDNatural GasBlock 1OnlyTimeStep 1 1 1\nalpha^D_DEUCNGBlock 1OnlyTimeStepy 2 2 2\nbeta^D_DEUCNGBlock 1OnlyTimeStepy -1 -1 -1\nalpha^D_NLDCNGBlock 1OnlyTimeStepy 0 0 0\nbeta^D_NLDCNGBlock 1OnlyTimeStepy -1 -1 -1","category":"page"},{"location":"tests/test_cases/test_case_13/#Test-Criteria","page":"Test Case 13","title":"Test Criteria","text":"","category":"section"},{"location":"tests/test_cases/test_case_13/","page":"Test Case 13","title":"Test Case 13","text":"Expression Result y=2020 Result y=2025 Result y=2030\ntildeP^T rightarrow D_DEUCNGBlock 1OnlyTimeStepy 0 1 099\ntildeP^T rightarrow D_NLDCNGBlock 1OnlyTimeStepy 00 00 00\nDelta^A_DEU_to_DEUCNGy 00 00 00\nDelta^A_DEU_to_NLDCNGy 10 00 00\nDelta^A_NLD_to_DEUCNGy 10 00 00\nDelta^A_NLD_to_NLDCNGy 00 00 00","category":"page"},{"location":"tests/test_cases/test_case_13/#test_case_13_graphical_solution","page":"Test Case 13","title":"Graphical Solution","text":"","category":"section"},{"location":"tests/test_cases/test_case_13/#Marginalized-Provision-Costs-and-Prices","page":"Test Case 13","title":"Marginalized Provision Costs and Prices","text":"","category":"section"},{"location":"tests/test_cases/test_case_13/#NLD-2020","page":"Test Case 13","title":"NLD 2020","text":"","category":"section"},{"location":"tests/test_cases/test_case_13/","page":"Test Case 13","title":"Test Case 13","text":"(Image: test_case_13a_graphic)","category":"page"},{"location":"tests/test_cases/test_case_13/#DEU-2020","page":"Test Case 13","title":"DEU 2020","text":"","category":"section"},{"location":"tests/test_cases/test_case_13/","page":"Test Case 13","title":"Test Case 13","text":"(Image: test_case_13b_graphic)","category":"page"},{"location":"tests/test_cases/test_case_13/#NLD-2025","page":"Test Case 13","title":"NLD 2025","text":"","category":"section"},{"location":"tests/test_cases/test_case_13/","page":"Test Case 13","title":"Test Case 13","text":"(Image: test_case_13c_graphic)","category":"page"},{"location":"tests/test_cases/test_case_13/#DEU-2025","page":"Test Case 13","title":"DEU 2025","text":"","category":"section"},{"location":"tests/test_cases/test_case_13/","page":"Test Case 13","title":"Test Case 13","text":"(Image: test_case_13d_graphic)","category":"page"},{"location":"tests/test_cases/test_case_13/#NLD-2030","page":"Test Case 13","title":"NLD 2030","text":"","category":"section"},{"location":"tests/test_cases/test_case_13/","page":"Test Case 13","title":"Test Case 13","text":"(Image: test_case_13e_graphic)","category":"page"},{"location":"tests/test_cases/test_case_13/#DEU-2030","page":"Test Case 13","title":"DEU 2030","text":"","category":"section"},{"location":"tests/test_cases/test_case_13/","page":"Test Case 13","title":"Test Case 13","text":"(Image: test_case_13f_graphic)","category":"page"},{"location":"tests/test_cases/test_case_23/#Test-Case-23","page":"Test Case 23","title":"Test Case 23","text":"","category":"section"},{"location":"tests/test_cases/test_case_23/","page":"Test Case 23","title":"Test Case 23","text":"Test Case 23 asserts that piece-wise quadratic cost functions for input procurement work as desired. It is structurally similar to Test Case 3, only that the first block of input procurement only goes to 25% of the total capacity of 1. After a quantity of 0.2, an increase in marginalized cost slope can be identified. Below, a graphical representation of the optimal solution is provided. Hence, this test passes if the equilibrium price is P=15, with an objective value of 0.45 and corresponding social welfare of 0.575 (see the grey area in the graphic).","category":"page"},{"location":"tests/test_cases/test_case_23/#Sets","page":"Test Case 23","title":"Sets","text":"","category":"section"},{"location":"tests/test_cases/test_case_23/","page":"Test Case 23","title":"Test Case 23","text":"Set Name Set Value\nmathcalA DEU_to_DEU\nmathcalAC (DEU_to_DEU CNG)\nmathcalC CNG\nmathcalDSB Block 1\nmathcalI Natural Gas\nmathcalIOB Block 1Block 2\nmathcalM OnlyTimeStep\nmathcalN DEU\nmathcalO FES\nmathcalP P_DEU\nmathcalRA ∅\nmathcalRS ∅\nmathcalRV ∅\nmathcalS ∅\nmathcalT T_DEU\nmathcalV ∅\nmathcalVT ∅\nmathcalY 2020","category":"page"},{"location":"tests/test_cases/test_case_23/#Parameters","page":"Test Case 23","title":"Parameters","text":"","category":"section"},{"location":"tests/test_cases/test_case_23/","page":"Test Case 23","title":"Test Case 23","text":"Parameter y=2020\nfrac1  Delta _y 1\n1^NC_T_DEUDEUCNG 1\nr_y 1\nd_OnlyTimeStep 1\nc^P_P_DEUCNGFESy 03\nc^Delta P_P_DEUCNGFESy 1\nfi^P_CNGNatural GasFES 1\nL^P_CNGFES 50\nLambda^P_P_DEUCNGFESy 10\nLambda^I_P_DEUNatural GasBlock 1y 025\nLambda^I_P_DEUNatural GasBlock 2y 075\nOmega^I_P_DEUNatural GasBlock 1y 0\nOmega^I_P_DEUNatural GasBlock 2y 0\nc^Delta^I_P_DEUNatural GasBlock 1y 0\nc^Delta^I_P_DEUNatural GasBlock 2y 0\nLambda^T_T_DEUDEUCNGFESy 10\nOmega^P_P_DEUCNGFESy 10\nl^A_DEU_to_DEUCNG 0\nc^A_DEU_to_DEUCNGy 0\nc^Delta A_DEU_to_DEUCNGy 0\nLambda^A_DEU_to_DEUCNGy 0\nL^A_CNG 50\nc^I_l_P_DEUNatural GasBlock 1OnlyTimeStepy 01\nc^I_q_P_DEUNatural GasBlock 1OnlyTimeStepy 04\nav^I_P_DEUNatural GasBlock 1OnlyTimeStep 1\nc^I_l_P_DEUNatural GasBlock 2OnlyTimeStepy 02\nc^I_q_P_DEUNatural GasBlock 2OnlyTimeStepy 20\nav^I_P_DEUNatural GasBlock 2OnlyTimeStep 1\nalpha^D_DEUCNGBlock 1OnlyTimeStepy 2\nbeta^D_DEUCNGBlock 1OnlyTimeStepy -1","category":"page"},{"location":"tests/test_cases/test_case_23/#Test-Criteria","page":"Test Case 23","title":"Test Criteria","text":"","category":"section"},{"location":"tests/test_cases/test_case_23/","page":"Test Case 23","title":"Test Case 23","text":"Expression Result y=2020\ntildeP^T rightarrow D_DEUCNGBlock 1OnlyTimeStepy 15\nObjective Value 045\nSocial Welfare 0575","category":"page"},{"location":"tests/test_cases/test_case_23/#Graphical-Solution","page":"Test Case 23","title":"Graphical Solution","text":"","category":"section"},{"location":"tests/test_cases/test_case_23/#Profit-Maximization-in-a-Cournot-Setting","page":"Test Case 23","title":"Profit Maximization in a Cournot Setting","text":"","category":"section"},{"location":"tests/test_cases/test_case_23/","page":"Test Case 23","title":"Test Case 23","text":"(Image: test_case_23_graphic)","category":"page"},{"location":"tests/test_cases/test_case_21/#Test-Case-21","page":"Test Case 21","title":"Test Case 21","text":"","category":"section"},{"location":"tests/test_cases/test_case_21/","page":"Test Case 21","title":"Test Case 21","text":"Test Case 21 asserts that repurposing of arc capacities works as intended, including repurposing factors. The tables below describe an extended version of Test Case 9 with two commodities and years instead of one. In addition, an overview of test criteria and a graphical solution is displayed.","category":"page"},{"location":"tests/test_cases/test_case_21/#Sets","page":"Test Case 21","title":"Sets","text":"","category":"section"},{"location":"tests/test_cases/test_case_21/","page":"Test Case 21","title":"Test Case 21","text":"Set Name Set Value\nmathcalA DEU_to_DEUDEU_to_NLDNLD_to_DEUNLD_to_NLD\nmathcalAC beginaligned  (DEU_to_DEU CNG) (DEU_to_NLD CNG)   (NLD_to_DEU CNG) (NLD_to_NLD CNG)   (DEU_to_DEU GH2) (DEU_to_NLD GH2)   (NLD_to_DEU GH2) (NLD_to_NLD GH2)endaligned\nmathcalC CNGGH2\nmathcalDSB Block 1\nmathcalI Natural Gas\nmathcalIOB Block 1\nmathcalM OnlyTimeStep\nmathcalN DEUNLD\nmathcalO FES\nmathcalP P_DEUP_NLD\nmathcalRA ∅\nmathcalRS ∅\nmathcalRV ∅\nmathcalS ∅\nmathcalT T_DEUT_NLD\nmathcalV ∅\nmathcalVT ∅\nmathcalY 20202021","category":"page"},{"location":"tests/test_cases/test_case_21/#Parameters","page":"Test Case 21","title":"Parameters","text":"","category":"section"},{"location":"tests/test_cases/test_case_21/","page":"Test Case 21","title":"Test Case 21","text":"Parameter y=2020 y=2021\nfrac1  Delta _y 1 1\n1^NC_T_DEUDEUCNG 0 0\n1^NC_T_DEUNLDCNG 0 0\n1^NC_T_NLDDEUCNG 0 0\n1^NC_T_NLDNLDCNG 0 0\n1^NC_T_DEUDEUGH2 0 0\n1^NC_T_DEUNLDGH2 0 0\n1^NC_T_NLDDEUGH2 0 0\n1^NC_T_NLDNLDGH2 0 0\nr_y 1 1\nd_OnlyTimeStep 1 1\nc^P_P_DEUCNGFESy 05 05\nc^Delta P_P_DEUCNGFESy 1 1\nc^P_P_NLDCNGFESy 05 05\nc^Delta P_P_NLDCNGFESy 1 1\nfi^P_CNGNatural GasFES 1 1\nL^P_CNGFES 50 50\nLambda^P_P_DEUCNGFESy 10 10\nc^P_P_DEUGH2FESy 04 04\nc^Delta P_P_DEUGH2FESy 1 1\nc^P_P_NLDGH2FESy 05 05\nc^Delta P_P_NLDGH2FESy 1 1\nfi^P_GH2Natural GasFES 1 1\nL^P_GH2FES 50 50\nLambda^P_P_DEUGH2FESy 10 10\nLambda^I_P_DEUNatural GasBlock 1y 10 10\nOmega^I_P_DEUNatural GasBlock 1y 0 0\nc^Delta^I_P_DEUNatural GasBlock 1y 0 0\nLambda^T_T_DEUDEUCNGFESy 10 10\nLambda^T_T_DEUNLDCNGFESy 10 10\nLambda^T_T_DEUDEUGH2FESy 10 10\nLambda^T_T_DEUNLDGH2FESy 10 10\nOmega^P_P_DEUCNGFESy 10 10\nOmega^P_P_DEUGH2FESy 10 10\nLambda^P_P_NLDCNGFESy 10 10\nLambda^P_P_NLDGH2FESy 10 10\nLambda^I_P_NLDNatural GasBlock 1y 10 10\nOmega^I_P_NLDNatural GasBlock 1y 0 0\nc^Delta^I_P_NLDNatural GasBlock 1y 0 0\nLambda^T_T_NLDDEUCNGFESy 10 10\nLambda^T_T_NLDDEUGH2FESy 10 10\nLambda^T_T_NLDNLDCNGFESy 10 10\nLambda^T_T_NLDNLDGH2FESy 10 10\nOmega^P_P_NLDCNGFESy 10 10\nOmega^P_P_NLDGH2FESy 10 10\nl^A_DEU_to_DEUCNG 00 00\nl^A_DEU_to_NLDCNG 00 00\nl^A_NLD_to_DEUCNG 01 01\nl^A_NLD_to_NLDCNG 00 00\nl^A_DEU_to_DEUGH2 00 00\nl^A_DEU_to_NLDGH2 00 00\nl^A_NLD_to_DEUGH2 01 01\nl^A_NLD_to_NLDGH2 00 00\nc^A_DEU_to_DEUCNGy 00 00\nc^A_DEU_to_NLDCNGy 00 00\nc^A_NLD_to_DEUCNGy 01 01\nc^A_NLD_to_NLDCNGy 00 00\nc^A_DEU_to_DEUGH2y 00 00\nc^A_DEU_to_NLDGH2y 00 00\nc^A_NLD_to_DEUGH2y 01 01\nc^A_NLD_to_NLDGH2y 00 00\nc^Delta A_DEU_to_DEUCNGy 0 0\nc^Delta A_DEU_to_NLDCNGy 10 10\nc^Delta A_NLD_to_DEUCNGy 10 10\nc^Delta A_NLD_to_NLDCNGy 0 0\nc^Delta A_DEU_to_DEUGH2y 0 0\nc^Delta A_DEU_to_NLDGH2y 10 10\nc^Delta A_NLD_to_DEUGH2y 10 10\nc^Delta A_NLD_to_NLDGH2y 0 0\nc^Delta^RA_DEU_to_DEUCNGGH2y 0 0\nc^Delta^RA_DEU_to_NLDCNGGH2y 0 0\nc^Delta^RA_NLD_to_DEUCNGGH2y 0055 0055\nc^Delta^RA_NLD_to_NLDCNGGH2y 0 0\nf^RA_CNGGH2 05 05\nLambda^A_DEU_to_DEUCNGy 0 0\nLambda^A_DEU_to_NLDCNGy 10 10\nLambda^A_NLD_to_DEUCNGy 10 10\nLambda^A_NLD_to_NLDCNGy 0 0\nLambda^A_DEU_to_DEUGH2y 0 0\nLambda^A_DEU_to_NLDGH2y 0 0\nLambda^A_NLD_to_DEUGH2y 0 0\nLambda^A_NLD_to_NLDGH2y 0 0\nL^A_CNG 50 50\nL^A_GH2 50 50\nc^I_l_P_DEUNatural GasBlock 1OnlyTimeStepy 2 2\nc^I_q_P_DEUNatural GasBlock 1OnlyTimeStepy 0 0\nav^I_P_DEUNatural GasBlock 1OnlyTimeStep 1 1\nc^I_l_P_NLDNatural GasBlock 1OnlyTimeStepy 05 05\nc^I_q_P_NLDNatural GasBlock 1OnlyTimeStepy 0 0\nav^I_P_NLDNatural GasBlock 1OnlyTimeStep 1 1\nalpha^D_DEUCNGBlock 1OnlyTimeStepy 2 0\nbeta^D_DEUCNGBlock 1OnlyTimeStepy -1 0\nalpha^D_NLDCNGBlock 1OnlyTimeStepy 0 0\nbeta^D_NLDCNGBlock 1OnlyTimeStepy -1 0\nalpha^D_DEUGH2Block 1OnlyTimeStepy 0 2\nbeta^D_DEUGH2Block 1OnlyTimeStepy 0 -1\nalpha^D_NLDGH2Block 1OnlyTimeStepy 0 0\nbeta^D_NLDGH2Block 1OnlyTimeStepy 0 -1","category":"page"},{"location":"tests/test_cases/test_case_21/#test_case_19_test_criteria","page":"Test Case 21","title":"Test Criteria","text":"","category":"section"},{"location":"tests/test_cases/test_case_21/","page":"Test Case 21","title":"Test Case 21","text":"Expression Result y=2020 Result y=2021\ntildeP^T rightarrow D_DEUCNGBlock 1OnlyTimeStepy 12 0\ntildeP^T rightarrow D_NLDCNGBlock 1OnlyTimeStepy 00 00\ntildeP^T rightarrow D_DEUGH2Block 1OnlyTimeStepy 0 12\ntildeP^T rightarrow D_NLDGH2Block 1OnlyTimeStepy 00 00\nq^I_P_DEUNatural GasBlock 1OnlyTimeStepy 00 00\nq^I_P_NLDNatural GasBlock 1OnlyTimeStepy 088 088","category":"page"},{"location":"tests/test_cases/test_case_21/#test_case_21_graphical_solution","page":"Test Case 21","title":"Graphical Solution","text":"","category":"section"},{"location":"tests/test_cases/test_case_21/#Marginalized-Provision-Costs-and-Prices-for-Different-Nodes","page":"Test Case 21","title":"Marginalized Provision Costs and Prices for Different Nodes","text":"","category":"section"},{"location":"tests/test_cases/test_case_21/#Node-NLD-in-2020-for-CNG","page":"Test Case 21","title":"Node NLD in 2020 for CNG","text":"","category":"section"},{"location":"tests/test_cases/test_case_21/","page":"Test Case 21","title":"Test Case 21","text":"(Image: test_case_21a_graphic)","category":"page"},{"location":"tests/test_cases/test_case_21/#Node-DEU-in-2020-for-CNG","page":"Test Case 21","title":"Node DEU in 2020 for CNG","text":"","category":"section"},{"location":"tests/test_cases/test_case_21/","page":"Test Case 21","title":"Test Case 21","text":"(Image: test_case_21b_graphic)","category":"page"},{"location":"tests/test_cases/test_case_21/#Node-NLD-in-2021-for-CNG","page":"Test Case 21","title":"Node NLD in 2021 for CNG","text":"","category":"section"},{"location":"tests/test_cases/test_case_21/","page":"Test Case 21","title":"Test Case 21","text":"(Image: test_case_21c_graphic)","category":"page"},{"location":"tests/test_cases/test_case_21/#Node-DEU-in-2021-for-CNG","page":"Test Case 21","title":"Node DEU in 2021 for CNG","text":"","category":"section"},{"location":"tests/test_cases/test_case_21/","page":"Test Case 21","title":"Test Case 21","text":"(Image: test_case_21d_graphic)","category":"page"},{"location":"tests/test_cases/test_case_21/#Node-NLD-in-2020-for-GH2","page":"Test Case 21","title":"Node NLD in 2020 for GH2","text":"","category":"section"},{"location":"tests/test_cases/test_case_21/","page":"Test Case 21","title":"Test Case 21","text":"(Image: test_case_21e_graphic)","category":"page"},{"location":"tests/test_cases/test_case_21/#Node-DEU-in-2020-for-GH2","page":"Test Case 21","title":"Node DEU in 2020 for GH2","text":"","category":"section"},{"location":"tests/test_cases/test_case_21/","page":"Test Case 21","title":"Test Case 21","text":"(Image: test_case_21f_graphic)","category":"page"},{"location":"tests/test_cases/test_case_21/#Node-NLD-in-2021-for-GH2","page":"Test Case 21","title":"Node NLD in 2021 for GH2","text":"","category":"section"},{"location":"tests/test_cases/test_case_21/","page":"Test Case 21","title":"Test Case 21","text":"(Image: test_case_21g_graphic)","category":"page"},{"location":"tests/test_cases/test_case_21/#Node-DEU-in-2021-for-GH2","page":"Test Case 21","title":"Node DEU in 2021 for GH2","text":"","category":"section"},{"location":"tests/test_cases/test_case_21/","page":"Test Case 21","title":"Test Case 21","text":"(Image: test_case_21h_graphic)","category":"page"},{"location":"mathematical_formulation/player_problems/converter_problem/#Converter","page":"Converter Problem","title":"Converter","text":"","category":"section"},{"location":"mathematical_formulation/player_problems/converter_problem/","page":"Converter Problem","title":"Converter Problem","text":"beginaligned\t\nmax_substackq^V_vtcdomy  Delta^V_vccy  Delta^RV_vrrccy  quad \n\t\t\t\n\t\t\tsum_y in mathcalY r_y left beginaligned\n\t\t\t\tsum_(cc) in mathcalVT \n\t\t\t\tleft(\n\t\t\t\tbeginalignedsum_t in mathcalT sum_o in mathcalO sum_m in mathcalM d_m\n\t\t\t\t\tleft(\n\t\t\t\t\tpi^V rightarrow T_tncomy - fi^V_cc pi^T rightarrow V_tncomy - c^V_vccy right) q^V_vtccomy \n\t\t\t\t\t- frac1  Delta _y c^Delta V_vccy Delta^V_vccy\n\t\t\t\tendaligned\n\t\t\t\tright) \n\t\t\t\t- frac1  Delta _y sum_((rr)(cc)) in mathcalRV c^Delta^RV_vrrccy Delta^RV_vrrccy\n\t\t\tendaligned right \ntextst quad \t\n\t\t\t beginaligned sum_o in mathcalO sum_t in mathcalT q^V_vtccomy  leq left( \n\t\t\t\tbeginaligned\n\t\t\t\t\tLambda^V_vccy \n\t\t\t\t\t+ sum_y in mathcalY  y-L^V_cc leq y  y  Delta^V_vccy \n\t\t\t\t\t+ sum_(rr)  ((rr)(cc)) in mathcalRV sum_ y in mathcalY  y-L^V_cc leq y y  f^RV_rrcc Delta^RV_vrrccy \n\t\t\t\t\t- sum_(rr)  ((cc)(rr)) in mathcalRV sum_ y in mathcalY  y y Delta^RV_vccrry\n\t\t\t\tendaligned \n\t\t\t\tright)  endaligned   \n\t\t\tbeginaligned\n\t\t\t\tforall m in mathcalM y in mathcalY  (cc) in mathcalVT\n\t\t\tendaligned\n\t\t\tquad  (lambda^V_vccmy) \n\t\t\t q^V_vtccomy Delta^V_vccy Delta^RV_vrrccy geq 0 quad  \nendaligned","category":"page"},{"location":"tests/test_cases/test_case_25/#Test-Case-25","page":"Test Case 25","title":"Test Case 25","text":"","category":"section"},{"location":"tests/test_cases/test_case_25/","page":"Test Case 25","title":"Test Case 25","text":"Test Case 25 asserts that input capacity expansion, availability of input capacity and input expansion limits work as desired. In 2020, no input capacity is available. With the corresponding investments and availabilities, a price of 1.5 materializes in 2025. No consumption should happen in 2030 and 2035 because investments are not lucrative to carry over to 2030 and because the aggregate active investments in 2035 should be 0, respectively. Below is a graphical representation of the optimal solution. Hence, this test passes if the equilibrium price is P=15 in 2025 and equal to the intercept of the inverse demand function in all other periods, with an objective value of 0.375 and corresponding social welfare of 0.5 (see the sum of grey areas in the figure).","category":"page"},{"location":"tests/test_cases/test_case_25/#Sets","page":"Test Case 25","title":"Sets","text":"","category":"section"},{"location":"tests/test_cases/test_case_25/","page":"Test Case 25","title":"Test Case 25","text":"Set Name Set Value\nmathcalA DEU_to_DEU\nmathcalAC (DEU_to_DEU CNG)\nmathcalC CNG\nmathcalDSB Block 1\nmathcalI Natural Gas\nmathcalIOB Block 1Block 2\nmathcalM OnlyTimeStep\nmathcalN DEU\nmathcalO FES\nmathcalP P_DEU\nmathcalRA ∅\nmathcalRS ∅\nmathcalRV ∅\nmathcalS ∅\nmathcalT T_DEU\nmathcalV ∅\nmathcalVT ∅\nmathcalY 2020202520302035","category":"page"},{"location":"tests/test_cases/test_case_25/#Parameters","page":"Test Case 25","title":"Parameters","text":"","category":"section"},{"location":"tests/test_cases/test_case_25/","page":"Test Case 25","title":"Test Case 25","text":"Parameter y=2020 y=2025 y=2030 y=2035\nfrac1  Delta _y 5 5 5 5\nmathds1^NC_T_DEUDEUCNG 1 1 1 1\nr_y 1 1 1 1\nd_OnlyTimeStep 1 1 1 1\nc^P_P_DEUCNGFESy 01 01 01 01\nc^Delta P_P_DEUCNGFESy 1 1 1 1\nfi^P_CNGNatural GasFES 1 1 1 1\nL^P_CNGFES 50 50 50 50\nLambda^P_P_DEUCNGFESy 10 10 10 10\nLambda^I_P_DEUNatural GasBlock 1y 0 0 0 0\nLambda^I_P_DEUNatural GasBlock 2y 0 0 0 0\nLambda^T_T_DEUDEUCNGFESy 10 10 10 10\nOmega^P_P_DEUCNGFESy 10 10 10 10\nl^A_DEU_to_DEUCNG 0 0 0 0\nc^A_DEU_to_DEUCNGy 0 0 0 0\nc^Delta A_DEU_to_DEUCNGy 0 0 0 0\nLambda^A_DEU_to_DEUCNGy 0 0 0 0\nL^A_CNG 50 50 50 50\nc^I_l_P_DEUNatural GasBlock 1OnlyTimeStepy 01 01 01 01\nc^I_q_P_DEUNatural GasBlock 1OnlyTimeStepy 0 0 0 0\nav^I_P_DEUNatural GasBlock 1OnlyTimeStep 1 1 1 1\nc^I_l_P_DEUNatural GasBlock 2OnlyTimeStepy 02 02 02 02\nc^I_q_P_DEUNatural GasBlock 2OnlyTimeStepy 0 0 0 0\nav^I_P_DEUNatural GasBlock 2OnlyTimeStep 05 05 05 05\nOmega^I_P_DEUNatural GasBlock 1y 025 025 025 00\nOmega^I_P_DEUNatural GasBlock 2y 1 1 1 0\nc^Delta^I_P_DEUNatural GasBlock 1y 15 15 15 15\nc^Delta^I_P_DEUNatural GasBlock 2y 175 175 175 175\nL^I_Natural Gas 5 5 5 5\nalpha^D_DEUCNGBlock 1OnlyTimeStepy 2 2 04 2\nbeta^D_DEUCNGBlock 1OnlyTimeStepy -1 -1 -1 -1","category":"page"},{"location":"tests/test_cases/test_case_25/#Test-Criteria","page":"Test Case 25","title":"Test Criteria","text":"","category":"section"},{"location":"tests/test_cases/test_case_25/","page":"Test Case 25","title":"Test Case 25","text":"Expression Result y=2020 Result y=2025 Result y=2030 Result y=2035\ntildeP^T rightarrow D_DEUCNGBlock 1OnlyTimeStepy 2 15 04 2\nObjective Value    0375","category":"page"},{"location":"tests/test_cases/test_case_25/#Graphical-Solution","page":"Test Case 25","title":"Graphical Solution","text":"","category":"section"},{"location":"tests/test_cases/test_case_25/#Profit-Maximization-in-a-Cournot-Setting","page":"Test Case 25","title":"Profit Maximization in a Cournot Setting","text":"","category":"section"},{"location":"tests/test_cases/test_case_25/#2020","page":"Test Case 25","title":"2020","text":"","category":"section"},{"location":"tests/test_cases/test_case_25/","page":"Test Case 25","title":"Test Case 25","text":"(Image: test_case_25a_graphic)","category":"page"},{"location":"tests/test_cases/test_case_25/#2025","page":"Test Case 25","title":"2025","text":"","category":"section"},{"location":"tests/test_cases/test_case_25/","page":"Test Case 25","title":"Test Case 25","text":"(Image: test_case_25b_graphic)","category":"page"},{"location":"tests/test_cases/test_case_25/#2030","page":"Test Case 25","title":"2030","text":"","category":"section"},{"location":"tests/test_cases/test_case_25/","page":"Test Case 25","title":"Test Case 25","text":"(Image: test_case_25c_graphic)","category":"page"},{"location":"tests/test_cases/test_case_25/#2035","page":"Test Case 25","title":"2035","text":"","category":"section"},{"location":"tests/test_cases/test_case_25/","page":"Test Case 25","title":"Test Case 25","text":"(Image: test_case_25d_graphic)","category":"page"},{"location":"tests/test_cases/test_case_17/#Test-Case-17","page":"Test Case 17","title":"Test Case 17","text":"","category":"section"},{"location":"tests/test_cases/test_case_17/","page":"Test Case 17","title":"Test Case 17","text":"Test Case 17 is similar to Test Case 13, only that T_NLD is not allowed to sell natural gas from FES in DEU. The tables below depict the sets and parameters, respectively. For the test to pass, capacity expansions of all arcs must be zero, and prices must be equal to inverse demand intercepts, i.e. for DEU 0, 2 and 0.98 in 2020, 2025 and 2030, respectively, and 0 in NLD in all years. Passing criteria can be seen below, while the figure depicts a graphical solution. ","category":"page"},{"location":"tests/test_cases/test_case_17/#Sets","page":"Test Case 17","title":"Sets","text":"","category":"section"},{"location":"tests/test_cases/test_case_17/","page":"Test Case 17","title":"Test Case 17","text":"Set Name Set Value\nmathcalA DEU_to_DEUDEU_to_NLDNLD_to_DEUNLD_to_NLD\nmathcalAC beginaligned (DEU_to_DEU CNG)(DEU_to_NLD CNG)   (NLD_to_DEU CNG)(NLD_to_NLD CNG) endaligned\nmathcalC CNG\nmathcalDSB Block 1\nmathcalI Natural Gas\nmathcalIOB Block 1\nmathcalM OnlyTimeStep\nmathcalN DEUNLD\nmathcalO FES\nmathcalP P_DEUP_NLD\nmathcalRA ∅\nmathcalRS ∅\nmathcalRV ∅\nmathcalS ∅\nmathcalT T_DEUT_NLD\nmathcalV ∅\nmathcalVT ∅\nmathcalY 202020252030","category":"page"},{"location":"tests/test_cases/test_case_17/#Parameters","page":"Test Case 17","title":"Parameters","text":"","category":"section"},{"location":"tests/test_cases/test_case_17/","page":"Test Case 17","title":"Test Case 17","text":"Parameter y=2020 y=2025 y=2030\nfrac1  Delta _y 1 1 1\n1^NC_T_DEUDEUCNG 0 0 0\n1^NC_T_DEUNLDCNG 0 0 0\n1^NC_T_NLDDEUCNG 0 0 0\n1^NC_T_NLDNLDCNG 0 0 0\nr_y 1 1 1\nd_OnlyTimeStep 1 1 1\nc^P_P_DEUCNGFESy 04 04 04\nc^Delta P_P_DEUCNGFESy 1 1 1\nc^P_P_NLDCNGFESy 05 05 05\nc^Delta P_P_NLDCNGFESy 1 1 1\nfi^P_CNGNatural GasFES 1 1 1\nL^P_CNGFES 50 50 50\nLambda^P_P_DEUCNGFESy 10 10 10\nLambda^I_P_DEUNatural GasBlock 1y 10 10 10\nOmega^I_P_DEUNatural GasBlock 1y 0 0 0\nc^Delta^I_P_DEUNatural GasBlock 1y 0 0 0\nLambda^T_T_DEUDEUCNGFESy 10 10 10\nLambda^T_T_DEUNLDCNGFESy 10 10 10\nOmega^P_P_DEUCNGFESy 10 10 10\nLambda^P_P_NLDCNGFESy 10 10 10\nLambda^I_P_NLDNatural GasBlock 1y 10 10 10\nOmega^I_P_NLDNatural GasBlock 1y 0 0 0\nc^Delta^I_P_NLDNatural GasBlock 1y 0 0 0\nLambda^T_T_NLDDEUCNGFESy 0 0 0\nLambda^T_T_NLDNLDCNGFESy 10 10 10\nOmega^P_P_NLDCNGFESy 10 10 10\nl^A_DEU_to_DEUCNG 00 00 00\nl^A_DEU_to_NLDCNG 00 00 00\nl^A_NLD_to_DEUCNG 01 01 01\nl^A_NLD_to_NLDCNG 00 00 00\nc^A_DEU_to_DEUCNGy 00 00 00\nc^A_DEU_to_NLDCNGy 00 00 00\nc^A_NLD_to_DEUCNGy 005 005 005\nc^A_NLD_to_NLDCNGy 00 00 00\nc^Delta A_DEU_to_DEUCNGy 025 025 025\nc^Delta A_DEU_to_NLDCNGy 025 025 025\nc^Delta A_NLD_to_DEUCNGy 025 025 025\nc^Delta A_NLD_to_NLDCNGy 025 025 025\nLambda^A_DEU_to_DEUCNGy 0 0 0\nLambda^A_DEU_to_NLDCNGy 0 0 0\nLambda^A_NLD_to_DEUCNGy 0 0 0\nLambda^A_NLD_to_NLDCNGy 0 0 0\nL^A_CNG 50 50 50\nc^I_l_P_DEUNatural GasBlock 1OnlyTimeStepy 2 2 2\nc^I_q_P_DEUNatural GasBlock 1OnlyTimeStepy 0 0 0\nav^I_P_DEUNatural GasBlock 1OnlyTimeStep 1 1 1\nc^I_l_P_NLDNatural GasBlock 1OnlyTimeStepy 05 05 05\nc^I_q_P_NLDNatural GasBlock 1OnlyTimeStepy 0 0 0\nav^I_P_NLDNatural GasBlock 1OnlyTimeStep 1 1 1\nalpha^D_DEUCNGBlock 1OnlyTimeStepy 2 2 2\nbeta^D_DEUCNGBlock 1OnlyTimeStepy -1 -1 -1\nalpha^D_NLDCNGBlock 1OnlyTimeStepy 0 0 0\nbeta^D_NLDCNGBlock 1OnlyTimeStepy -1 -1 -1","category":"page"},{"location":"tests/test_cases/test_case_17/#Test-Criteria","page":"Test Case 17","title":"Test Criteria","text":"","category":"section"},{"location":"tests/test_cases/test_case_17/","page":"Test Case 17","title":"Test Case 17","text":"Expression Result y=2020 Result y=2025 Result y=2030\ntildeP^T rightarrow D_DEUCNGBlock 1OnlyTimeStepy 0 2 099\ntildeP^T rightarrow D_NLDCNGBlock 1OnlyTimeStepy 00 00 00\nDelta^A_DEU_to_DEUCNGy 00 00 00\nDelta^A_DEU_to_NLDCNGy 00 00 00\nDelta^A_NLD_to_DEUCNGy 00 00 00\nDelta^A_NLD_to_NLDCNGy 00 00 00","category":"page"},{"location":"tests/test_cases/test_case_17/#test_case_17_graphical_solution","page":"Test Case 17","title":"Graphical Solution","text":"","category":"section"},{"location":"tests/test_cases/test_case_17/#Marginalized-Provision-Costs-and-Prices","page":"Test Case 17","title":"Marginalized Provision Costs and Prices","text":"","category":"section"},{"location":"tests/test_cases/test_case_17/#NLD-2020","page":"Test Case 17","title":"NLD 2020","text":"","category":"section"},{"location":"tests/test_cases/test_case_17/","page":"Test Case 17","title":"Test Case 17","text":"(Image: test_case_17a_graphic)","category":"page"},{"location":"tests/test_cases/test_case_17/#DEU-2020","page":"Test Case 17","title":"DEU 2020","text":"","category":"section"},{"location":"tests/test_cases/test_case_17/","page":"Test Case 17","title":"Test Case 17","text":"(Image: test_case_17b_graphic)","category":"page"},{"location":"tests/test_cases/test_case_17/#NLD-2025","page":"Test Case 17","title":"NLD 2025","text":"","category":"section"},{"location":"tests/test_cases/test_case_17/","page":"Test Case 17","title":"Test Case 17","text":"(Image: test_case_17c_graphic)","category":"page"},{"location":"tests/test_cases/test_case_17/#DEU-2025","page":"Test Case 17","title":"DEU 2025","text":"","category":"section"},{"location":"tests/test_cases/test_case_17/","page":"Test Case 17","title":"Test Case 17","text":"(Image: test_case_17d_graphic)","category":"page"},{"location":"tests/test_cases/test_case_17/#NLD-2030","page":"Test Case 17","title":"NLD 2030","text":"","category":"section"},{"location":"tests/test_cases/test_case_17/","page":"Test Case 17","title":"Test Case 17","text":"(Image: test_case_17e_graphic)","category":"page"},{"location":"tests/test_cases/test_case_17/#DEU-2030","page":"Test Case 17","title":"DEU 2030","text":"","category":"section"},{"location":"tests/test_cases/test_case_17/","page":"Test Case 17","title":"Test Case 17","text":"(Image: test_case_17f_graphic)","category":"page"},{"location":"mathematical_formulation/complementarity_problem/transmission_system_operator_optimality_conditions/#Transmission-System-Operator-Optimality-Conditions","page":"Transmission System Operator KKTs","title":"Transmission System Operator Optimality Conditions","text":"","category":"section"},{"location":"mathematical_formulation/complementarity_problem/transmission_system_operator_optimality_conditions/","page":"Transmission System Operator KKTs","title":"Transmission System Operator KKTs","text":"beginaligned\t\nleftbeginaligned\n\t\t\t\tr_y d_m\n\t\t\t\tleft(beginaligned\n\t\t\t\t\t- pi^A_acmy + c^A_acy\n\t\t\t\tendaligned right) \n\t\t\t\t+ lambda^A_acmy\n\t\t\tendalignedright\n\t\t\tgeq 0  perp q^A_acmy geq 0  \n\t\t\tbeginaligned\n\t\t\t\tforall  (ac) in mathcalAC   m in mathcalM y in mathcalY\n\t\t\tendaligned \n\t\t\t\n\t\t\tleftbeginaligned\n\t\t\t\tfracr_y  Delta _y frac12 c^Delta A_acy  - sum_ y in mathcalY  (y  y leq y + L^A_c) sum_m in mathcalM lambda^A_acmy \n\t\t\t\t+ delta^A_acy -  delta^A_a^-1(a)cy\n\t\t\tendaligned right\n\t\t\tgeq 0  perp Delta^A_acy  geq 0  \n\t\t\tbeginaligned\n\t\t\t\tforall  (ac) in mathcalAC  y in mathcalY\n\t\t\tendaligned \n\t\t\t\n\t\t\tleftbeginaligned\n\t\t\t\tfracr_y  Delta _y frac12 c^Delta^RA_arcy  - sum_ y in mathcalY  (y  y leq y +L^A_c) sum_m in mathcalM f^RA_rc lambda^A_acmy   + sum_ y in mathcalY  y y sum_m in mathcalM lambda^A_army \n\t\t\t\tdelta^RA_arcy - delta^RA_a^-1(a)rcy\n\t\t\tendaligned right\n\t\t\tgeq 0  perp Delta^RA_arcy  geq 0  \n\t\t\tbeginaligned\n\t\t\t\tforall a in mathcalA (rc) in mathcalRA   (ar) in mathcalAC y in mathcalY\n\t\t\tendaligned \n\t\t\t\n\t\t\tleft\n\t\t\tbeginaligned\n\t\t\t\tLambda^A_acy  \n\t\t\t\t+ sum_ y in mathcalY  y-L^A_c leq y y Delta^A_acy \n\t\t\t\t+ sum_r  (rc) in mathcalRA sum_ y in mathcalY  y-L^A_c leq y y f^RA_rc Delta^RA_arcy \n\t\t\t\t- sum_r  (cr) in mathcalRA sum_ y in mathcalY  y y Delta^RA_acry \n\t\t\t\t- q^A_acmy\n\t\t\tendaligned \n\t\t\tright\n\t\t\tgeq 0  perp lambda^A_acmy geq 0  \n\t\t\tbeginaligned\n\t\t\t\tforall  (ac) in mathcalAC   m in mathcalM y in mathcalY\n\t\t\tendaligned \n\t\t\t\n\t\t\tleft\n\t\t\tbeginaligned\n\t\t\t\tDelta^A_acy -  Delta^A_a^-1(a)cy\n\t\t\tendaligned \n\t\t\tright\n\t\t\t= 0  perp delta^A_acy   \n\t\t\tbeginaligned\n\t\t\t\tforall  (ac) in mathcalAC    y in mathcalY\n\t\t\tendaligned\n\t\t\t\n\t\t\tleft\n\t\t\tbeginaligned\n\t\t\t\tDelta^RA_arcy - Delta^RA_a^-1(a)rcy\n\t\t\tendaligned \n\t\t\tright\n\t\t\t= 0  perp delta^RA_arcy   \n\t\t\tbeginaligned\n\t\t\t\tforall a in mathcalA (rc) in mathcalRA   (ar) in mathcalAC y in mathcalY\n\t\t\tendaligned\nendaligned","category":"page"},{"location":"tests/test_cases/test_case_10/#Test-Case-10","page":"Test Case 10","title":"Test Case 10","text":"","category":"section"},{"location":"tests/test_cases/test_case_10/","page":"Test Case 10","title":"Test Case 10","text":"Test Case 10 is structurally similar to Test Case 5, but 10% losses between time steps are incurred in addition to 01 of extraction costs. The tables below depict the sets and parameters, respectively. Marginalized provision costs from low to high demand time step are hence MC=11. Tests are passed, if prices are P=11 and P=0 in high and low demand time steps.","category":"page"},{"location":"tests/test_cases/test_case_10/#Sets","page":"Test Case 10","title":"Sets","text":"","category":"section"},{"location":"tests/test_cases/test_case_10/","page":"Test Case 10","title":"Test Case 10","text":"Set Name Set Value\nmathcalA DEU_to_DEU\nmathcalAC (DEU_to_DEU CNG)\nmathcalC CNG\nmathcalDSB Block 1\nmathcalI Natural Gas\nmathcalIOB Block 1\nmathcalM LH\nmathcalN DEU\nmathcalO FES\nmathcalP P_DEU\nmathcalRA ∅\nmathcalRS ∅\nmathcalRV ∅\nmathcalS S_DEU\nmathcalT T_DEU\nmathcalV ∅\nmathcalVT ∅\nmathcalY 2020","category":"page"},{"location":"tests/test_cases/test_case_10/#Parameters","page":"Test Case 10","title":"Parameters","text":"","category":"section"},{"location":"tests/test_cases/test_case_10/","page":"Test Case 10","title":"Test Case 10","text":"Parameter m=L m=H\nfrac1  Delta _y 1 1\n1^NC_T_DEUDEUCNG 0 0\nr_2020 1 1\nd_m 2 1\nc^P_P_DEUCNGFES2020 04 04\nc^Delta P_P_DEUCNGFES2020 1 1\nfi^P_CNGNatural GasFES 1 1\nL^P_CNGFES 50 50\nLambda^P_P_DEUCNGFES2020 10 10\nLambda^I_P_DEUNatural GasBlock 12020 10 10\nOmega^I_P_DEUNatural GasBlock 12020 0 0\nc^Delta^I_P_DEUNatural GasBlock 12020 0 0\nLambda^T_T_DEUDEUCNGFES2020 10 10\nOmega^P_P_DEUCNGFES2020 10 10\nl^A_DEU_to_DEUCNG 0 0\nc^A_DEU_to_DEUCNG2020 0 0\nc^Delta A_DEU_to_DEUCNG2020 0 0\nLambda^A_DEU_to_DEUCNG2020 0 0\nL^A_CNG 50 50\nl^S_CNGmL 0 0\nl^S_CNGmH 01 0\nc^S_in_S_DEUCNG2020 0 0\nc^S_S_DEUCNG2020 01 01\nc^Delta S_S_DEUCNG2020 10 10\nLambda^S_S_DEUCNG2020 10 10\nOmega^S_S_DEUCNG2020 10 10\nL^S_CNG 10 10\nc^I_l_P_DEUNatural GasBlock 1m2020 05 1\nc^I_q_P_DEUNatural GasBlock 1m2020 0 0\nav^I_P_DEUNatural GasBlock 1m 1 1\nalpha^D_DEUCNGBlock 1m2020 0 2\nbeta^D_DEUCNGBlock 1m2020 0 -1","category":"page"},{"location":"tests/test_cases/test_case_10/#Test-Criteria","page":"Test Case 10","title":"Test Criteria","text":"","category":"section"},{"location":"tests/test_cases/test_case_10/","page":"Test Case 10","title":"Test Case 10","text":"Expression Result m=L Result m=H\ntildeP^T rightarrow D_DEUCNGBlock 1m2020 00 11","category":"page"},{"location":"tests/test_cases/test_case_10/#Graphical-Solution","page":"Test Case 10","title":"Graphical Solution","text":"","category":"section"},{"location":"tests/test_cases/test_case_10/#Marginalized-Provision-Costs-and-Prices-for-Different-Time-Steps","page":"Test Case 10","title":"Marginalized Provision Costs and Prices for Different Time Steps","text":"","category":"section"},{"location":"tests/test_cases/test_case_10/#Time-Step-L","page":"Test Case 10","title":"Time Step L","text":"","category":"section"},{"location":"tests/test_cases/test_case_10/","page":"Test Case 10","title":"Test Case 10","text":"(Image: test_case_10a_graphic)","category":"page"},{"location":"tests/test_cases/test_case_10/#Time-Step-H","page":"Test Case 10","title":"Time Step H","text":"","category":"section"},{"location":"tests/test_cases/test_case_10/","page":"Test Case 10","title":"Test Case 10","text":"(Image: test_case_10b_graphic)","category":"page"},{"location":"manual/installation_instructions/#Installation-Instructions","page":"Installation Instructions","title":"Installation Instructions","text":"","category":"section"},{"location":"manual/installation_instructions/","page":"Installation Instructions","title":"Installation Instructions","text":"To install HydrOGEnMod on your system, run the following Julia code:","category":"page"},{"location":"manual/installation_instructions/","page":"Installation Instructions","title":"Installation Instructions","text":"import Pkg\nPkg.add(url=\"https://github.com/LukasBarner/HydrOGEnMod.jl\")","category":"page"},{"location":"manual/installation_instructions/","page":"Installation Instructions","title":"Installation Instructions","text":"Alternatively, you can also directly use the Pkg-mode from within the REPL. ","category":"page"},{"location":"manual/installation_instructions/","page":"Installation Instructions","title":"Installation Instructions","text":"Please make sure you have recent versions of dependencies on your system.  In case installation fails, this is likely the key issue. ","category":"page"},{"location":"mathematical_formulation/player_problems/storage_system_operator_problem/#Storage-System-Operator","page":"Storage System Operator Problem","title":"Storage System Operator","text":"","category":"section"},{"location":"mathematical_formulation/player_problems/storage_system_operator_problem/","page":"Storage System Operator Problem","title":"Storage System Operator Problem","text":"beginaligned\t\nmax_substackq^S_stcomy  q^S_in_stcomy  q^S_out_stcomy  Delta^S_scy  Delta^RS_srcy  quad \n\t\t\t\n\t\t\tsum_y in mathcalY r_y left\n\t\t\tbeginaligned\n\t\t\t\tsum_c in mathcalC\n\t\t\t\tleft(\n\t\t\t\tbeginaligned sum_m in mathcalM  sum_t in mathcalT sum_o in mathcalO \n\t\t\t\t\td_m\n\t\t\t\t\tleft beginaligned\n\t\t\t\t\t\tleft(pi^S rightarrow T_tn(s)comy - c^S_out_scy  right) q^S_out_stcomy   - left( pi^T rightarrow S_tn(s)comy + c^S_in_scy  right) q^S_in_stcomy\n\t\t\t\t\tendaligned right \n\t\t\t\t\t- frac1  Delta _y c^Delta S_scy Delta^S_scy \n\t\t\t\tendaligned\n\t\t\t\tright) \n\t\t\t\t- frac1  Delta _y sum_(rc) in mathcalRS c^Delta^RS_srcy Delta^RS_srcy\n\t\t\tendaligned right  \ntextst quad \t\n\t\t\t\n\t\t\t \n\t\t\tsum_o in mathcalO  sum_t in mathcalT q^S_stcomy\n\t\t\tleq \n\t\t\tleft( \n\t\t\tbeginaligned\n\t\t\t\tLambda^S_scy  + sum_ y in mathcalY  y-L^S_c leq yy Delta^S_scy \n\t\t\t\t+ sum_r  (rc) in mathcalRS sum_ y in mathcalY  y-L^S_c leq y y f^RS_rc Delta^RS_srcy \n\t\t\t\t- sum_r  (cr) in mathcalRS sum_ y in mathcalY  y y Delta^RS_scry\n\t\t\tendaligned \n\t\t\tright)   quad  \n\t\t\tbeginalignedforall c in mathcalC m in mathcalM  y in mathcalY endaligned\n\t\t\tquad  (lambda^S_scmy) \n\t\t\t beginaligned\n\t\t\t\tleft(1- l^S_cmm^+(m) right) cdot leftbeginaligned\n\t\t\t\t\tq^S_stcomy  + d_m left(q^S_in_stcomy - q^S_out_stcomyright)\n\t\t\t\tendalignedright \n\t\t\t\tgeq  q^S_stcom^+(m)y \n\t\t\tendaligned\n\t\t\tquad  beginaligned forall t in mathcalT c in mathcalC  o in mathcalO m in mathcalM  y in mathcalY endaligned quad (phi^S_stcomy)  \n\t\t\t left(beginaligned\n\t\t\t\tsum_ y in mathcalY  y-L^S_c leq yy Delta^S_scy \n\t\t\t\t+ sum_r  (rc) in mathcalRS sum_ y in mathcalY  y-L^S_c leq y y f^RS_rc Delta^RS_srcy \n\t\t\t\t- sum_r  (cr) in mathcalRS sum_ y in mathcalY  y y Delta^RS_scry\n\t\t\tendaligned right) leq Omega^S_scy quad  beginaligned forall c in mathcalC  y in mathcalY endaligned quad (omega^S_scy)  \n\t\t\t q^S_stcomy q^S_in_stcomy q^S_out_stcomy Delta^S_scy Delta^RS_srcy  geq 0 quad   \nendaligned","category":"page"},{"location":"mathematical_formulation/player_problems/market_clearing/#Market-Clearing","page":"Market Clearing","title":"Market Clearing","text":"","category":"section"},{"location":"mathematical_formulation/player_problems/market_clearing/","page":"Market Clearing","title":"Market Clearing","text":"beginaligned\t\nleftbeginaligned\n\t\t\t\tq^P rightarrow T_p(n)comy - q^T leftarrow P_t(n)ncomy\n\t\t\tendalignedright  geq 0  perp pi^P_ncomy geq 0  \n\t\t\tbeginaligned\n\t\t\t\tforall n in mathcalN c in mathcalC o in mathcalO  m in mathcalM  y in mathcalY\n\t\t\tendaligned \n\t\t\n\t\t\tleftbeginaligned\n\t\t\t\tpi^T rightarrow D_ncbmy - tildeP^T rightarrow D_ncbmybiggl( sum_o in mathcalO sum_t in mathcalTq^T rightarrow D_tncbomybiggr)\n\t\t\tendalignedright\n\t\t\tgeq 0  perp pi^T rightarrow D_ncmy  geq 0  \n\t\t\tbeginaligned\n\t\t\t\tforall n in mathcalN c in mathcalC  b in mathcalDSB  m in mathcalM  y in mathcalY\n\t\t\tendaligned \n\t\t\n\t\t\tleftbeginaligned\n\t\t\t\tsum_c in mathcalC  (cc) in mathcalVTfi^V_cc q^V_v(n)tccomy - q^T rightarrow V_tncomy\n\t\t\tendalignedright\n\t\t\tgeq 0  perp pi^T rightarrow V_tncomy geq 0  \n\t\t\tbeginaligned\n\t\t\t\tforall t in mathcalT n in mathcalN  c in mathcalC o in mathcalO  m in mathcalM y in mathcalY\n\t\t\tendaligned \n\t\t\n\t\t\tleftbeginaligned\n\t\t\t\tsum_c in mathcalC  (cc) in mathcalVTq^V _v(n)tccomy - q^T leftarrow V_tncomy\n\t\t\tendalignedright\n\t\t\tgeq 0  perp pi^V rightarrow T_tncomy  geq 0  \n\t\t\tbeginaligned\n\t\t\t\tforall t in mathcalT n in mathcalN  c in mathcalC o in mathcalO  m in mathcalM y in mathcalY\n\t\t\tendaligned \n\t\t\n\t\t\tleftbeginaligned\n\t\t\t\tq^A_acmy - sum_o in mathcalO sum_t in mathcalTq^T_tacomy\n\t\t\tendalignedright\n\t\t\tgeq 0  perp pi^A_acmy geq 0  \n\t\t\tbeginaligned\n\t\t\t\tforall (ac) in mathcalAC   m in mathcalM y in mathcalY\n\t\t\tendaligned \n\t\t\n\t\t\tleftbeginaligned\n\t\t\t\tq^S_in_s(n)tcomy -  q^T rightarrow S_tncomy\n\t\t\tendalignedright\n\t\t\tgeq 0  perp pi^T rightarrow S_tncomy geq 0  \n\t\t\tbeginaligned\n\t\t\t\tforall t in mathcalT n in mathcalN  c in mathcalC  o in mathcalO  m in mathcalM y in mathcalY\n\t\t\tendaligned \n\t\t\n\t\t\tleft\n\t\t\tq^S_out_s(n)tcomy - q^T leftarrow S_tncomy\n\t\t\tright\n\t\t\tgeq 0  perp pi^S rightarrow T_tncomy geq 0  \n\t\t\tbeginaligned\n\t\t\t\tforall t in mathcalT n in mathcalN  c in mathcalC o in mathcalO  m in mathcalM y in mathcalY\n\t\t\tendaligned\nendaligned","category":"page"},{"location":"tests/test_cases/test_case_7/#Test-Case-7","page":"Test Case 7","title":"Test Case 7","text":"","category":"section"},{"location":"tests/test_cases/test_case_7/","page":"Test Case 7","title":"Test Case 7","text":"Test Case 7 assures that demand for a commodity can be met from different origins. Cost optimal allocation in this case requires that cheapest marginalized provision cost from each origin must be utilized. Marginalized provision cost and the resulting price for the data given in the tables below are visualialized in the graphical solution. Note that the sum of production quantities from each origin must equal total demand quantity.  Tests are passed if P=05 and produced quantities are 1 from each natural gas and renewable electricity. Note that conversion from renewable electricity to CNG happens at 2:1. Marginalized demand provision costs of renewables are hence MC_RES = 2 cdot (01 + 0025 Q) + 025, while MC_FES = 05. ","category":"page"},{"location":"tests/test_cases/test_case_7/#Sets","page":"Test Case 7","title":"Sets","text":"","category":"section"},{"location":"tests/test_cases/test_case_7/","page":"Test Case 7","title":"Test Case 7","text":"Set Name Set Value\nmathcalA DEU_to_DEU\nmathcalAC (DEU_to_DEUCNG)\nmathcalC CNG\nmathcalDSB Block 1\nmathcalI Natural GasRenewable Electricity\nmathcalIOB Block 1\nmathcalM OnlyTimeStep\nmathcalN DEU\nmathcalO FESRES\nmathcalP P_DEU\nmathcalRA ∅\nmathcalRS ∅\nmathcalRV ∅\nmathcalS ∅\nmathcalT T_DEU\nmathcalV ∅\nmathcalVT ∅\nmathcalY 2020","category":"page"},{"location":"tests/test_cases/test_case_7/#Parameters","page":"Test Case 7","title":"Parameters","text":"","category":"section"},{"location":"tests/test_cases/test_case_7/","page":"Test Case 7","title":"Test Case 7","text":"Parameter y=2020\nfrac1  Delta _y 1\n1^NC_T_DEUDEUCNG 0\nr_y 1\nd_OnlyTimeStep 1\nc^P_P_DEUCNGFESy 025\nc^Delta P_P_DEUCNGFESy 10\nfi^P_CNGNatural GasFES 1\nfi^P_CNGRenewable ElectricityFES 0\nL^P_CNGFES 50\nLambda^P_P_DEUCNGFESy 10\nc^P_P_DEUCNGRESy 025\nc^Delta P_P_DEUCNGRESy 10\nfi^P_CNGRenewable ElectricityRES 2\nfi^P_CNGNatural GasRES 0\nL^P_CNGRES 50\nLambda^P_P_DEUCNGRESy 10\nLambda^I_P_DEUNatural GasBlock 1y 10\nLambda^I_P_DEURenewable ElectricityBlock 1y 10\nOmega^I_P_DEUNatural GasBlock 1y 0\nOmega^I_P_DEURenewable ElectricityBlock 1y 0\nc^Delta^I_P_DEUNatural GasBlock 1y 0\nc^Delta^I_P_DEURenewable ElectricityBlock 1y 0\nLambda^T_T_DEUDEUCNGFESy 10\nOmega^P_P_DEUCNGFESy 10\nOmega^P_P_DEUCNGRESy 10\nl^A_DEU_to_DEUCNG 0\nc^A_DEU_to_DEUCNGy 0\nc^Delta A_DEU_to_DEUCNGy 0\nLambda^A_DEU_to_DEUCNGy 0\nL^A_CNG 50\nc^I_l_P_DEUNatural GasBlock 1OnlyTimeStepy 025\nc^I_q_P_DEUNatural GasBlock 1OnlyTimeStepy 0\nav^I_P_DEUNatural GasBlock 1OnlyTimeStep 1\nc^I_l_P_DEURenewable ElectricityBlock 1OnlyTimeStepy 01\nc^I_q_P_DEURenewable ElectricityBlock 1OnlyTimeStepy 0025\nav^I_P_DEURenewable ElectricityBlock 1OnlyTimeStep 1\nalpha^D_DEUCNGBlock 1OnlyTimeStepy 2\nbeta^D_DEUCNGBlock 1OnlyTimeStepy -1","category":"page"},{"location":"tests/test_cases/test_case_7/#Test-Criteria","page":"Test Case 7","title":"Test Criteria","text":"","category":"section"},{"location":"tests/test_cases/test_case_7/","page":"Test Case 7","title":"Test Case 7","text":"Expression Result y=2020\ntildeP^T rightarrow D_DEUCNGBlock 1OnlyTimeStepy 05\nq^I_P_DEUNatural GasBlock 1OnlyTimeStepy 1\nq^I_P_DEURenewable ElectricityBlock 1OnlyTimeStepy 1","category":"page"},{"location":"tests/test_cases/test_case_7/#test_case_7_graphical_solution","page":"Test Case 7","title":"Graphical Solution","text":"","category":"section"},{"location":"tests/test_cases/test_case_7/#Marginalized-Provision-Costs-and-Price","page":"Test Case 7","title":"Marginalized Provision Costs and Price","text":"","category":"section"},{"location":"tests/test_cases/test_case_7/","page":"Test Case 7","title":"Test Case 7","text":"(Image: test_case_7_graphic)","category":"page"},{"location":"api/HydrOGEnMod/","page":"HydrOGEnMod","title":"HydrOGEnMod","text":"CurrentModule = HydrOGEnMod","category":"page"},{"location":"api/HydrOGEnMod/#HydrOGEnMod","page":"HydrOGEnMod","title":"HydrOGEnMod","text":"","category":"section"},{"location":"api/HydrOGEnMod/","page":"HydrOGEnMod","title":"HydrOGEnMod","text":"Modules = [HydrOGEnMod]","category":"page"},{"location":"api/HydrOGEnMod/#HydrOGEnMod.build_complementarity_model","page":"HydrOGEnMod","title":"HydrOGEnMod.build_complementarity_model","text":"build_complementarity_model(data::ModelData, BIG = 1e+6, logfile = \"\")\n\nBuild a JuMP model with complementarity extension from the underlying model data. \n\nA logfile and upper bounds on variables can be specified. \n\nExamples\n\njulia> using HydrOGEnMod\njulia> data = get_HydrOGEnMod_data(\"path/to/my/data\");\njulia> model = build_complementarity_model(data);\n\n\n\n\n\n","category":"function"},{"location":"api/HydrOGEnMod/#HydrOGEnMod.build_optimization_model","page":"HydrOGEnMod","title":"HydrOGEnMod.build_optimization_model","text":"build_optimization_model(data::ModelData, BIG = 1e+6, logfile = \"\")\n\nBuild a JuMP optimization model (QP) from the underlying model data. \n\nA logfile and upper bounds on variables can be specified. \n\nExamples\n\njulia> using HydrOGEnMod\njulia> data = get_HydrOGEnMod_data(\"path/to/my/data\");\njulia> model = build_optimization_model(data);\n\n\n\n\n\n","category":"function"},{"location":"api/HydrOGEnMod/#HydrOGEnMod.get_HydrOGEnMod_data-Tuple{Any}","page":"HydrOGEnMod","title":"HydrOGEnMod.get_HydrOGEnMod_data","text":"get_HydrOGEnMod_data(data; logfile = \"\")\n\nGet model data from the specified data path. \n\nA file where to write the log records can be specified via keyword arguments. \n\nExamples\n\njulia> using HydrOGEnMod\njulia> data = get_HydrOGEnMod_data(\"path/to/my/data\");\n\n\n\n\n\n","category":"method"},{"location":"api/HydrOGEnMod/#HydrOGEnMod.plot_model_nodes-Tuple{Vector{HydrOGEnMod.HydrOGEnMod_Types.TransportArc}}","page":"HydrOGEnMod","title":"HydrOGEnMod.plot_model_nodes","text":"plot_model_nodes(arcs::Vector{TransportArc}; nodes_path = joinpath(@__DIR__, \"maps\", \"WB_countries_Admin0_modified.geojson\"), disputed_path = joinpath(@__DIR__, \"maps\", \"WB_Admin0_disputed_areas_modified.geojson\"), centroids_path = joinpath(@__DIR__, \"maps\", \"centroids.csv\"), colorscheme = :seaborn_colorblind6, unassigned_color = :gray85, strokecolor = :black, strokewidth = 0.1, linewidth = 0.2, linecolor = :black, rasterize = false, save_path = \"\")\n\nPlot the passed arcs into the model node map. \n\nSeparate method implemented for also passing arc values.\n\nKeyword Arguments\n\nnodes_path = joinpath(@__DIR__, \"maps\", \"WB_countries_Admin0_modified.geojson\"): Path where to find model nodes geojson file.\ndisputed_path = joinpath(@__DIR__, \"maps\", \"WB_Admin0_disputed_areas_modified.geojson\"): Path where to find disputed areas geojson file.\ncentroids_path = joinpath(@__DIR__, \"maps\", \"centroids.csv\"): Path where to find model region centroids file.\ncolorscheme = :seaborn_colorblind6: Colorscheme for the model regions.\nunassigned_color = :gray85: Colorscheme for unassigned and disputed regions.\nstrokecolor = :black: Strokecolor around regions.\nstrokewidth = 0.1: Strokewidth around regions.\nlinewidth = 0.2: Arc linewidth connecting nodes.\nlinecolor = :black: Color of arcs connecting nodes.\nrasterize = false: Rasterization.\nsave_path = \"\": Where to save the resulting graphic. Ending of filename automatically implies file format. \n\n\n\n\n\n","category":"method"},{"location":"api/HydrOGEnMod/#HydrOGEnMod.plot_model_nodes-Tuple{}","page":"HydrOGEnMod","title":"HydrOGEnMod.plot_model_nodes","text":"plot_model_nodes(; nodes_path = joinpath(@__DIR__, \"maps\", \"WB_countries_Admin0_modified.geojson\"), disputed_path = joinpath(@__DIR__, \"maps\", \"WB_Admin0_disputed_areas_modified.geojson\"), colorscheme = :seaborn_colorblind6, unassigned_color = :gray85, strokecolor = :black, strokewidth = 0.1, rasterize = false, legend_title = \"Node Names\", save_path = \"\",)\n\nPlot an overview of the model nodes. \n\nOnly active, if no positional argument is passed. \n\nKeyword Arguments\n\nnodes_path = joinpath(@__DIR__, \"maps\", \"WB_countries_Admin0_modified.geojson\"): Path where to find model nodes geojson file.\ndisputed_path = joinpath(@__DIR__, \"maps\", \"WB_Admin0_disputed_areas_modified.geojson\"): Path where to find disputed areas geojson file.\ncolorscheme = :seaborn_colorblind6: Colorscheme for the model regions.\nunassigned_color = :gray85: Colorscheme for unassigned and disputed regions.\nstrokecolor = :black: Strokecolor around regions.\nstrokewidth = 0.1: Strokewidth around regions.\nrasterize = false: Rasterization.\nlegend_title = \"Node Names\": Title of the legend.\nsave_path = \"\": Where to save the resulting graphic. Ending of filename automatically implies file format. \n\n\n\n\n\n","category":"method"},{"location":"api/HydrOGEnMod/#HydrOGEnMod.plot_model_nodes-Union{Tuple{JuMP.Containers.DenseAxisArray{T, N, Ax, L}}, Tuple{L}, Tuple{Ax}, Tuple{N}, Tuple{T}} where {T, N, Ax, L<:NTuple{N, JuMP.Containers._AxisLookup}}","page":"HydrOGEnMod","title":"HydrOGEnMod.plot_model_nodes","text":"plot_model_nodes(container::JuMP.Containers.DenseAxisArray{T,N,Ax,L}; nodes_path = joinpath(@__DIR__, \"maps\", \"WB_countries_Admin0_modified.geojson\"), disputed_path = joinpath(@__DIR__, \"maps\", \"WB_Admin0_disputed_areas_modified.geojson\"), colorscheme = :plasma, unassigned_color = :gray85, strokecolor = :black, strokewidth = 0.1, rasterize = false, save_path = \"\") where {T,N,Ax,L<:NTuple{N,JuMP.Containers._AxisLookup}}\n\nPlot the values inside container into the model node map. \n\nSeparate methods implemented for DenseAxisArray and SparseAxisArray.\n\nKeyword Arguments\n\nnodes_path = joinpath(@__DIR__, \"maps\", \"WB_countries_Admin0_modified.geojson\"): Path where to find model nodes geojson file.\ndisputed_path = joinpath(@__DIR__, \"maps\", \"WB_Admin0_disputed_areas_modified.geojson\"): Path where to find disputed areas geojson file.\ncolorscheme = :plasma: Colorscheme for the model regions.\nunassigned_color = :gray85: Colorscheme for unassigned and disputed regions.\nstrokecolor = :black: Strokecolor around regions.\nstrokewidth = 0.1: Strokewidth around regions.\nrasterize = false: Rasterization.\nsave_path = \"\": Where to save the resulting graphic. Ending of filename automatically implies file format. \n\n\n\n\n\n","category":"method"},{"location":"api/HydrOGEnMod/#HydrOGEnMod.plot_model_nodes-Union{Tuple{JuMP.Containers.SparseAxisArray{T, N, K}}, Tuple{K}, Tuple{N}, Tuple{T}} where {T, N, K<:NTuple{N, Any}}","page":"HydrOGEnMod","title":"HydrOGEnMod.plot_model_nodes","text":"plot_model_nodes(container::JuMP.Containers.SparseAxisArray{T,N,K}; nodes_path = joinpath(@__DIR__, \"maps\", \"WB_countries_Admin0_modified.geojson\"), disputed_path = joinpath(@__DIR__, \"maps\", \"WB_Admin0_disputed_areas_modified.geojson\"), colorscheme = :plasma, unassigned_color = :gray85, strokecolor = :black, strokewidth = 0.1, rasterize = false, save_path = \"\")\n\nPlot the values inside container into the model node map. \n\nSeparate methods implemented for DenseAxisArray and SparseAxisArray.\n\nKeyword Arguments\n\nnodes_path = joinpath(@__DIR__, \"maps\", \"WB_countries_Admin0_modified.geojson\"): Path where to find model nodes geojson file.\ndisputed_path = joinpath(@__DIR__, \"maps\", \"WB_Admin0_disputed_areas_modified.geojson\"): Path where to find disputed areas geojson file.\ncolorscheme = :plasma: Colorscheme for the model regions.\nunassigned_color = :gray85: Colorscheme for unassigned and disputed regions.\nstrokecolor = :black: Strokecolor around regions.\nstrokewidth = 0.1: Strokewidth around regions.\nrasterize = false: Rasterization.\nsave_path = \"\": Where to save the resulting graphic. Ending of filename automatically implies file format. \n\n\n\n\n\n","category":"method"},{"location":"api/HydrOGEnMod/#HydrOGEnMod.plot_model_nodes-Union{Tuple{L}, Tuple{Ax}, Tuple{N}, Tuple{T}, Tuple{JuMP.Containers.DenseAxisArray{T, N, Ax, L}, Vector{HydrOGEnMod.HydrOGEnMod_Types.TransportArc}}} where {T, N, Ax, L<:NTuple{N, JuMP.Containers._AxisLookup}}","page":"HydrOGEnMod","title":"HydrOGEnMod.plot_model_nodes","text":"plot_model_nodes(container::JuMP.Containers.DenseAxisArray{T,N,Ax,L}, arcs::Vector{TransportArc}; nodes_path = joinpath(@__DIR__, \"maps\", \"WB_countries_Admin0_modified.geojson\"), disputed_path = joinpath(@__DIR__, \"maps\", \"WB_Admin0_disputed_areas_modified.geojson\"), centroids_path = joinpath(@__DIR__, \"maps\", \"centroids.csv\"), colorscheme = :seaborn_colorblind6, unassigned_color = :gray85, strokecolor = :black, strokewidth = 0.1, linewidth = 1, linecolorscheme = :plasma, rasterize = false, largestvalues = 10, save_path = \"\") where {T,N,Ax,L<:NTuple{N,JuMP.Containers._AxisLookup}}\n\nPlot the passed arcs with coloring corresponding to given values in the container into the model node map. \n\nSeparate method implemented for just plotting normal values.\n\nKeyword Arguments\n\nnodes_path = joinpath(@__DIR__, \"maps\", \"WB_countries_Admin0_modified.geojson\"): Path where to find model nodes geojson file.\ndisputed_path = joinpath(@__DIR__, \"maps\", \"WB_Admin0_disputed_areas_modified.geojson\"): Path where to find disputed areas geojson file.\ncentroids_path = joinpath(@__DIR__, \"maps\", \"centroids.csv\"): Path where to find model region centroids file.\ncolorscheme = :seaborn_colorblind6: Colorscheme for the model regions.\nunassigned_color = :gray85: Colorscheme for unassigned and disputed regions.\nstrokecolor = :black: Strokecolor around regions.\nstrokewidth = 0.1: Strokewidth around regions.\nlinewidth = 1: Arc linewidth connecting nodes.\nlinecolorscheme = :plasma: Colorscheme for coloring arcs connecting regions based on container values.\nrasterize = false: Rasterization.\nlargestvalues = 10: The n largest arc values and equal to select.\nminval = 1: The smallest value to include in the arc plot.\nsave_path = \"\": Where to save the resulting graphic. Ending of filename automatically implies file format.\n\n\n\n\n\n","category":"method"},{"location":"api/HydrOGEnMod/#HydrOGEnMod.solve_mcp-Tuple{JuMP.Model}","page":"HydrOGEnMod","title":"HydrOGEnMod.solve_mcp","text":"solve_mcp(model::Model; logfile = \"\", kwargs...)\n\nSolve a JuMP model with complementarity extension using the PATH solver. \n\nA logfile can be specified, and solver specific options can be passed.\n\nExamples\n\njulia> using HydrOGEnMod\njulia> data = get_HydrOGEnMod_data(\"path/to/my/data\");\njulia> model = build_complementarity_model(data);\njulia> solve_mcp(model; output = \"no\", time_limit = 5);\n\n\n\n\n\n","category":"method"},{"location":"api/HydrOGEnMod/#HydrOGEnMod.write_csv-Tuple{Any, HydrOGEnMod.HydrOGEnMod_Types.ModelData}","page":"HydrOGEnMod","title":"HydrOGEnMod.write_csv","text":"write_csv(datadir, data::ModelData; logfile = \"\")\n\nWrite model data to a specific directory. \n\nA logfile can be specified.\n\nExamples\n\njulia> using HydrOGEnMod\njulia> data = get_HydrOGEnMod_data(\"path/to/my/data\");\njulia> write_csv(\"path/to/my/dir\",data);\n\n\n\n\n\n","category":"method"},{"location":"api/HydrOGEnMod/#HydrOGEnMod.write_csv-Tuple{Any, JuMP.Model}","page":"HydrOGEnMod","title":"HydrOGEnMod.write_csv","text":"write_csv(resultsfile, model::Model; logfile = \"\")\n\nWrite model results to a specific directory. \n\nA logfile can be specified.\n\nExamples\n\njulia> data = get_HydrOGEnMod_data(\"path/to/my/data\");\njulia> model = build_optimization_model(data);\njulia> optimize!(model, Ipopt.Optimizer);\njulia> write_csv(\"path/to/my/dir\", model);\n\n\n\n\n\n","category":"method"},{"location":"api/HydrOGEnMod/#JuMP.optimize!-Tuple{JuMP.Model, Any, Vararg{Any}}","page":"HydrOGEnMod","title":"JuMP.optimize!","text":"optimize!(model::Model, optimizer; options..., logfile = \"\")\n\nSolve a JuMP Model with the given optimizer. \n\nA logfile can be specified, and solver specific options can be passed. \n\nExamples\n\njulia> using HydrOGEnMod\njulia> using Ipopt\njulia> data = get_HydrOGEnMod_data(\"path/to/my/data\");\njulia> model = build_optimization_model(data);\njulia> optimize!(model, Ipopt.Optimizer, \"max_wall_time\" => 1e-5)\n\n\n\n\n\n","category":"method"},{"location":"tests/test_cases/test_case_15/#Test-Case-15","page":"Test Case 15","title":"Test Case 15","text":"","category":"section"},{"location":"tests/test_cases/test_case_15/","page":"Test Case 15","title":"Test Case 15","text":"Test Case 15 is similar to Test Case 11, except that production capacity expansion is disallowed. The tables below depict the sets and parameters, respectively. Since no production is possible now, prices must be equal to inverse demand intercepts. The test is passed, if prices in 2020, 2025 and 2030 are 0, 2 and 0.99, respectively and no capacities are invested in. Passing criteria can be seen in below, while the figure depicts a graphical solution.","category":"page"},{"location":"tests/test_cases/test_case_15/#Sets","page":"Test Case 15","title":"Sets","text":"","category":"section"},{"location":"tests/test_cases/test_case_15/","page":"Test Case 15","title":"Test Case 15","text":"Set Name Set Value\nmathcalA DEU_to_DEU\nmathcalAC (DEU_to_DEU CNG) (DEU_to_DEU GH2)\nmathcalC CNGGH2\nmathcalDSB Block 1\nmathcalI Natural Gas\nmathcalIOB Block 1\nmathcalM OnlyTimeStep\nmathcalN DEU\nmathcalO FES\nmathcalP P_DEU\nmathcalRA ∅\nmathcalRS ∅\nmathcalRV ∅\nmathcalS ∅\nmathcalT T_DEU\nmathcalV V_DEU\nmathcalVT (CNGGH2)\nmathcalY 202020252030","category":"page"},{"location":"tests/test_cases/test_case_15/#Parameters","page":"Test Case 15","title":"Parameters","text":"","category":"section"},{"location":"tests/test_cases/test_case_15/","page":"Test Case 15","title":"Test Case 15","text":"Parameter y=2020 y=2025 y=2030\nfrac1  Delta _y 02 02 02\n1^NC_T_DEUDEUCNG 0 0 0\nr_y 1 1 1\nd_OnlyTimeStep 1 1 1\nc^P_P_DEUCNGFESy 03 03 03\nc^Delta P_P_DEUCNGFESy 05 05 05\nfi^P_CNGNatural GasFES 1 1 1\nL^P_CNGFES 50 50 50\nLambda^P_P_DEUCNGFESy 0 0 0\nc^P_P_DEUGH2FESy 13 13 13\nc^Delta P_P_DEUGH2FESy 05 05 05\nfi^P_GH2Natural GasFES 1 1 1\nL^P_GH2FES 50 50 50\nLambda^P_P_DEUGH2FESy 0 0 0\nLambda^I_P_DEUNatural GasBlock 1y 10 10 10\nOmega^I_P_DEUNatural GasBlock 1y 0 0 0\nc^Delta^I_P_DEUNatural GasBlock 1y 0 0 0\nLambda^T_T_DEUDEUCNGFESy 10 10 10\nLambda^T_T_DEUDEUGH2FESy 10 10 10\nOmega^P_P_DEUCNGFESy 0 0 0\nOmega^P_P_DEUGH2FESy 0 0 0\nfi^V_CNGGH2 1 1 1\nl^A_DEU_to_DEUCNG 0 0 0\nl^A_DEU_to_DEUGH2 0 0 0\nc^V_V_DEUCNGGH2y 03 03 03\nc^Delta V_V_DEUCNGGH2y 10 10 10\nLambda^V_V_DEUCNGGH2y 10 10 10\nL^V_CNGGH2 5 5 5\nc^A_DEU_to_DEUCNGy 0 0 0\nc^Delta A_DEU_to_DEUCNGy 0 0 0\nLambda^A_DEU_to_DEUCNGy 0 0 0\nL^A_CNG 50 50 50\nc^A_DEU_to_DEUGH2y 0 0 0\nc^Delta A_DEU_to_DEUGH2y 0 0 0\nLambda^A_DEU_to_DEUGH2y 0 0 0\nL^A_GH2 50 50 50\nc^I_l_P_DEUNatural GasBlock 1OnlyTimeStepy 03 03 03\nc^I_q_P_DEUNatural GasBlock 1OnlyTimeStepy 0 0 0\nav^I_P_DEUNatural GasBlock 1OnlyTimeStep 1 1 1\nalpha^D_DEUCNGBlock 1OnlyTimeStepy 0 0 0\nbeta^D_DEUCNGBlock 1OnlyTimeStepy -1 -1 -1\nalpha^D_DEUGH2Block 1OnlyTimeStepy 0 2 099\nbeta^D_DEUGH2Block 1OnlyTimeStepy -1 -1 -1","category":"page"},{"location":"tests/test_cases/test_case_15/#Test-Criteria","page":"Test Case 15","title":"Test Criteria","text":"","category":"section"},{"location":"tests/test_cases/test_case_15/","page":"Test Case 15","title":"Test Case 15","text":"Expression Result y=2020 Result y=2025 Result y=2030\ntildeP^T rightarrow D_DEUCNGBlock 1OnlyTimeStepy 0 0 0\ntildeP^T rightarrow D_DEUGH2Block 1OnlyTimeStepy 0 2 099\nDelta^P_P_DEUCNGFESy 0 0 0\nDelta^P_P_DEUCNGFESy 0 0 0","category":"page"},{"location":"tests/test_cases/test_case_15/#test_case_15_graphical_solution","page":"Test Case 15","title":"Graphical Solution","text":"","category":"section"},{"location":"tests/test_cases/test_case_15/#Marginalized-Provision-Costs-and-Prices-for-Different-Time-Steps","page":"Test Case 15","title":"Marginalized Provision Costs and Prices for Different Time Steps","text":"","category":"section"},{"location":"tests/test_cases/test_case_15/#CNG-2020","page":"Test Case 15","title":"CNG 2020","text":"","category":"section"},{"location":"tests/test_cases/test_case_15/","page":"Test Case 15","title":"Test Case 15","text":"(Image: test_case_15a_graphic)","category":"page"},{"location":"tests/test_cases/test_case_15/#GH2-2020","page":"Test Case 15","title":"GH2 2020","text":"","category":"section"},{"location":"tests/test_cases/test_case_15/","page":"Test Case 15","title":"Test Case 15","text":"(Image: test_case_15b_graphic)","category":"page"},{"location":"tests/test_cases/test_case_15/#CNG-2025","page":"Test Case 15","title":"CNG 2025","text":"","category":"section"},{"location":"tests/test_cases/test_case_15/","page":"Test Case 15","title":"Test Case 15","text":"(Image: test_case_15c_graphic)","category":"page"},{"location":"tests/test_cases/test_case_15/#GH2-2025","page":"Test Case 15","title":"GH2 2025","text":"","category":"section"},{"location":"tests/test_cases/test_case_15/","page":"Test Case 15","title":"Test Case 15","text":"(Image: test_case_15d_graphic)","category":"page"},{"location":"tests/test_cases/test_case_15/#CNG-2030","page":"Test Case 15","title":"CNG 2030","text":"","category":"section"},{"location":"tests/test_cases/test_case_15/","page":"Test Case 15","title":"Test Case 15","text":"(Image: test_case_15e_graphic)","category":"page"},{"location":"tests/test_cases/test_case_15/#GH2-2030","page":"Test Case 15","title":"GH2 2030","text":"","category":"section"},{"location":"tests/test_cases/test_case_15/","page":"Test Case 15","title":"Test Case 15","text":"(Image: test_case_15f_graphic)","category":"page"},{"location":"tests/functional_tests/functional_test_4/#Functional-Test-4","page":"Functional Test 4","title":"Functional Test 4","text":"","category":"section"},{"location":"tests/functional_tests/functional_test_4/","page":"Functional Test 4","title":"Functional Test 4","text":"Functional Test 4 makes sure that model outputs can be written accordingly for the complementarity model. The table below depicts tested files for all variables. Expressions are not checked for due to their non-existence.","category":"page"},{"location":"tests/functional_tests/functional_test_4/#Checked-Variables","page":"Functional Test 4","title":"Checked Variables","text":"","category":"section"},{"location":"tests/functional_tests/functional_test_4/","page":"Functional Test 4","title":"Functional Test 4","text":"Variable File Type\nq^I_pibmy .csv\nq^P rightarrow T_pcomy .csv\nDelta^I_piby .csv\nDelta^P_pcoy .csv\nphi^P_pimy .csv\nlambda^I_piby .csv\nlambda^P_pcomy .csv\nomega^P_pcoy .csv\nomega^I_piby .csv\nq^T rightarrow D_tncbomy .csv\nq^T leftarrow P_tncomy .csv\nq^T rightarrow V_tncomy .csv\nq^T leftarrow V_tncomy .csv\nq^T rightarrow S_tncomy .csv\nq^T leftarrow S_tncomy .csv\nq^T_tacomy .csv\nphi^T_tncomy .csv\nlambda^T_tncoy .csv\nq^V_vtccomy .csv\nDelta^V_vccy .csv\nDelta^RV_vrrccy .csv\nlambda^V_vccmy .csv\nq^A_acmy .csv\nDelta^A_acy .csv\nDelta^RA_arcy .csv\nlambda^A_acmy .csv\nq^S_stcomy .csv\nq^S_in_stcomy .csv\nq^S_out_stcomy .csv\nDelta^S_scy .csv\nDelta^RS_srcy .csv\nlambda^S_scmy .csv\nphi^S_stcomy .csv\nomega^S_scy .csv\npi^P_ncomy .csv\npi^T rightarrow D_ncbmy .csv\npi^T rightarrow V_tncomy .csv\npi^V rightarrow T_tncomy .csv\npi^A_acmy .csv\npi^T rightarrow S_tncom_ly .csv\npi^S rightarrow T_tncom_hy .csv","category":"page"},{"location":"tests/test_cases/test_case_5/#Test-Case-5","page":"Test Case 5","title":"Test Case 5","text":"","category":"section"},{"location":"tests/test_cases/test_case_5/","page":"Test Case 5","title":"Test Case 5","text":"Test Case 5 asserts that storages work as intended. For this, multiple time steps are introduced. During the low demand time step L, there is no demand for natural gas, but production is sufficiently cheaper than in the high demand time step H. In a loss-free system of perfect competition with factor intensities of 1:1, prices in the high-demand time step should be the sum of marginalized input, production, and storage costs of the marginal supplying time step. The tables below show the test data. Producing natural gas and selling CNG in time step L and storing it to time step H, implies marginalized provision cost of MC=1, much cheaper than producing in H, which would lead to marginalized provision cost of MC=14. Since no demand occurs in time step L, this option remains feasible; The graphic below depicts a graphical solution. Hence, the test is passed if P_H=1P_L=0 and production is 00 and 05 during high and low demand time steps, respectively. Note that the low demand time step has twice the weight (i.e. twice as many hours or days), hence only half the demanded quantity must be injected into storage every day.","category":"page"},{"location":"tests/test_cases/test_case_5/#Sets","page":"Test Case 5","title":"Sets","text":"","category":"section"},{"location":"tests/test_cases/test_case_5/","page":"Test Case 5","title":"Test Case 5","text":"Set Name Set Value\nmathcalA DEU_to_DEU\nmathcalAC (DEU_to_DEUCNG)\nmathcalC CNG\nmathcalDSB Block 1\nmathcalI Natural Gas\nmathcalIOB Block 1\nmathcalM LH\nmathcalN DEU\nmathcalO FES\nmathcalP P_DEU\nmathcalRA ∅\nmathcalRS ∅\nmathcalRV ∅\nmathcalS S_DEU\nmathcalT T_DEU\nmathcalV ∅\nmathcalVT ∅\nmathcalY 2020","category":"page"},{"location":"tests/test_cases/test_case_5/#Parameters","page":"Test Case 5","title":"Parameters","text":"","category":"section"},{"location":"tests/test_cases/test_case_5/","page":"Test Case 5","title":"Test Case 5","text":"Parameter m=L m=H\nfrac1  Delta _y 1 1\n1^NC_T_DEUDEUCNG 0 0\nr_2020 1 1\nd_m 4 2\nc^P_P_DEUCNGFES2020 04 04\nc^Delta P_P_DEUCNGFES2020 1 1\nfi^P_CNGNatural GasFES 1 1\nL^P_CNGFES 50 50\nLambda^P_P_DEUCNGFES2020 10 10\nLambda^I_P_DEUNatural GasBlock 12020 10 10\nOmega^I_P_DEUNatural GasBlock 12020 0 0\nc^Delta^I_P_DEUNatural GasBlock 12020 0 0\nLambda^T_T_DEUDEUCNGFES2020 10 10\nOmega^P_P_DEUCNGFES2020 10 10\nl^A_DEU_to_DEUCNG 0 0\nc^A_DEU_to_DEUCNG2020 0 0\nc^Delta A_DEU_to_DEUCNG2020 0 0\nLambda^A_DEU_to_DEUCNG2020 0 0\nL^A_CNG 50 50\nl^S_CNGmL 0 0\nl^S_CNGmH 0 0\nc^S_in_S_DEUCNG2020 005 005\nc^S_out_S_DEUCNG2020 005 005\nc^Delta S_S_DEUCNG2020 10 10\nLambda^S_S_DEUCNG2020 10 10\nOmega^S_S_DEUCNG2020 10 10\nL^S_CNG 10 10\nc^I_l_P_DEUNatural GasBlock 1m2020 05 10\nc^I_q_P_DEUNatural GasBlock 1m2020 0 0\nav^I_P_DEUNatural GasBlock 1m 1 1\nalpha^D_DEUCNGBlock 1m2020 0 2\nbeta^D_DEUCNGBlock 1m2020 0 -1","category":"page"},{"location":"tests/test_cases/test_case_5/#Test-Criteria","page":"Test Case 5","title":"Test Criteria","text":"","category":"section"},{"location":"tests/test_cases/test_case_5/","page":"Test Case 5","title":"Test Case 5","text":"Expression Result m=L Result m=H\ntildeP^T rightarrow D_DEUCNGBlock 1m2020 00 10\nq^I_P_DEUNatural GasBlock 1m2020 05 00","category":"page"},{"location":"tests/test_cases/test_case_5/#Graphical-Solution","page":"Test Case 5","title":"Graphical Solution","text":"","category":"section"},{"location":"tests/test_cases/test_case_5/#Marginalized-Provision-Costs-and-Prices-for-Different-Time-Steps","page":"Test Case 5","title":"Marginalized Provision Costs and Prices for Different Time Steps","text":"","category":"section"},{"location":"tests/test_cases/test_case_5/#Time-Step-L","page":"Test Case 5","title":"Time Step L","text":"","category":"section"},{"location":"tests/test_cases/test_case_5/","page":"Test Case 5","title":"Test Case 5","text":"(Image: test_case_5a_graphic)","category":"page"},{"location":"tests/test_cases/test_case_5/#Time-Step-H","page":"Test Case 5","title":"Time Step H","text":"","category":"section"},{"location":"tests/test_cases/test_case_5/","page":"Test Case 5","title":"Test Case 5","text":"(Image: test_case_5b_graphic)","category":"page"},{"location":"tests/test_cases/test_case_16/#Test-Case-16","page":"Test Case 16","title":"Test Case 16","text":"","category":"section"},{"location":"tests/test_cases/test_case_16/","page":"Test Case 16","title":"Test Case 16","text":"Test Case 16 is similar to Test Case 14, except that storage capacity expansion is disallowed. The tables below depict the sets and parameters, respectively. Since no storage is possible now, prices must be equal to inverse demand intercepts. Tests are passed, if high demand prices in 2020, 2025 and 2030 are 0, 2 and 0.98, respectively and zero during low demand time steps. Further, no capacity expansions are allowed to happen for the test to pass. Passing criteria can be seen below, while the figure depicts a graphical solution. ","category":"page"},{"location":"tests/test_cases/test_case_16/#Sets","page":"Test Case 16","title":"Sets","text":"","category":"section"},{"location":"tests/test_cases/test_case_16/","page":"Test Case 16","title":"Test Case 16","text":"Set Name Set Value\nmathcalA DEU_to_DEU\nmathcalAC (DEU_to_DEU CNG)\nmathcalC CNG\nmathcalDSB Block 1\nmathcalI Natural Gas\nmathcalIOB Block 1\nmathcalM LH\nmathcalN DEU\nmathcalO FES\nmathcalP P_DEU\nmathcalRA ∅\nmathcalRS ∅\nmathcalRV ∅\nmathcalS S_DEU\nmathcalT T_DEU\nmathcalV ∅\nmathcalVT ∅\nmathcalY 202020252030","category":"page"},{"location":"tests/test_cases/test_case_16/#Parameters","page":"Test Case 16","title":"Parameters","text":"","category":"section"},{"location":"tests/test_cases/test_case_16/","page":"Test Case 16","title":"Test Case 16","text":"Parameter m=L m=H\nfrac1  Delta _y 1 1\n1^NC_T_DEUDEUCNG 0 0\nr_2020 1 1\nr_2025 1 1\nr_2030 1 1\nd_m 2 1\nc^P_P_DEUCNGFES2020 04 04\nc^P_P_DEUCNGFES2025 04 04\nc^P_P_DEUCNGFES2030 04 04\nc^Delta P_P_DEUCNGFES2020 1 1\nc^Delta P_P_DEUCNGFES2025 1 1\nc^Delta P_P_DEUCNGFES2030 1 1\nfi^P_CNGNatural GasFES 1 1\nL^P_CNGFES 50 50\nLambda^P_P_DEUCNGFES2020 10 10\nLambda^P_P_DEUCNGFES2025 10 10\nLambda^P_P_DEUCNGFES2030 10 10\nLambda^I_P_DEUNatural GasBlock 12020 10 10\nLambda^I_P_DEUNatural GasBlock 12025 10 10\nLambda^I_P_DEUNatural GasBlock 12030 10 10\nOmega^I_P_DEUNatural GasBlock 12020 0 0\nOmega^I_P_DEUNatural GasBlock 12025 0 0\nOmega^I_P_DEUNatural GasBlock 12030 0 0\nc^Delta^I_P_DEUNatural GasBlock 12020 0 0\nc^Delta^I_P_DEUNatural GasBlock 12025 0 0\nc^Delta^I_P_DEUNatural GasBlock 12030 0 0\nLambda^T_T_DEUDEUCNGFES2020 10 10\nLambda^T_T_DEUDEUCNGFES2025 10 10\nLambda^T_T_DEUDEUCNGFES2030 10 10\nOmega^P_P_DEUCNGFES2020 10 10\nOmega^P_P_DEUCNGFES2025 10 10\nOmega^P_P_DEUCNGFES2030 10 10\nl^A_DEU_to_DEUCNG 0 0\nc^A_DEU_to_DEUCNG2020 0 0\nc^A_DEU_to_DEUCNG2025 0 0\nc^A_DEU_to_DEUCNG2030 0 0\nc^Delta A_DEU_to_DEUCNG2020 0 0\nc^Delta A_DEU_to_DEUCNG2025 0 0\nc^Delta A_DEU_to_DEUCNG2030 0 0\nLambda^A_DEU_to_DEUCNG2020 0 0\nLambda^A_DEU_to_DEUCNG2025 0 0\nLambda^A_DEU_to_DEUCNG2030 0 0\nL^A_CNG 50 50\nl^S_CNGmL 0 0\nl^S_CNGmH 0 0\nc^S_S_DEUCNGmH2020 005 005\nc^S_S_DEUCNGmH2025 005 005\nc^S_S_DEUCNGmH2030 005 005\nc^S_S_DEUCNGmL2020 005 005\nc^S_S_DEUCNGmL2025 005 005\nc^S_S_DEUCNGmL2030 005 005\nc^Delta S_S_DEUCNG2020 025 025\nc^Delta S_S_DEUCNG2025 025 025\nc^Delta S_S_DEUCNG2030 025 025\nLambda^S_S_DEUCNG2020 0 0\nLambda^S_S_DEUCNG2025 0 0\nLambda^S_S_DEUCNG2030 0 0\nOmega^S_S_DEUCNG2020 0 0\nOmega^S_S_DEUCNG2025 0 0\nOmega^S_S_DEUCNG2030 0 0\nL^S_CNG 5 5\nc^I_l_P_DEUNatural GasBlock 1m2020 05 16\nc^I_l_P_DEUNatural GasBlock 1m2025 05 16\nc^I_l_P_DEUNatural GasBlock 1m2030 05 16\nc^I_q_P_DEUNatural GasBlock 1m2020 0 0\nc^I_q_P_DEUNatural GasBlock 1m2025 0 0\nc^I_q_P_DEUNatural GasBlock 1m2030 0 0\nav^I_P_DEUNatural GasBlock 1m 1 1\nalpha^D_DEUCNGBlock 1m2020 0 2\nalpha^D_DEUCNGBlock 1m2025 0 2\nalpha^D_DEUCNGBlock 1m2030 0 2\nbeta^D_DEUCNGBlock 1m2020 0 -1\nbeta^D_DEUCNGBlock 1m2025 0 -1\nbeta^D_DEUCNGBlock 1m2030 0 -1","category":"page"},{"location":"tests/test_cases/test_case_16/#Test-Criteria","page":"Test Case 16","title":"Test Criteria","text":"","category":"section"},{"location":"tests/test_cases/test_case_16/","page":"Test Case 16","title":"Test Case 16","text":"Expression Result m=L Result m=H\ntildeP^T rightarrow D_DEUCNGBlock 1m2020 00 00\ntildeP^T rightarrow D_DEUCNGBlock 1m2025 00 20\ntildeP^T rightarrow D_DEUCNGBlock 1m2030 00 099\nDelta^S_S_DEUCNG2020 0 0\nDelta^S_S_DEUCNG2025 0 0\nDelta^S_S_DEUCNG2030 0 0","category":"page"},{"location":"tests/test_cases/test_case_16/#test_case_16_graphical_solution","page":"Test Case 16","title":"Graphical Solution","text":"","category":"section"},{"location":"tests/test_cases/test_case_16/#Marginalized-Provision-Costs-and-Prices","page":"Test Case 16","title":"Marginalized Provision Costs and Prices","text":"","category":"section"},{"location":"tests/test_cases/test_case_16/#Time-Step-L-2020","page":"Test Case 16","title":"Time Step L 2020","text":"","category":"section"},{"location":"tests/test_cases/test_case_16/","page":"Test Case 16","title":"Test Case 16","text":"(Image: test_case_16a_graphic)","category":"page"},{"location":"tests/test_cases/test_case_16/#Time-Step-H-2020","page":"Test Case 16","title":"Time Step H 2020","text":"","category":"section"},{"location":"tests/test_cases/test_case_16/","page":"Test Case 16","title":"Test Case 16","text":"(Image: test_case_16b_graphic)","category":"page"},{"location":"tests/test_cases/test_case_16/#Time-Step-L-2025","page":"Test Case 16","title":"Time Step L 2025","text":"","category":"section"},{"location":"tests/test_cases/test_case_16/","page":"Test Case 16","title":"Test Case 16","text":"(Image: test_case_16c_graphic)","category":"page"},{"location":"tests/test_cases/test_case_16/#Time-Step-H-2025","page":"Test Case 16","title":"Time Step H 2025","text":"","category":"section"},{"location":"tests/test_cases/test_case_16/","page":"Test Case 16","title":"Test Case 16","text":"(Image: test_case_16d_graphic)","category":"page"},{"location":"tests/test_cases/test_case_16/#Time-Step-L-2030","page":"Test Case 16","title":"Time Step L 2030","text":"","category":"section"},{"location":"tests/test_cases/test_case_16/","page":"Test Case 16","title":"Test Case 16","text":"(Image: test_case_16e_graphic)","category":"page"},{"location":"tests/test_cases/test_case_16/#Time-Step-H-2030","page":"Test Case 16","title":"Time Step H 2030","text":"","category":"section"},{"location":"tests/test_cases/test_case_16/","page":"Test Case 16","title":"Test Case 16","text":"(Image: test_case_16f_graphic)","category":"page"},{"location":"tests/functional_tests/functional_test_3/#Functional-Test-3","page":"Functional Test 3","title":"Functional Test 3","text":"","category":"section"},{"location":"tests/functional_tests/functional_test_3/","page":"Functional Test 3","title":"Functional Test 3","text":"Functional Test 3 makes sure that model outputs can be written accordingly for the convex optimization model. The tests are split into two accounts, one for variable results and one for calculated expressions.","category":"page"},{"location":"tests/functional_tests/functional_test_3/#Checked-Variables","page":"Functional Test 3","title":"Checked Variables","text":"","category":"section"},{"location":"tests/functional_tests/functional_test_3/","page":"Functional Test 3","title":"Functional Test 3","text":"Variable File Type\nq^I_pibmy .csv\nq^P rightarrow T_pcomy .csv\nDelta^I_piby .csv\nDelta^P_pcoy .csv\nq^T rightarrow D_tncbomy .csv\nq^V_vtcdomy .csv\nDelta^V_vccy .csv\nDelta^RV_vrrccy .csv\nq^T_tacomy .csv\nDelta^A_acy .csv\nDelta^RA_arcy .csv\nq^S_stcomy .csv\nq^S_in_stcomy .csv\nq^S_out_stcomy .csv\nDelta^S_scy .csv\nDelta^RS_srcy .csv","category":"page"},{"location":"tests/functional_tests/functional_test_3/#Checked-Results","page":"Functional Test 3","title":"Checked Results","text":"","category":"section"},{"location":"tests/functional_tests/functional_test_3/","page":"Functional Test 3","title":"Functional Test 3","text":"Expression File Type\nConversion Cost .csv\nConversion Expansion Cost .csv\nDemand .csv\nGross Surplus .csv\nInput Cost .csv\nInput Expansion Cost .csv\nMarket Power Adjustment .csv\nPrices .csv\nProduction Cost .csv\nProduction Expansion Cost .csv\nStorage Cost .csv\nStorage Expansion Cost .csv\nTransport Cost .csv\nTransport Expansion Cost .csv","category":"page"},{"location":"tests/test_cases/test_case_8/#Test-Case-8","page":"Test Case 8","title":"Test Case 8","text":"","category":"section"},{"location":"tests/test_cases/test_case_8/","page":"Test Case 8","title":"Test Case 8","text":"Test Case 8 asserts, that demand for multiple commodities can be satisfied by one input. The tables below depict the sets and parameters, respectively. For both natural gas and hydrogen, prices should be equal to marginalized cost of provision. MC_Hydrogen = 2cdot09 +02 and MC_Natural Gas = 1cdot(09) +01. Hence, P_Hydrogen = 2 and P_Natural Gas = 1, with a total production quantity of 5 (4 of which are used in conversion to hydrogen and 1 of which goes to demand directly). Passing criteria can be seen below, while the figure below depicts a graphical solution.","category":"page"},{"location":"tests/test_cases/test_case_8/#Sets","page":"Test Case 8","title":"Sets","text":"","category":"section"},{"location":"tests/test_cases/test_case_8/","page":"Test Case 8","title":"Test Case 8","text":"Set Name Set Value\nmathcalA DEU_to_DEU\nmathcalAC (DEU_to_DEUCNG) (DEU_to_DEUGH2)\nmathcalC CNGGH2\nmathcalDSB Block 1\nmathcalI Natural Gas\nmathcalIOB Block 1\nmathcalM OnlyTimeStep\nmathcalN DEU\nmathcalO FES\nmathcalP P_DEU\nmathcalRA ∅\nmathcalRS ∅\nmathcalRV ∅\nmathcalS ∅\nmathcalT T_DEU\nmathcalV ∅\nmathcalVT ∅\nmathcalY 2020","category":"page"},{"location":"tests/test_cases/test_case_8/#Parameters","page":"Test Case 8","title":"Parameters","text":"","category":"section"},{"location":"tests/test_cases/test_case_8/","page":"Test Case 8","title":"Test Case 8","text":"Parameter y=2020\nfrac1  Delta _y 1\n1^NC_T_DEUDEUCNG 0\nr_y 1\nd_OnlyTimeStep 1\nc^P_P_DEUCNGFESy 05\nc^P_P_DEUGH2FESy 1\nc^Delta P_P_DEUCNGFESy 10\nc^Delta P_P_DEUGH2FESy 10\nfi^P_CNGNatural GasFES 1\nfi^P_GH2Natural GasFES 2\nL^P_CNGFES 50\nL^P_GH2FES 50\nLambda^P_P_DEUCNGFESy 10\nLambda^P_P_DEUGH2FESy 10\nLambda^I_P_DEUNatural GasBlock 1y 10\nOmega^I_P_DEUNatural GasBlock 1y 0\nc^Delta^I_P_DEUNatural GasBlock 1y 0\nLambda^T_T_DEUDEUCNGFESy 10\nOmega^P_P_DEUCNGFESy 10\nOmega^P_P_DEUGH2FESy 10\nl^A_DEU_to_DEUCNG 0\nl^A_DEU_to_DEUGH2 0\nc^A_DEU_to_DEUCNGy 0\nc^Delta A_DEU_to_DEUCNGy 0\nLambda^A_DEU_to_DEUCNGy 0\nL^A_CNG 50\nc^A_DEU_to_DEUGH2y 0\nc^Delta A_DEU_to_DEUGH2y 0\nLambda^A_DEU_to_DEUGH2y 0\nL^A_GH2 50\nc^I_l_P_DEUNatural GasBlock 1OnlyTimeStepy 05\nc^I_q_P_DEUNatural GasBlock 1OnlyTimeStepy 0\nav^I_P_DEUNatural GasBlock 1OnlyTimeStep 0\nalpha^D_DEUCNGBlock 1OnlyTimeStepy 2\nbeta^D_DEUCNGBlock 1OnlyTimeStepy -1\nalpha^D_DEUGH2Block 1OnlyTimeStepy 4\nbeta^D_DEUGH2Block 1OnlyTimeStepy -1","category":"page"},{"location":"tests/test_cases/test_case_8/#Test-Criteria","page":"Test Case 8","title":"Test Criteria","text":"","category":"section"},{"location":"tests/test_cases/test_case_8/","page":"Test Case 8","title":"Test Case 8","text":"Expression Result y=2020\ntildeP^T rightarrow D_DEUCNGBlock 1OnlyTimeStepy 1\ntildeP^T rightarrow D_DEUGH2Block 1OnlyTimeStepy 2\nq^I_P_DEUNatural GasBlock 1OnlyTimeStepy 5","category":"page"},{"location":"tests/test_cases/test_case_8/#test_case_8_graphical_solution","page":"Test Case 8","title":"Graphical Solution","text":"","category":"section"},{"location":"tests/test_cases/test_case_8/#Marginalized-Provision-Costs-and-Prices","page":"Test Case 8","title":"Marginalized Provision Costs and Prices","text":"","category":"section"},{"location":"tests/test_cases/test_case_8/#Hydrogen","page":"Test Case 8","title":"Hydrogen","text":"","category":"section"},{"location":"tests/test_cases/test_case_8/","page":"Test Case 8","title":"Test Case 8","text":"(Image: test_case_8a_graphic)","category":"page"},{"location":"tests/test_cases/test_case_8/#Natural-Gas","page":"Test Case 8","title":"Natural Gas","text":"","category":"section"},{"location":"tests/test_cases/test_case_8/","page":"Test Case 8","title":"Test Case 8","text":"(Image: test_case_8b_graphic)","category":"page"},{"location":"mathematical_formulation/notation/parameters/#Parameters","page":"Parameters","title":"Parameters","text":"","category":"section"},{"location":"mathematical_formulation/notation/parameters/","page":"Parameters","title":"Parameters","text":"Parameter Explanation\nfrac1  Delta _y Scaling of investment costs by the number of modeled years.\n1^NC_tnc Factor indicating if trader t is able to effectively withhold quantities of commodity c in node n. If set to 1, Nash-Cournot behavior is assumed in the respective node, while a value of 0 implies perfectly competitive behavior (or equivalent regulation). If a conjectural variation approach is assumed, values in between may be taken.\nav^I_pibm Availability of input i in block b during time step m.\nr_y Discount factor indicating temporal preferences with respect to yearly profits. Preferences are assumed to be consistent between players.\nd_m Weighting factor in time step m. Can be used to model aggregation.\nc^Delta^I_piby Cost coefficient of producer p for input expansion of i belonging to block b in year y.\nc^I_l_pibmy Linear operational cost coefficient of producer p for input i belonging to block b in time step m of year y.\nc^I_q_pibmy Quadratic cost coefficient of producer p for input i belonging to block b in time step m of year y.\nc^P_pcoy Production cost of producer p for commodity c of origin o in year y.\nc^Delta P_pcoy Unit cost for expanding producer p's production capacity of commodity c in year y.\nfi^P_cio Factor intensity. Indicates how many units of input i are used to produce one unit of commodity c for origin o.\nL^I_i Lifetime of capacity investments into input procurement.\nL^P_co Lifetime of technology used to produce commodity c from origin o.\nLambda^P_pcoy Exogenous capacity of producer p to produce commodity c from origin o.\nLambda^I_piby Exogenous capacity of producer p for input i in time step m of year y.\nLambda^T_tncoy Maximum quantity of commodity c from origin o sold in year y by trader t in node n.\nOmega^I_piby Capacity expansion restriction for input i to block b of producer p in year y.\nOmega^P_pcoy Capacity expansion restriction for commodity c from origin o of producer p in year y.\nfi^V_cc Factor intensity indicating how much of commodity c is used in when converting to commodity c.\nl^A_ac Loss for transporting commodity c on arc a.\nc^V_vccy Cost of converter v to convert commodity c to commodity c in y.\nc^Delta V_vccy Cost of converter v to extend conversion capacity from c to c in y.\nc^Delta^RV_vrrccy Cost of repurposing conversion capacity (rr) to (cc).\nf^RV_rrcc Factor indicating how much conversion capacity for cc is created when one unit of conversion capacity rr is repurposed.\nLambda^V_vccy Exogenous conversion capacity of converter v from c to c in year y.\nL^V_cc Lifetime of endogenously added conversion capacity from c to c.\nc^A_acy Unit cost for transporting commodity c along arc a in year y.\nc^Delta A_acy Cost for expanding transport capacity of commodity c along arc a in year y.\nc^Delta^RA_arcy Cost for repurposing transport capacity of commodity r to c.\nf^RA_rc Factor indicating how much transport capacity of c is created when one unit of capacity for r is repurposed.\nLambda^A_acy Exogenous transport capacity of commodity c on arc a.\nL^A_c Lifetime of endogenously added transport capacity of commodity c.\nl^S_scmm^+(m) Storage losses of storage system operator s when storing commodity c from time step m to m^+(m) during year y.\nc^S_in_scy Storage costs of storage system operator s when injecting commodity c in year y.\nc^S_out_scy Storage costs of storage system operator s when extracting commodity c in year y.\nc^Delta S_scy Storage capacity expansion costs of storage system operator s for commodity c in year y.\nc^Delta^RS_srcy Cost of repurposing storage capacity from r to c.\nf^RS_rc Factor indicating how much storage capacity of c is created when one unit of capacity for r is repurposed.\nLambda^S_scy Exogenous storage capacity of storage system operator s for commodity c in year y.\nOmega^S_scy Storage capacity expansion restriction of storage system operator s for commodity c in year y.\nL^S_c Technology lifetime for storage of commodity c.","category":"page"},{"location":"tests/test_cases/test_case_9/#Test-Case-9","page":"Test Case 9","title":"Test Case 9","text":"","category":"section"},{"location":"tests/test_cases/test_case_9/","page":"Test Case 9","title":"Test Case 9","text":"Test Case 9 is used to verify functionality and losses on transportation arcs with time step weights. The tables below depict the sets and parameters, respectively. Production costs in DEU are much too high. However, NLD has no own demand and can export to DEU with operational cost of 01 and losses of 10%. In addition to production and conversion costs of 1, 10% must be produced on top, and operational costs of 01 follow. Marginalized provision costs are hence 12. Tests are passed, if prices are 12 and 0 in DEU and NLD, respectively. Further, 088 must be produced in NLD, corresponding to a consumption quantity of 08 in DEU.","category":"page"},{"location":"tests/test_cases/test_case_9/","page":"Test Case 9","title":"Test Case 9","text":"The implementation in the testing routine features two separate runs for shipping and pipelines (denoted by case 9a and 9b), however, mathematical model data remain unchanged. ","category":"page"},{"location":"tests/test_cases/test_case_9/#Sets","page":"Test Case 9","title":"Sets","text":"","category":"section"},{"location":"tests/test_cases/test_case_9/","page":"Test Case 9","title":"Test Case 9","text":"Set Name Set Value\nmathcalA DEU_to_DEUDEU_to_NLDNLD_to_DEUNLD_to_NLD\nmathcalAC beginaligned(DEU_to_DEU CNG)(DEU_to_NLD CNG)  (NLD_to_DEU CNG)(NLD_to_NLD CNG) endaligned\nmathcalC CNG\nmathcalDSB Block 1\nmathcalI Natural Gas\nmathcalIOB Block 1\nmathcalM OnlyTimeStep\nmathcalN DEUNLD\nmathcalO FES\nmathcalP P_DEUP_NLD\nmathcalRA ∅\nmathcalRS ∅\nmathcalRV ∅\nmathcalS ∅\nmathcalT T_DEUT_NLD\nmathcalV ∅\nmathcalVT ∅\nmathcalY 2020","category":"page"},{"location":"tests/test_cases/test_case_9/#Parameters","page":"Test Case 9","title":"Parameters","text":"","category":"section"},{"location":"tests/test_cases/test_case_9/","page":"Test Case 9","title":"Test Case 9","text":"Parameter y=2020\nfrac1  Delta _y 1\n1^NC_T_DEUDEUCNG 0\n1^NC_T_DEUNLDCNG 0\n1^NC_T_NLDDEUCNG 0\n1^NC_T_NLDNLDCNG 0\nr_y 1\nd_OnlyTimeStep 2\nc^P_P_DEUCNGFESy 05\nc^Delta P_P_DEUCNGFESy 1\nc^P_P_NLDCNGFESy 05\nc^Delta P_P_NLDCNGFESy 1\nfi^P_CNGNatural GasFES 1\nL^P_CNGFES 50\nLambda^P_P_DEUCNGFESy 10\nLambda^I_P_DEUNatural GasBlock 1y 10\nOmega^I_P_DEUNatural GasBlock 1y 0\nc^Delta^I_P_DEUNatural GasBlock 1y 0\nLambda^T_T_DEUDEUCNGFESy 10\nLambda^T_T_DEUNLDCNGFESy 10\nOmega^P_P_DEUCNGFESy 10\nLambda^P_P_NLDCNGFESy 10\nLambda^I_P_NLDNatural GasBlock 1y 10\nOmega^I_P_NLDNatural GasBlock 1y 0\nc^Delta^I_P_NLDNatural GasBlock 1y 0\nLambda^T_T_NLDDEUCNGFESy 10\nLambda^T_T_NLDNLDCNGFESy 10\nOmega^P_P_NLDCNGFESy 10\nl^A_DEU_to_DEUCNG 00\nl^A_DEU_to_NLDCNG 00\nl^A_NLD_to_DEUCNG 01\nl^A_NLD_to_NLDCNG 00\nc^A_DEU_to_DEUCNGy 00\nc^A_DEU_to_NLDCNGy 00\nc^A_NLD_to_DEUCNGy 01\nc^A_NLD_to_NLDCNGy 00\nc^Delta A_DEU_to_DEUCNGy 0\nc^Delta A_DEU_to_NLDCNGy 0\nc^Delta A_NLD_to_DEUCNGy 0\nc^Delta A_NLD_to_NLDCNGy 0\nLambda^A_DEU_to_DEUCNGy 0\nLambda^A_DEU_to_NLDCNGy 0\nLambda^A_NLD_to_DEUCNGy 10\nLambda^A_NLD_to_NLDCNGy 0\nL^A_CNG 50\nc^I_l_P_DEUNatural GasBlock 1OnlyTimeStepy 2\nc^I_q_P_DEUNatural GasBlock 1OnlyTimeStepy 0\nav^I_P_DEUNatural GasBlock 1OnlyTimeStep 1\nc^I_l_P_NLDNatural GasBlock 1OnlyTimeStepy 05\nc^I_q_P_NLDNatural GasBlock 1OnlyTimeStepy 0\nav^I_P_NLDNatural GasBlock 1OnlyTimeStep 1\nalpha^D_DEUCNGBlock 1OnlyTimeStepy 2\nbeta^D_DEUCNGBlock 1OnlyTimeStepy -1\nalpha^D_NLDCNGBlock 1OnlyTimeStepy 0\nbeta^D_NLDCNGBlock 1OnlyTimeStepy -1","category":"page"},{"location":"tests/test_cases/test_case_9/#Test-Criteria","page":"Test Case 9","title":"Test Criteria","text":"","category":"section"},{"location":"tests/test_cases/test_case_9/","page":"Test Case 9","title":"Test Case 9","text":"Expression Result y=2020\ntildeP^T rightarrow D_DEUCNGBlock 1OnlyTimeStepy 12\ntildeP^T rightarrow D_NLDCNGBlock 1OnlyTimeStepy 00\nq^I_P_DEUNatural GasBlock 1OnlyTimeStepy 00\nq^I_P_NLDNatural GasBlock 1OnlyTimeStepy 088","category":"page"},{"location":"tests/test_cases/test_case_9/#Graphical-Solution","page":"Test Case 9","title":"Graphical Solution","text":"","category":"section"},{"location":"tests/test_cases/test_case_9/#Marginalized-Provision-Costs-and-Prices-for-Different-Nodes","page":"Test Case 9","title":"Marginalized Provision Costs and Prices for Different Nodes","text":"","category":"section"},{"location":"tests/test_cases/test_case_9/#NLD","page":"Test Case 9","title":"NLD","text":"","category":"section"},{"location":"tests/test_cases/test_case_9/","page":"Test Case 9","title":"Test Case 9","text":"(Image: test_case_9a_graphic)","category":"page"},{"location":"tests/test_cases/test_case_9/#DEU","page":"Test Case 9","title":"DEU","text":"","category":"section"},{"location":"tests/test_cases/test_case_9/","page":"Test Case 9","title":"Test Case 9","text":"(Image: test_case_9b_graphic)","category":"page"},{"location":"mathematical_formulation/notation/dual_variables/#Dual-Variables","page":"Dual Variables","title":"Dual Variables","text":"","category":"section"},{"location":"mathematical_formulation/notation/dual_variables/","page":"Dual Variables","title":"Dual Variables","text":"Variable Explanation\npi^P_ncomy Price for commodity c of origin o in time step s of year y in node n.\npi^T rightarrow D_ncbmy Demand block b's price for commodity c during time step m of year y in node n.\npi^T rightarrow V_tncomy Price paid by converter for commodity c of origin o during time step m of year y in node n.\npi^V rightarrow T_tncomy Price paid to converter for commodity c of origin o during time step m of year y in node n.\npi^T rightarrow S_tncomy Price paid by storage system operator for commodity c from origin o during time step m of year y in node n.\npi^S rightarrow T_tncomy Price paid to storage system operator for commodity c from origin o during time step m of year y in node n.\npi^A_acmy Price paid for transporting commodity c along arc a in time step m of year y.\nphi^P_pisy Dual to producer p's mass balance constraint.\nphi^T_tncosy Dual to trader t's flow mass balance constraint.\nphi^S_stcomy Dual to storage system operator s's mass balance constraint.\nLambda^I_piby Dual to producer p's input block constraint.\nlambda^P_pcosy Dual to producer p's production capacity constraint.\nlambda^T_tndoy Dual to trader t's sales restriction constraint.\nomega^I_piby Dual to producer p's input procurement capacity constraint.\nomega^P_pcoy Dual to producer p's production capacity expansion constraint.\nomega^S_scy Dual to storage system operator s's capacity expansion constraint.\nlambda^V_vccsy Dual to converter v's converstion capacity constraint.\nlambda^A_acsy Dual to storage system operator's capacity constraint.\nlambda^S_scmy Dual to storage system operator's capacity constraint.\ndelta^A_acy Dual to storage system operator's equal capacity expansion constraint.\ndelta^RA_arcy Dual to storage system operator's equal capacity repurposing constraint.","category":"page"},{"location":"tests/test_cases/test_case_4/#Test-Case-4","page":"Test Case 4","title":"Test Case 4","text":"","category":"section"},{"location":"tests/test_cases/test_case_4/","page":"Test Case 4","title":"Test Case 4","text":"Test Case 4 asserts that discounting works as intended. It depicts a perfectly competitive version of Test Case 3 over the course of two years, where the second period is discounted by 50\\%. Prices should be P=10 in both years. Social welfare corresponds to the gray triangle in the graphical solution, where the second period must be discounted accordingly. Hence, the total objective value (corresponding to social welfare in the absence of strategic behavior) must be 075. Both, prices and objective values, are tested against.","category":"page"},{"location":"tests/test_cases/test_case_4/#Sets","page":"Test Case 4","title":"Sets","text":"","category":"section"},{"location":"tests/test_cases/test_case_4/","page":"Test Case 4","title":"Test Case 4","text":"Set Name Set Value\nmathcalA DEU_to_DEU\nmathcalAC (DEU_to_DEUCNG)\nmathcalC CNG\nmathcalDSB Block 1\nmathcalI Natural Gas\nmathcalIOB Block 1\nmathcalM OnlyTimeStep\nmathcalN DEU\nmathcalO FES\nmathcalP P_DEU\nmathcalRA ∅\nmathcalRS ∅\nmathcalRV ∅\nmathcalS ∅\nmathcalT T_DEU\nmathcalV ∅\nmathcalVT ∅\nmathcalY 20202021","category":"page"},{"location":"tests/test_cases/test_case_4/#Parameters","page":"Test Case 4","title":"Parameters","text":"","category":"section"},{"location":"tests/test_cases/test_case_4/","page":"Test Case 4","title":"Test Case 4","text":"Parameter y=2020 y=2021\nfrac1  Delta _y 1 1\n1^NC_T_DEUDEUCNG 0 0\nr_y 1 05\nd_OnlyTimeStep 1 1\nc^P_P_DEUCNGFESy 05 05\nc^Delta P_P_DEUCNGFESy 1 1\nfi^P_CNGNatural GasFES 1 1\nL^P_CNGFES 50 50\nLambda^P_P_DEUCNGFESy 10 10\nLambda^I_P_DEUNatural GasBlock 1y 10 10\nOmega^I_P_DEUNatural GasBlock 1y 0 0\nc^Delta^I_P_DEUNatural GasBlock 1y 0 0\nLambda^T_T_DEUDEUCNGFESy 10 10\nOmega^P_P_DEUCNGFESy 10 10\nl^A_DEU_to_DEUCNG 0 0\nc^A_DEU_to_DEUCNGy 0 0\nc^Delta A_DEU_to_DEUCNGy 0 0\nLambda^A_DEU_to_DEUCNGy 0 0\nL^A_CNG 50 50\nc^I_l_P_DEUNatural GasBlock 1OnlyTimeStepy 05 05\nc^I_q_P_DEUNatural GasBlock 1OnlyTimeStepy 0 0\nav^I_P_DEUNatural GasBlock 1OnlyTimeStep 1 1\nalpha^D_DEUCNGBlock 1OnlyTimeStepy 2 2\nbeta^D_DEUCNGBlock 1OnlyTimeStepy -1 -1","category":"page"},{"location":"tests/test_cases/test_case_4/#Test-Criteria","page":"Test Case 4","title":"Test Criteria","text":"","category":"section"},{"location":"tests/test_cases/test_case_4/","page":"Test Case 4","title":"Test Case 4","text":"Expression Result y=2020 y=2021\ntildeP^T rightarrow D_DEUCNGBlock 1OnlyTimeStep2020 10 10\nObjective Value  0.75","category":"page"},{"location":"tests/test_cases/test_case_4/#test_case_4_graphical_solution","page":"Test Case 4","title":"Graphical Solution","text":"","category":"section"},{"location":"tests/test_cases/test_case_4/#Social-Welfare-in-Test-Years","page":"Test Case 4","title":"Social Welfare in Test Years","text":"","category":"section"},{"location":"tests/test_cases/test_case_4/#2020","page":"Test Case 4","title":"2020","text":"","category":"section"},{"location":"tests/test_cases/test_case_4/","page":"Test Case 4","title":"Test Case 4","text":"(Image: test_case_4a_graphic)","category":"page"},{"location":"tests/test_cases/test_case_4/#2021","page":"Test Case 4","title":"2021","text":"","category":"section"},{"location":"tests/test_cases/test_case_4/","page":"Test Case 4","title":"Test Case 4","text":"(Image: test_case_4b_graphic)","category":"page"},{"location":"mathematical_formulation/notation/sets/#Sets","page":"Sets","title":"Sets","text":"","category":"section"},{"location":"mathematical_formulation/notation/sets/","page":"Sets","title":"Sets","text":"Set Explanation\nmathcalA Set of all arcs.\nmathcalAC Set of all arcs (ac) on which commodity c can be transported.\nmathcalC Set of all hydrogen related commodities.\nmathcalDSB Set of demand blocks of one commodity.\nmathcalI Set of all inputs.\nmathcalIOB Set of input cost blocks.\nmathcalM Set of all time steps within one year.\nmathcalN Set of all nodes.\nmathcalO Set of all production origins.\nmathcalP Set of all producers.\nmathcalPT Set of all possible production technologies (co) of commodities c from origin o.\nmathcalRA Set of all possible repurposings of arcs between commodities (cc) .\nmathcalRS Set of all possible repurposings of storages between commodities (cc) .\nmathcalRV Set of all possible repurposings of conversion technologies between commodities ((rr)(cc)).\nmathcalS Set of all storage system operators.\nmathcalT Set of all traders.\nmathcalV Set of all converters.\nmathcalVT Set of all possible conversions (cc) between commodities.\nmathcalY Set of all years.","category":"page"},{"location":"tests/test_cases/test_case_26/#Test-Case-26","page":"Test Case 26","title":"Test Case 26","text":"","category":"section"},{"location":"tests/test_cases/test_case_26/","page":"Test Case 26","title":"Test Case 26","text":"Test Case 26 is used to assert correct working of adjacency structures for shipping and pipeline. All parameters are the same as in Test Case 9, however commodity-specific adjacency prohibits flows (since mathcalAC is empty). The tables below depict the sets and parameters. In addition, tests and a graphical solution are depicted. ","category":"page"},{"location":"tests/test_cases/test_case_26/","page":"Test Case 26","title":"Test Case 26","text":"The implementation in the testing routine features two separate runs for shipping and pipelines (denoted by case 26a and 26b), however, mathematical model data remain unchanged. ","category":"page"},{"location":"tests/test_cases/test_case_26/#Sets","page":"Test Case 26","title":"Sets","text":"","category":"section"},{"location":"tests/test_cases/test_case_26/","page":"Test Case 26","title":"Test Case 26","text":"Set Name Set Value\nmathcalA DEU_to_DEUDEU_to_NLDNLD_to_DEUNLD_to_NLD\nmathcalAC ∅\nmathcalC CNG\nmathcalDSB Block 1\nmathcalI Natural Gas\nmathcalIOB Block 1\nmathcalM OnlyTimeStep\nmathcalN DEUNLD\nmathcalO FES\nmathcalP P_DEUP_NLD\nmathcalRA ∅\nmathcalRS ∅\nmathcalRV ∅\nmathcalS ∅\nmathcalT T_DEUT_NLD\nmathcalV ∅\nmathcalVT ∅\nmathcalY 2020","category":"page"},{"location":"tests/test_cases/test_case_26/#Parameters","page":"Test Case 26","title":"Parameters","text":"","category":"section"},{"location":"tests/test_cases/test_case_26/","page":"Test Case 26","title":"Test Case 26","text":"Parameter y=2020\nfrac1  Delta _y 1\n1^NC_T_DEUDEUCNG 0\n1^NC_T_DEUNLDCNG 0\n1^NC_T_NLDDEUCNG 0\n1^NC_T_NLDNLDCNG 0\nr_y 1\nd_OnlyTimeStep 1\nc^P_P_DEUCNGFESy 05\nc^Delta P_P_DEUCNGFESy 1\nc^P_P_NLDCNGFESy 05\nc^Delta P_P_NLDCNGFESy 1\nfi^P_CNGNatural GasFES 1\nL^P_CNGFES 50\nLambda^P_P_DEUCNGFESy 10\nLambda^I_P_DEUNatural GasBlock 1y 10\nOmega^I_P_DEUNatural GasBlock 1y 0\nc^Delta^I_P_DEUNatural GasBlock 1y 0\nLambda^T_T_DEUDEUCNGFESy 10\nLambda^T_T_DEUNLDCNGFESy 10\nOmega^P_P_DEUCNGFESy 10\nLambda^P_P_NLDCNGFESy 10\nLambda^I_P_NLDNatural GasBlock 1y 10\nOmega^I_P_NLDNatural GasBlock 1y 0\nc^Delta^I_P_NLDNatural GasBlock 1y 0\nLambda^T_T_NLDDEUCNGFESy 10\nLambda^T_T_NLDNLDCNGFESy 10\nOmega^P_P_NLDCNGFESy 10\nl^A_DEU_to_DEUCNG 00\nl^A_DEU_to_NLDCNG 00\nl^A_NLD_to_DEUCNG 01\nl^A_NLD_to_NLDCNG 00\nc^A_DEU_to_DEUCNGy 00\nc^A_DEU_to_NLDCNGy 00\nc^A_NLD_to_DEUCNGy 01\nc^A_NLD_to_NLDCNGy 00\nc^Delta A_DEU_to_DEUCNGy 0\nc^Delta A_DEU_to_NLDCNGy 0\nc^Delta A_NLD_to_DEUCNGy 0\nc^Delta A_NLD_to_NLDCNGy 0\nLambda^A_DEU_to_DEUCNGy 0\nLambda^A_DEU_to_NLDCNGy 0\nLambda^A_NLD_to_DEUCNGy 10\nLambda^A_NLD_to_NLDCNGy 0\nL^A_CNG 50\nc^I_l_P_DEUNatural GasBlock 1OnlyTimeStepy 2\nc^I_q_P_DEUNatural GasBlock 1OnlyTimeStepy 0\nav^I_P_DEUNatural GasBlock 1OnlyTimeStep 1\nc^I_l_P_NLDNatural GasBlock 1OnlyTimeStepy 05\nc^I_q_P_NLDNatural GasBlock 1OnlyTimeStepy 0\nav^I_P_NLDNatural GasBlock 1OnlyTimeStep 1\nalpha^D_DEUCNGBlock 1OnlyTimeStepy 2\nbeta^D_DEUCNGBlock 1OnlyTimeStepy -1\nalpha^D_NLDCNGBlock 1OnlyTimeStepy 0\nbeta^D_NLDCNGBlock 1OnlyTimeStepy -1","category":"page"},{"location":"tests/test_cases/test_case_26/#Test-Criteria","page":"Test Case 26","title":"Test Criteria","text":"","category":"section"},{"location":"tests/test_cases/test_case_26/","page":"Test Case 26","title":"Test Case 26","text":"Expression Result y=2020\ntildeP^T rightarrow D_DEUCNGBlock 1OnlyTimeStepy 20\ntildeP^T rightarrow D_NLDCNGBlock 1OnlyTimeStepy 00\nq^I_P_DEUNatural GasBlock 1OnlyTimeStepy 00\nq^I_P_NLDNatural GasBlock 1OnlyTimeStepy 00","category":"page"},{"location":"tests/test_cases/test_case_26/#Graphical-Solution","page":"Test Case 26","title":"Graphical Solution","text":"","category":"section"},{"location":"tests/test_cases/test_case_26/#Marginalized-Provision-Costs-and-Prices-for-Different-Nodes","page":"Test Case 26","title":"Marginalized Provision Costs and Prices for Different Nodes","text":"","category":"section"},{"location":"tests/test_cases/test_case_26/","page":"Test Case 26","title":"Test Case 26","text":"Note: Marginalized costs are depicted as if adjacency was given.","category":"page"},{"location":"tests/test_cases/test_case_26/#Node-NLD","page":"Test Case 26","title":"Node NLD","text":"","category":"section"},{"location":"tests/test_cases/test_case_26/","page":"Test Case 26","title":"Test Case 26","text":"(Image: test_case_26a_graphic)","category":"page"},{"location":"tests/test_cases/test_case_26/#Node-DEU","page":"Test Case 26","title":"Node DEU","text":"","category":"section"},{"location":"tests/test_cases/test_case_26/","page":"Test Case 26","title":"Test Case 26","text":"(Image: test_case_26b_graphic)","category":"page"},{"location":"tests/general_remarks/#General-Remarks","page":"General Remarks","title":"General Remarks","text":"","category":"section"},{"location":"tests/general_remarks/","page":"General Remarks","title":"General Remarks","text":"The following sections provide a detailed account of the validation procedures. Two types of tests are carried out, the first one being fully scoped model tests, while the second tests specific functionalities.","category":"page"},{"location":"tests/general_remarks/","page":"General Remarks","title":"General Remarks","text":"The test cases contain 28 data sets with explanations regarding the desired solution. Every test has specific testing criteria that ensure the model works as desired with respect to specific functionalities. With some abuse of economic syntax, the calculations underlying each case use the notion of marginalized costs. Here, marginalized costs refer to the inclusion of investment costs into marginal costs. While this step is rarely ever plausible and hence likely counterintuitive to many economists, the specific design of test cases allows for this measure and makes for an easier illustration. ","category":"page"},{"location":"tests/general_remarks/","page":"General Remarks","title":"General Remarks","text":"note: An Example\nConsider the following simple example: A good is to be provided in a certain period. Ex-ante, there do not exist any production capacities, and all investments have a lifetime such that they remain active only for a single period. It is only rational to invest as much capacity as is needed in the next time period. Hence, investment costs may also be viewed as a special type of operational cost in this case. Considering unit cost, an investment of 5 units of money to provide 5 units of commodity comes down to operational costs of 1 unit of money per 1 unit of commodity. This aggregate of operational and marginalized investment costs is henceforth termed marginalized costs.","category":"page"},{"location":"tests/general_remarks/","page":"General Remarks","title":"General Remarks","text":"Every test case can be run for both, the optimization model formulation and as a complementarity problem. However, tests for the complementarity formulation are only run for variable values (such as quantities or prices). Tests for e.g. the objective value are not run due to a lack of the underlying function. The latter category of functional tests asserts other specific functionalities such as plotting or reporting of results works as desired.","category":"page"},{"location":"tests/general_remarks/","page":"General Remarks","title":"General Remarks","text":"Please see below for a short overview.","category":"page"},{"location":"tests/general_remarks/#Test-Case-Overview","page":"General Remarks","title":"Test Case Overview","text":"","category":"section"},{"location":"tests/general_remarks/","page":"General Remarks","title":"General Remarks","text":"Test Case Explanation\nTest Case 1 Tests inverse demand and cost data.\nTest Case 2 Tests multiple years with weights and includes conversion costs.\nTest Case 3 Tests exertion of market power with time step weights.\nTest Case 4 Tests discounting.\nTest Case 5 Tests storage and multiple time steps with more low demand weight.\nTest Case 6 Tests storage and multiple time steps with more high demand weight.\nTest Case 7 Tests same commodity from different origins.\nTest Case 8 Tests multiple demand commodities from same flow commodity.\nTest Case 9 Tests transport mechanisms including losses on arcs with time step weights.\nTest Case 10 Tests storage losses including multiple time steps.\nTest Case 11 Tests production capacity expansion, scaling of investment costs and asset lifetimes.\nTest Case 12 Tests conversion capacity expansion, scaling of investment costs and asset lifetimes.\nTest Case 13 Tests arc capacity expansion, scaling of investment costs and asset lifetimes.\nTest Case 14 Tests storage capacity expansion, scaling of investment costs and asset lifetimes.\nTest Case 15 Tests production capacity expansion limits.\nTest Case 16 Tests storage capacity expansion limits.\nTest Case 17 Tests trader sanctions.\nTest Case 18 Tests market power exertion in foreign markets including arc capacity expansion.\nTest Case 19 Tests restrictions by origin.\nTest Case 20 Tests repurposing of conversion facilities, including repurposing factors.\nTest Case 21 Tests repurposing of transportation arcs, including repurposing factors.\nTest Case 22 Tests repurposing of storage facilities, including repurposing factors.\nTest Case 23 Tests piece-wise linear operational cost for input procurement.\nTest Case 24 Tests demand from multiple blocks.\nTest Case 25 Tests input investment costs, availabilities and expansion limits.\nTest Case 26 Tests commodity adjacency structures for both pipeline and shipping.\nTest Case 27 Tests adjacency structures for arc capacity expansion.\nTest Case 28 Tests adjacency structures for arc capacity repurposing.","category":"page"},{"location":"tests/general_remarks/#Functionality-Tests-Overview","page":"General Remarks","title":"Functionality Tests Overview","text":"","category":"section"},{"location":"tests/general_remarks/","page":"General Remarks","title":"General Remarks","text":"Test Case Explanation\nFunctionality Test 1 Tests correct scaling of operational and investment costs.\nFunctionality Test 2 Tests input parameter exports.\nFunctionality Test 3 Tests that model outputs for the convex optimization problem implementation are stored correctly.\nFunctionality Test 4 Tests that model outputs for the complementarity problem implementation are stored correctly.\nFunctionality Test 5 Tests that map plotting functionality works as expected.","category":"page"},{"location":"mathematical_formulation/complementarity_problem/converter_optimality_conditions/#Converter-Optimality-Conditions","page":"Converter KKTs","title":"Converter Optimality Conditions","text":"","category":"section"},{"location":"mathematical_formulation/complementarity_problem/converter_optimality_conditions/","page":"Converter KKTs","title":"Converter KKTs","text":"beginaligned\t\nleftbeginaligned\n\t\t\t\tr_y d_m\n\t\t\t\tleft(beginaligned\n\t\t\t\t\t-pi^V rightarrow T_tncomy + fi^V_cc pi^T rightarrow V_tncomy + c^V_vccy \n\t\t\t\tendaligned right) \n\t\t\t\t+ lambda^V_vccmy\n\t\t\tendalignedright\n\t\t\tgeq 0  perp q^V_vtccomy geq 0  \n\t\t\tbeginaligned\n\t\t\t\tforall v in mathcalV t in mathcalT  (cc) in mathcalVT  o in mathcalO m in mathcalM  y in mathcalY\n\t\t\tendaligned \n\t\t\t\n\t\t\tleft(beginaligned\n\t\t\t\tfracr_y   Delta _y c^Delta V_vccy -sum_y in mathcalY  (y  y leq y +L^V_cc) sum_m in mathcalM lambda^V_vccmy\n\t\t\tendalignedright)\n\t\t\tgeq 0  perp Delta^V_vccy geq 0  \n\t\t\tbeginaligned\n\t\t\t\tforall v in mathcalV  (cc) in mathcalVT  y in mathcalY\n\t\t\tendaligned \n\t\t\t\n\t\t\tleft(beginaligned\n\t\t\t\tfracr_y   Delta _y c^Delta^RV_vrrccy  -sum_y in mathcalY  (y  y leq y + L^V_cc) sum_m in mathcalM f^RV_rrcc lambda^V_vccmy  + sum_y in mathcalY (y  y)  sum_m in mathcalM lambda^V_vrrmy  \n\t\t\tendalignedright)\n\t\t\tgeq 0  perp Delta^RV_vrrccy geq 0  \n\t\t\tbeginaligned\n\t\t\t\tforall v in mathcalV  (cc) in mathcalVT  y in mathcalY\n\t\t\tendaligned \n\t\t\t\n\t\t\tleft( \n\t\t\tbeginaligned\n\t\t\t\tLambda^V_vccy \n\t\t\t\t+ sum_y in mathcalY  y-L^V_cc leq y  y  Delta^V_vccy \n\t\t\t\t+ sum_(rr)  ((rr)(cc)) in mathcalRV sum_ y in mathcalY  y-L^V_cc leq y y f^RV_rrcc Delta^RV_vrrccy \n\t\t\t\t- sum_(rr)  ((cc)(rr)) in mathcalRV sum_ y in mathcalY  y y Delta^RV_vccrry \n\t\t\t\t- sum_o in mathcalO sum_t in mathcalT q^V_vtccomy\n\t\t\tendaligned \n\t\t\tright) \n\t\t\tgeq 0  perp lambda^V_vccmy geq 0  \n\t\t\tbeginaligned\n\t\t\t\tforall v in mathcalV  (cc) in mathcalVT  m in mathcalM y in mathcalY\n\t\t\tendaligned  \nendaligned","category":"page"},{"location":"mathematical_formulation/complementarity_problem/trader_optimality_conditions/#Trader-Optimality-Conditions","page":"Trader KKTs","title":"Trader Optimality Conditions","text":"","category":"section"},{"location":"mathematical_formulation/complementarity_problem/trader_optimality_conditions/","page":"Trader KKTs","title":"Trader KKTs","text":"beginaligned\t\nleftr_y d_m\n\t\t\tbeginaligned\n\t\t\t\tleft(beginaligned\n\t\t\t\t\t-1^NC_tnc cdot fracpartialtildeP^T rightarrow D_ncbmybiggl(Q^T rightarrow D_ncbmybiggr)partial q^T rightarrow D_tncbomy  cdot q^T rightarrow D_tncbomy   \n\t\t\t\t\t- 1^NC_tnc cdot tildeP^T rightarrow D_ncbmybiggl(Q^T rightarrow D_ncbmybiggr)  \n\t\t\t\t\t-  left( 1 - 1^NC_tnc right) cdot pi^T rightarrow D_ncbmy \n\t\t\t\tendalignedright) \n\t\t\t\t+ phi^T_tncomy + d_m  lambda^T_tncoy\n\t\t\tendaligned right\n\t\t\tgeq 0  perp q^T rightarrow D_tncbomy geq 0  \n\t\t\tbeginaligned\n\t\t\t\tforall t in mathcalT n in mathcalN  c in mathcalC b in mathcalDSB  o in mathcalO m in mathcalM  y in mathcalY\n\t\t\tendaligned \n\t\t\t\n\t\t\tleftbeginaligned\n\t\t\t\tr_y d_m\n\t\t\t\tleft(beginaligned\n\t\t\t\t\tpi^P_ncomy endalignedright) - phi^T_tncomy \n\t\t\tendalignedright\n\t\t\tgeq 0  perp q^T leftarrow P_tncomy geq 0  \n\t\t\tbeginaligned\n\t\t\t\tforall t in mathcalT n in mathcalN_p(t)  c in mathcalC o in mathcalO  m in mathcalM y in mathcalY\n\t\t\tendaligned \n\t\t\t\n\t\t\tleftbeginaligned\n\t\t\t\tphi^T_tncomy - r_y d_m\n\t\t\t\tleft(beginaligned\n\t\t\t\t\tpi^T rightarrow V_tncomy\n\t\t\t\tendalignedright)\n\t\t\tendalignedright\n\t\t\tgeq 0  perp q^T rightarrow V_tncomy geq 0  \n\t\t\tbeginaligned\n\t\t\t\tforall t in mathcalT n in mathcalN  c in mathcalC o in mathcalO  m in mathcalM y in mathcalY \n\t\t\tendaligned \n\t\t\t\n\t\t\tleftbeginaligned\n\t\t\t\tr_y d_m\n\t\t\t\tleft(beginaligned\n\t\t\t\t\tpi^V rightarrow T_tncomy \tendalignedright) - phi^T_tncomy \n\t\t\tendalignedright\n\t\t\tgeq 0  perp q^T leftarrow V_tncomy geq 0  \n\t\t\tbeginaligned\n\t\t\t\tforall t in mathcalT n in mathcalN  c in mathcalC o in mathcalO  m in mathcalM y in mathcalY\n\t\t\tendaligned \n\t\t\t\n\t\t\tleftbeginaligned\n\t\t\t\tphi^T_tncomy  - r_y d_m\n\t\t\t\tleft(beginaligned\n\t\t\t\t\tpi^T rightarrow S_tncomy\n\t\t\t\tendalignedright)\n\t\t\tendalignedright\n\t\t\tgeq 0  perp q^T rightarrow S_tncomy geq 0  \n\t\t\tbeginaligned\n\t\t\t\tforall t in mathcalT n in mathcalN  c in mathcalC o in mathcalO  m in mathcalM y in mathcalY \n\t\t\tendaligned \n\t\t\t\t\n\t\t\tleftbeginaligned\n\t\t\t\tr_y d_m\n\t\t\t\tleft(beginaligned\n\t\t\t\t\tpi^S rightarrow T_tncomy \tendalignedright) - phi^T_tncomy\n\t\t\tendalignedright\n\t\t\tgeq 0  perp q^T leftarrow S_tncomy geq 0  \n\t\t\tbeginaligned\n\t\t\t\tforall t in mathcalT n in mathcalN  c in mathcalC o in mathcalO  m in mathcalM y in mathcalY\n\t\t\tendaligned \n\t\t\t\n\t\t\tleftbeginaligned\n\t\t\t\tr_y d_m pi^A_acmy  + sum_n in mathcalN  a in mathcalA_s(n) (1+l^A_ac) phi^T_tncomy  - sum_n in mathcalN  a in mathcalA_e(n) phi^T_tncomy\n\t\t\tendalignedright\n\t\t\tgeq 0  perp q^T_tacomy geq 0 \n\t\t\tbeginaligned\n\t\t\t\tforall t in mathcalT o in mathcalO   (ac) in mathcalAC   m in mathcalM y in mathcalY\n\t\t\tendaligned \n\t\t\t\n\t\t\tleftbeginaligned\n\t\t\t\tsum_a in mathcalA_e(n)  (ac) in mathcalAC  q^T_tacomy  \n\t\t\t\t+ sum_n in mathcalN_p(t) q^T leftarrow P_tncomy \n\t\t\t\t+ q^T leftarrow V_tncomy \n\t\t\t\t+ q^T leftarrow S_tncomy  \n\t\t\t\t- sum_a in mathcalA_s(n)  (ac) in mathcalAC  (1+l^A_ac) q^T_tacomy  \n\t\t\t\t- sum_b in mathcalDSB q^T rightarrow D_tncbomy\n\t\t\t\t- q^T rightarrow V_tncomy \n\t\t\t\t- q^T rightarrow S_tncomy\n\t\t\tendalignedright\n\t\t\tgeq 0  perp phi^T_tncomy geq 0  \n\t\t\tbeginaligned\n\t\t\t\tforall t in mathcalT n in mathcalN  c in mathcalC o in mathcalO  m in mathcalM y in mathcalY\n\t\t\tendaligned \n\t\t\t\n\t\t\tleftbeginaligned\n\t\t\t\tLambda^T_tncoy - sum_m in mathcalM d_m sum_b in mathcalDSB q^T rightarrow D_tncbomy\n\t\t\tendalignedright\n\t\t\tgeq 0  perp lambda^T_tncoy geq 0  \n\t\t\tbeginaligned\n\t\t\t\tforall t in mathcalT n in mathcalN  c in mathcalC o in mathcalO  y in mathcalY\n\t\t\tendaligned  \nendaligned","category":"page"}]
}
